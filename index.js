/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is not neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
var snakey3;snakey3 =
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./assets/style/colour/_barrel.css":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hc3NldHMvc3R5bGUvY29sb3VyL19iYXJyZWwuY3NzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc25ha2V5My8uL2Fzc2V0cy9zdHlsZS9jb2xvdXIvX2JhcnJlbC5jc3M/ZTRiMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibWFwcGluZ3MiOiI7QUFBQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./assets/style/colour/_barrel.css\n");

/***/ }),

/***/ "./src/base/defs/JsUtils.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"JsUtils\": () => /* binding */ JsUtils\n/* harmony export */ });\nvar JsUtils;\r\n(function (JsUtils) {\r\n    /**\r\n     * Copied from TypeScript official docs.\r\n     *\r\n     * @param derivedCtor -\r\n     * @param baseCtors -\r\n     */\r\n    function applyMixins(derivedCtor, baseCtors) {\r\n        baseCtors.forEach((baseCtor) => {\r\n            Object.getOwnPropertyNames(baseCtor.prototype).forEach((name) => {\r\n                Object.defineProperty(derivedCtor.prototype, name, Object.getOwnPropertyDescriptor(baseCtor.prototype, name));\r\n            });\r\n        });\r\n    }\r\n    JsUtils.applyMixins = applyMixins;\r\n    /**\r\n     * @param obj\r\n     * An object with no cycles (circular references).\r\n     */\r\n    function deepFreeze(obj) {\r\n        _deepFreeze(obj);\r\n        return obj;\r\n    }\r\n    JsUtils.deepFreeze = deepFreeze;\r\n    function _deepFreeze(obj) {\r\n        for (const key of Object.getOwnPropertyNames(obj)) {\r\n            const val = obj[key];\r\n            if (typeof val === \"object\") {\r\n                deepFreeze(val);\r\n            }\r\n        }\r\n        Object.freeze(obj);\r\n    }\r\n    /**\r\n     */\r\n    let Decor;\r\n    (function (Decor) {\r\n        /**\r\n         * Aliases to decorators that make a property non-enumerable.\r\n         * They do the same thing but are used for different reasons.\r\n         */\r\n        let NonEnumerable;\r\n        (function (NonEnumerable) {\r\n            /**\r\n             * Disable enumeration to make something that is less visible\r\n             * at compile time also less visible at runtime. Prevents clutter\r\n             * when tab-completing in a developer interpreter console.\r\n             */\r\n            function access(target, propertyKey, descriptor) {\r\n                descriptor.enumerable = false;\r\n            }\r\n            NonEnumerable.access = access;\r\n            ;\r\n            /**\r\n             * Disable enumeration for cyclic fields of an object that is\r\n             * most often accessed through a containing collection.\r\n             */\r\n            function cyclic(target, propertyKey, descriptor) {\r\n                descriptor.enumerable = false;\r\n            }\r\n            NonEnumerable.cyclic = cyclic;\r\n            ;\r\n        })(NonEnumerable = Decor.NonEnumerable || (Decor.NonEnumerable = {}));\r\n    })(Decor = JsUtils.Decor || (JsUtils.Decor = {}));\r\n    /**\r\n     */\r\n    function protoNoEnum(ctor, // <- allow abstract classes\r\n    propNames) {\r\n        propNames.forEach((propName) => {\r\n            if (!Object.getOwnPropertyNames(ctor.prototype).includes(propName)) {\r\n                const msg = `\\`${ctor.name}\\` prototype has no property named \\\"${propName}\\\"`;\r\n                throw new TypeError(msg); // Mismatched property name.\r\n            }\r\n            Object.defineProperty(ctor.prototype, propName, {\r\n                enumerable: false,\r\n            });\r\n        });\r\n    }\r\n    JsUtils.protoNoEnum = protoNoEnum;\r\n    /**\r\n     */\r\n    function instNoEnum(inst, propNames) {\r\n        _configProp(inst, propNames, { enumerable: false });\r\n    }\r\n    JsUtils.instNoEnum = instNoEnum;\r\n    /**\r\n     */\r\n    function propNoWrite(inst, propNames) {\r\n        _configProp(inst, propNames, { writable: false });\r\n    }\r\n    JsUtils.propNoWrite = propNoWrite;\r\n    function _configProp(inst, propNames, descriptor) {\r\n        propNames.forEach((propName) => {\r\n            if (!Object.getOwnPropertyNames(inst).includes(propName)) {\r\n                const msg = `\\`${inst.__proto__.constructor.name}\\``\r\n                    + ` instance has no property named \\\"${propName}\\\"`;\r\n                throw new TypeError(msg); // Mismatched property name.\r\n            }\r\n            Object.defineProperty(inst, propName, descriptor);\r\n        });\r\n    }\r\n    /**\r\n     * A non-user-facing markup utility.\r\n     */\r\n    function prependComment(node, commentStr) {\r\n        node.parentNode.insertBefore(document.createComment(\" \" + commentStr + \" \"), node);\r\n    }\r\n    JsUtils.prependComment = prependComment;\r\n    /**\r\n     * Nothing ultra fancy. Does not handle Acronyms.\r\n     */\r\n    function camelCaseTransforms(camelCaseName) {\r\n        const spaceyLowercase = camelCaseName.replace(/[A-Z]/g, (letter) => \" \" + letter.toLowerCase());\r\n        return Object.freeze({\r\n            spaceyLowercase,\r\n            spaceyUppercase: spaceyLowercase.toUpperCase(),\r\n            spaceyCapitalized: spaceyLowercase.split(' ').map((word) => word.charAt(0).toUpperCase() + word.substring(1)).join(' '),\r\n        });\r\n    }\r\n    JsUtils.camelCaseTransforms = camelCaseTransforms;\r\n    /**\r\n     * A combiner for common operations surrounding `document.createElement`\r\n     * with some custom HTML attribute defaults.\r\n     *\r\n     * - Calls `Object.seal` immediately on the created HTMLElement.\r\n     * - If making a button, defaults the `type` to `button` instead of `submit`.\r\n     * - If making an anchor, defaults the rel to `noopener`.\r\n     *\r\n     * @param tagName -\r\n     * @param classNames -\r\n     * @param domProperties -\r\n     */\r\n    function mkEl(tagName, classNames, domProperties = undefined) {\r\n        const el = document.createElement(tagName);\r\n        try {\r\n            Object.seal(el);\r\n        }\r\n        catch (e) { }\r\n        ;\r\n        el.classList.add(...classNames);\r\n        if (tagName === \"button\") {\r\n            el.type = \"button\"; // instead of \"submit\".\r\n        }\r\n        else if (tagName === \"a\") {\r\n            el.rel = \"noopener\";\r\n            // ^ Should already be the default on modern browsers when\r\n            // `target === \"_blank\"`, but it doesn't hurt to set it\r\n            // anyway. We're going stricter too.\r\n        }\r\n        if (domProperties !== undefined) {\r\n            Object.assign(el, domProperties);\r\n        }\r\n        return el;\r\n    }\r\n    JsUtils.mkEl = mkEl;\r\n})(JsUtils || (JsUtils = {}));\r\nObject.freeze(JsUtils);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYmFzZS9kZWZzL0pzVXRpbHMudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbmFrZXkzLy4vc3JjL2Jhc2UvZGVmcy9Kc1V0aWxzLnRzP2ZhZTEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHZhciBKc1V0aWxzO1xyXG4oZnVuY3Rpb24gKEpzVXRpbHMpIHtcclxuICAgIC8qKlxyXG4gICAgICogQ29waWVkIGZyb20gVHlwZVNjcmlwdCBvZmZpY2lhbCBkb2NzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBkZXJpdmVkQ3RvciAtXHJcbiAgICAgKiBAcGFyYW0gYmFzZUN0b3JzIC1cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gYXBwbHlNaXhpbnMoZGVyaXZlZEN0b3IsIGJhc2VDdG9ycykge1xyXG4gICAgICAgIGJhc2VDdG9ycy5mb3JFYWNoKChiYXNlQ3RvcikgPT4ge1xyXG4gICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhiYXNlQ3Rvci5wcm90b3R5cGUpLmZvckVhY2goKG5hbWUpID0+IHtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkZXJpdmVkQ3Rvci5wcm90b3R5cGUsIG5hbWUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYmFzZUN0b3IucHJvdG90eXBlLCBuYW1lKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgSnNVdGlscy5hcHBseU1peGlucyA9IGFwcGx5TWl4aW5zO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gb2JqXHJcbiAgICAgKiBBbiBvYmplY3Qgd2l0aCBubyBjeWNsZXMgKGNpcmN1bGFyIHJlZmVyZW5jZXMpLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBkZWVwRnJlZXplKG9iaikge1xyXG4gICAgICAgIF9kZWVwRnJlZXplKG9iaik7XHJcbiAgICAgICAgcmV0dXJuIG9iajtcclxuICAgIH1cclxuICAgIEpzVXRpbHMuZGVlcEZyZWV6ZSA9IGRlZXBGcmVlemU7XHJcbiAgICBmdW5jdGlvbiBfZGVlcEZyZWV6ZShvYmopIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbCA9IG9ialtrZXldO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgZGVlcEZyZWV6ZSh2YWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5mcmVlemUob2JqKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICovXHJcbiAgICBsZXQgRGVjb3I7XHJcbiAgICAoZnVuY3Rpb24gKERlY29yKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWxpYXNlcyB0byBkZWNvcmF0b3JzIHRoYXQgbWFrZSBhIHByb3BlcnR5IG5vbi1lbnVtZXJhYmxlLlxyXG4gICAgICAgICAqIFRoZXkgZG8gdGhlIHNhbWUgdGhpbmcgYnV0IGFyZSB1c2VkIGZvciBkaWZmZXJlbnQgcmVhc29ucy5cclxuICAgICAgICAgKi9cclxuICAgICAgICBsZXQgTm9uRW51bWVyYWJsZTtcclxuICAgICAgICAoZnVuY3Rpb24gKE5vbkVudW1lcmFibGUpIHtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIERpc2FibGUgZW51bWVyYXRpb24gdG8gbWFrZSBzb21ldGhpbmcgdGhhdCBpcyBsZXNzIHZpc2libGVcclxuICAgICAgICAgICAgICogYXQgY29tcGlsZSB0aW1lIGFsc28gbGVzcyB2aXNpYmxlIGF0IHJ1bnRpbWUuIFByZXZlbnRzIGNsdXR0ZXJcclxuICAgICAgICAgICAgICogd2hlbiB0YWItY29tcGxldGluZyBpbiBhIGRldmVsb3BlciBpbnRlcnByZXRlciBjb25zb2xlLlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgZnVuY3Rpb24gYWNjZXNzKHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpIHtcclxuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIE5vbkVudW1lcmFibGUuYWNjZXNzID0gYWNjZXNzO1xyXG4gICAgICAgICAgICA7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBEaXNhYmxlIGVudW1lcmF0aW9uIGZvciBjeWNsaWMgZmllbGRzIG9mIGFuIG9iamVjdCB0aGF0IGlzXHJcbiAgICAgICAgICAgICAqIG1vc3Qgb2Z0ZW4gYWNjZXNzZWQgdGhyb3VnaCBhIGNvbnRhaW5pbmcgY29sbGVjdGlvbi5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGN5Y2xpYyh0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKSB7XHJcbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBOb25FbnVtZXJhYmxlLmN5Y2xpYyA9IGN5Y2xpYztcclxuICAgICAgICAgICAgO1xyXG4gICAgICAgIH0pKE5vbkVudW1lcmFibGUgPSBEZWNvci5Ob25FbnVtZXJhYmxlIHx8IChEZWNvci5Ob25FbnVtZXJhYmxlID0ge30pKTtcclxuICAgIH0pKERlY29yID0gSnNVdGlscy5EZWNvciB8fCAoSnNVdGlscy5EZWNvciA9IHt9KSk7XHJcbiAgICAvKipcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gcHJvdG9Ob0VudW0oY3RvciwgLy8gPC0gYWxsb3cgYWJzdHJhY3QgY2xhc3Nlc1xyXG4gICAgcHJvcE5hbWVzKSB7XHJcbiAgICAgICAgcHJvcE5hbWVzLmZvckVhY2goKHByb3BOYW1lKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoY3Rvci5wcm90b3R5cGUpLmluY2x1ZGVzKHByb3BOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbXNnID0gYFxcYCR7Y3Rvci5uYW1lfVxcYCBwcm90b3R5cGUgaGFzIG5vIHByb3BlcnR5IG5hbWVkIFxcXCIke3Byb3BOYW1lfVxcXCJgO1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihtc2cpOyAvLyBNaXNtYXRjaGVkIHByb3BlcnR5IG5hbWUuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0b3IucHJvdG90eXBlLCBwcm9wTmFtZSwge1xyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgSnNVdGlscy5wcm90b05vRW51bSA9IHByb3RvTm9FbnVtO1xyXG4gICAgLyoqXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGluc3ROb0VudW0oaW5zdCwgcHJvcE5hbWVzKSB7XHJcbiAgICAgICAgX2NvbmZpZ1Byb3AoaW5zdCwgcHJvcE5hbWVzLCB7IGVudW1lcmFibGU6IGZhbHNlIH0pO1xyXG4gICAgfVxyXG4gICAgSnNVdGlscy5pbnN0Tm9FbnVtID0gaW5zdE5vRW51bTtcclxuICAgIC8qKlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBwcm9wTm9Xcml0ZShpbnN0LCBwcm9wTmFtZXMpIHtcclxuICAgICAgICBfY29uZmlnUHJvcChpbnN0LCBwcm9wTmFtZXMsIHsgd3JpdGFibGU6IGZhbHNlIH0pO1xyXG4gICAgfVxyXG4gICAgSnNVdGlscy5wcm9wTm9Xcml0ZSA9IHByb3BOb1dyaXRlO1xyXG4gICAgZnVuY3Rpb24gX2NvbmZpZ1Byb3AoaW5zdCwgcHJvcE5hbWVzLCBkZXNjcmlwdG9yKSB7XHJcbiAgICAgICAgcHJvcE5hbWVzLmZvckVhY2goKHByb3BOYW1lKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaW5zdCkuaW5jbHVkZXMocHJvcE5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtc2cgPSBgXFxgJHtpbnN0Ll9fcHJvdG9fXy5jb25zdHJ1Y3Rvci5uYW1lfVxcYGBcclxuICAgICAgICAgICAgICAgICAgICArIGAgaW5zdGFuY2UgaGFzIG5vIHByb3BlcnR5IG5hbWVkIFxcXCIke3Byb3BOYW1lfVxcXCJgO1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihtc2cpOyAvLyBNaXNtYXRjaGVkIHByb3BlcnR5IG5hbWUuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGluc3QsIHByb3BOYW1lLCBkZXNjcmlwdG9yKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQSBub24tdXNlci1mYWNpbmcgbWFya3VwIHV0aWxpdHkuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHByZXBlbmRDb21tZW50KG5vZGUsIGNvbW1lbnRTdHIpIHtcclxuICAgICAgICBub2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoXCIgXCIgKyBjb21tZW50U3RyICsgXCIgXCIpLCBub2RlKTtcclxuICAgIH1cclxuICAgIEpzVXRpbHMucHJlcGVuZENvbW1lbnQgPSBwcmVwZW5kQ29tbWVudDtcclxuICAgIC8qKlxyXG4gICAgICogTm90aGluZyB1bHRyYSBmYW5jeS4gRG9lcyBub3QgaGFuZGxlIEFjcm9ueW1zLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBjYW1lbENhc2VUcmFuc2Zvcm1zKGNhbWVsQ2FzZU5hbWUpIHtcclxuICAgICAgICBjb25zdCBzcGFjZXlMb3dlcmNhc2UgPSBjYW1lbENhc2VOYW1lLnJlcGxhY2UoL1tBLVpdL2csIChsZXR0ZXIpID0+IFwiIFwiICsgbGV0dGVyLnRvTG93ZXJDYXNlKCkpO1xyXG4gICAgICAgIHJldHVybiBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgc3BhY2V5TG93ZXJjYXNlLFxyXG4gICAgICAgICAgICBzcGFjZXlVcHBlcmNhc2U6IHNwYWNleUxvd2VyY2FzZS50b1VwcGVyQ2FzZSgpLFxyXG4gICAgICAgICAgICBzcGFjZXlDYXBpdGFsaXplZDogc3BhY2V5TG93ZXJjYXNlLnNwbGl0KCcgJykubWFwKCh3b3JkKSA9PiB3b3JkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgd29yZC5zdWJzdHJpbmcoMSkpLmpvaW4oJyAnKSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIEpzVXRpbHMuY2FtZWxDYXNlVHJhbnNmb3JtcyA9IGNhbWVsQ2FzZVRyYW5zZm9ybXM7XHJcbiAgICAvKipcclxuICAgICAqIEEgY29tYmluZXIgZm9yIGNvbW1vbiBvcGVyYXRpb25zIHN1cnJvdW5kaW5nIGBkb2N1bWVudC5jcmVhdGVFbGVtZW50YFxyXG4gICAgICogd2l0aCBzb21lIGN1c3RvbSBIVE1MIGF0dHJpYnV0ZSBkZWZhdWx0cy5cclxuICAgICAqXHJcbiAgICAgKiAtIENhbGxzIGBPYmplY3Quc2VhbGAgaW1tZWRpYXRlbHkgb24gdGhlIGNyZWF0ZWQgSFRNTEVsZW1lbnQuXHJcbiAgICAgKiAtIElmIG1ha2luZyBhIGJ1dHRvbiwgZGVmYXVsdHMgdGhlIGB0eXBlYCB0byBgYnV0dG9uYCBpbnN0ZWFkIG9mIGBzdWJtaXRgLlxyXG4gICAgICogLSBJZiBtYWtpbmcgYW4gYW5jaG9yLCBkZWZhdWx0cyB0aGUgcmVsIHRvIGBub29wZW5lcmAuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHRhZ05hbWUgLVxyXG4gICAgICogQHBhcmFtIGNsYXNzTmFtZXMgLVxyXG4gICAgICogQHBhcmFtIGRvbVByb3BlcnRpZXMgLVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBta0VsKHRhZ05hbWUsIGNsYXNzTmFtZXMsIGRvbVByb3BlcnRpZXMgPSB1bmRlZmluZWQpIHtcclxuICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgT2JqZWN0LnNlYWwoZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkgeyB9XHJcbiAgICAgICAgO1xyXG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoLi4uY2xhc3NOYW1lcyk7XHJcbiAgICAgICAgaWYgKHRhZ05hbWUgPT09IFwiYnV0dG9uXCIpIHtcclxuICAgICAgICAgICAgZWwudHlwZSA9IFwiYnV0dG9uXCI7IC8vIGluc3RlYWQgb2YgXCJzdWJtaXRcIi5cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGFnTmFtZSA9PT0gXCJhXCIpIHtcclxuICAgICAgICAgICAgZWwucmVsID0gXCJub29wZW5lclwiO1xyXG4gICAgICAgICAgICAvLyBeIFNob3VsZCBhbHJlYWR5IGJlIHRoZSBkZWZhdWx0IG9uIG1vZGVybiBicm93c2VycyB3aGVuXHJcbiAgICAgICAgICAgIC8vIGB0YXJnZXQgPT09IFwiX2JsYW5rXCJgLCBidXQgaXQgZG9lc24ndCBodXJ0IHRvIHNldCBpdFxyXG4gICAgICAgICAgICAvLyBhbnl3YXkuIFdlJ3JlIGdvaW5nIHN0cmljdGVyIHRvby5cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRvbVByb3BlcnRpZXMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGVsLCBkb21Qcm9wZXJ0aWVzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGVsO1xyXG4gICAgfVxyXG4gICAgSnNVdGlscy5ta0VsID0gbWtFbDtcclxufSkoSnNVdGlscyB8fCAoSnNVdGlscyA9IHt9KSk7XHJcbk9iamVjdC5mcmVlemUoSnNVdGlscyk7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/base/defs/JsUtils.ts\n");

/***/ }),

/***/ "./src/base/defs/OmHooks.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"OmHooks\": () => /* binding */ OmHooks\n/* harmony export */ });\n/* harmony import */ var defs_JsUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/base/defs/JsUtils.ts\");\n\r\n/**\r\n * # DOM / CSSOM Hook Strings\r\n *\r\n * Must be matched exactly in the html, css, and javascript.\r\n *\r\n * Dataset values are defined for the javascript domain. The CSS should\r\n * use the CSS-cased version with dash-separators.\r\n */\r\nvar OmHooks;\r\n(function (OmHooks) {\r\n    OmHooks.GLOBAL_IDS = {\r\n        PUBLIC_GAME_HOST_URLS: \"public-game-hosts-list\",\r\n        CURRENT_HOST_GROUPS: \"current-host-groups-list\",\r\n    };\r\n    /**\r\n     * See `:/assets/style/utils.css`.\r\n     */\r\n    let General;\r\n    (function (General) {\r\n        General.Class = {\r\n            TEXT_SELECT_DISABLED: \"text-select-disabled\",\r\n            FILL_PARENT: \"fill-parent\",\r\n            CENTER_CONTENTS: \"center-contents\",\r\n            STACK_CONTENTS: \"stack-contents\",\r\n            INPUT_GROUP: \"sk-input-group\",\r\n            INPUT_GROUP_ITEM: \"sk-input-group-item\",\r\n        };\r\n        General.Dataset = {\r\n            COLOUR_SCHEME: \"skColourScheme\",\r\n        };\r\n    })(General = OmHooks.General || (OmHooks.General = {}));\r\n    let Tile;\r\n    (function (Tile) {\r\n        Tile.Class = {\r\n            BASE: \"tile\",\r\n            /**\r\n             * Must precede the char and seq elements to allow CSS\r\n             * to use the variable-distance same-parent precede\r\n             * selection operator (\"~\").\r\n             */\r\n            POINTER_HB: \"tile__pointer-hitbox\",\r\n            LANG_CHAR_WRAP: \"tile__char\",\r\n            LANG_SEQ: \"tile__seq\",\r\n        };\r\n        Tile.Dataset = {\r\n            HEALTH: \"health\",\r\n        };\r\n    })(Tile = OmHooks.Tile || (OmHooks.Tile = {}));\r\n    let Grid;\r\n    (function (Grid) {\r\n        Grid.Class = {\r\n            GRID: \"game-grid\",\r\n            SCROLL_OUTER: \"game-grid-scroll-outer\",\r\n            SCROLL_INNER: \"game-grid-scroll-inner\",\r\n            IMPL_BODY: \"game-grid-impl-body\",\r\n            KBD_DC: \"game-grid-kbd-dc\",\r\n            KBD_DC_ICON: \"game-grid-kbd-dc__icon\",\r\n            PAUSE_OL: \"game-grid-pause-overlay\",\r\n            PAUSE_OL_ICON: \"game-grid-pause-overlay__icon\",\r\n            PLAYER_IOB_ROOT: \"grid-player-intersection-root\"\r\n        };\r\n        Grid.Dataset = {\r\n            /**\r\n             * Used as a part of CSS selector queries to specify coord-\r\n             * system-specific styling. This is set on the `impl-body`\r\n             * element. See `VisibleGridMixin`.\r\n             */\r\n            IMPL_COORD_SYS: \"coordSys\",\r\n            /**\r\n             * This is set on the `game-grid` element by `__PlayScreen`.\r\n             */\r\n            GAME_STATE: { KEY: \"gameState\", VALUES: {\r\n                    PLAYING: \"playing\", PAUSED: \"paused\", OVER: \"over\",\r\n                } },\r\n        };\r\n    })(Grid = OmHooks.Grid || (OmHooks.Grid = {}));\r\n    let Player;\r\n    (function (Player) {\r\n        Player.Class = {\r\n            BASE: \"player\",\r\n            FACE: \"player__face\",\r\n            DOWNED_OVERLAY: \"player__downed-overlay\",\r\n            SHORT_SPOTLIGHT: \"player__spotlight-short\",\r\n            LONG_SPOTLIGHT: \"player__spotlight-long\",\r\n        };\r\n        Player.Dataset = {\r\n            DOWNED: { KEY: \"downed\", VALUES: {\r\n                    TEAM: \"team\", SELF: \"self\", NO: \"no\",\r\n                } },\r\n            FACE_SWATCH: \"face\",\r\n        };\r\n    })(Player = OmHooks.Player || (OmHooks.Player = {}));\r\n    let Screen;\r\n    (function (Screen) {\r\n        Screen.Id = {\r\n            ALL_SCREENS: \"all-screens-container\",\r\n            SCREEN_TINT: \"screen-tint\",\r\n        };\r\n        Screen.Class = {\r\n            BASE: \"sk-screen\",\r\n            NAV_NEXT: \"screen--next-button\",\r\n            NAV_PREV: \"screen--prev-button\",\r\n        };\r\n        Screen.Dataset = {\r\n            CURRENT: \"current\",\r\n        };\r\n        let Impl;\r\n        (function (Impl) {\r\n            let Home;\r\n            (function (Home) {\r\n                Home.Class = {\r\n                    BASE: \"screen-home\",\r\n                    NAV: \"screen-home--nav\",\r\n                    NAV_PLAY_OFFLINE: \"screen-home--nav--play-offline\",\r\n                    NAV_PLAY_ONLINE: \"screen-home--nav--play-online\",\r\n                    NAV_HOW_TO_PLAY: \"screen-home--nav--how-to-play\",\r\n                    NAV_HOW_TO_HOST: \"screen-home--nav--how-to-host\",\r\n                    NAV_COLOURS: \"screen-home--nav--colour-scheme\",\r\n                    NAV_VIEW_REPO: \"screen-home--nav--goto-repo\",\r\n                    NAV_RPT_ISSUE: \"screen-home--nav--report-issue\",\r\n                };\r\n            })(Home = Impl.Home || (Impl.Home = {}));\r\n            let ColourCtrl;\r\n            (function (ColourCtrl) {\r\n                ColourCtrl.Class = {\r\n                    BASE: \"screen-colour\",\r\n                    OPTION: \"screen-colour--opt\",\r\n                    OPTION_LABEL: \"screen-colour--opt-label\",\r\n                    OPTION_LABEL_TITLE: \"screen-colour--opt-label--title\",\r\n                    OPTION_LABEL_AUTHOR: \"screen-colour--opt-label--author\",\r\n                };\r\n            })(ColourCtrl = Impl.ColourCtrl || (Impl.ColourCtrl = {}));\r\n            let Play;\r\n            (function (Play) {\r\n                Play.Class = {\r\n                    BASE: \"screen-play\",\r\n                    GRID_WRAPPER: \"screen-play--grid-wrapper\",\r\n                    CONTROLS_BAR: \"screen-play--controls-bar\",\r\n                    PLAYERS_BAR: \"screen-play--players-bar\",\r\n                };\r\n            })(Play = Impl.Play || (Impl.Play = {}));\r\n            let Setup;\r\n            (function (Setup) {\r\n                Setup.Class = {\r\n                    BASE: \"screen-setup\",\r\n                    LANG_SEL: \"screen-setup--lang-sel\",\r\n                    LANG_WEIGHT_EXAGG: \"screen-setup--lang-weight-exagg\",\r\n                };\r\n                Setup.Id = {\r\n                    LANG_WEIGHT_EXAGGERATION_LIST: \"screen-setup--lang-weight-exaggeration-list\",\r\n                };\r\n            })(Setup = Impl.Setup || (Impl.Setup = {}));\r\n            let GroupJoiner;\r\n            (function (GroupJoiner) {\r\n                GroupJoiner.Class = {\r\n                    BASE: \"screen-joiner\",\r\n                    CONTENT_WRAPPER: \"screen-joiner--content-wrapper\",\r\n                    HOST_URL: \"screen-joiner--host-url\",\r\n                    GROUP_NAME: \"screen-joiner--group-name\",\r\n                    PASSPHRASE: \"screen-joiner--passphrase\",\r\n                };\r\n            })(GroupJoiner = Impl.GroupJoiner || (Impl.GroupJoiner = {}));\r\n            let GroupLobby;\r\n            (function (GroupLobby) {\r\n                GroupLobby.Class = {\r\n                    BASE: \"screen-lobby\",\r\n                    SEC_CLIENT_INFO: \"screen-lobby--client-info-section\",\r\n                    SEC_TEAMS: \"screen-lobby--teams-section\",\r\n                    TEAM: \"screen-lobby--team\",\r\n                    PLAYER: \"screen-lobby--player\",\r\n                    PLAYER_NAME: \"screen-lobby--player__name\",\r\n                };\r\n            })(GroupLobby = Impl.GroupLobby || (Impl.GroupLobby = {}));\r\n        })(Impl = Screen.Impl || (Screen.Impl = {}));\r\n    })(Screen = OmHooks.Screen || (OmHooks.Screen = {}));\r\n    let SkPickOne;\r\n    (function (SkPickOne) {\r\n        SkPickOne.Class = {\r\n            BASE: \"sk-pick-one\",\r\n            OPT_BASE: \"sk-pick-one--opt\",\r\n        };\r\n    })(SkPickOne = OmHooks.SkPickOne || (OmHooks.SkPickOne = {}));\r\n})(OmHooks || (OmHooks = {}));\r\nObject.freeze(OmHooks.Player.Dataset.DOWNED); // String with properties.\r\ndefs_JsUtils__WEBPACK_IMPORTED_MODULE_0__.JsUtils.deepFreeze(OmHooks);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYmFzZS9kZWZzL09tSG9va3MudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbmFrZXkzLy4vc3JjL2Jhc2UvZGVmcy9PbUhvb2tzLnRzP2VhNTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSnNVdGlscyB9IGZyb20gXCJkZWZzL0pzVXRpbHNcIjtcclxuLyoqXHJcbiAqICMgRE9NIC8gQ1NTT00gSG9vayBTdHJpbmdzXHJcbiAqXHJcbiAqIE11c3QgYmUgbWF0Y2hlZCBleGFjdGx5IGluIHRoZSBodG1sLCBjc3MsIGFuZCBqYXZhc2NyaXB0LlxyXG4gKlxyXG4gKiBEYXRhc2V0IHZhbHVlcyBhcmUgZGVmaW5lZCBmb3IgdGhlIGphdmFzY3JpcHQgZG9tYWluLiBUaGUgQ1NTIHNob3VsZFxyXG4gKiB1c2UgdGhlIENTUy1jYXNlZCB2ZXJzaW9uIHdpdGggZGFzaC1zZXBhcmF0b3JzLlxyXG4gKi9cclxuZXhwb3J0IHZhciBPbUhvb2tzO1xyXG4oZnVuY3Rpb24gKE9tSG9va3MpIHtcclxuICAgIE9tSG9va3MuR0xPQkFMX0lEUyA9IHtcclxuICAgICAgICBQVUJMSUNfR0FNRV9IT1NUX1VSTFM6IFwicHVibGljLWdhbWUtaG9zdHMtbGlzdFwiLFxyXG4gICAgICAgIENVUlJFTlRfSE9TVF9HUk9VUFM6IFwiY3VycmVudC1ob3N0LWdyb3Vwcy1saXN0XCIsXHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZWUgYDovYXNzZXRzL3N0eWxlL3V0aWxzLmNzc2AuXHJcbiAgICAgKi9cclxuICAgIGxldCBHZW5lcmFsO1xyXG4gICAgKGZ1bmN0aW9uIChHZW5lcmFsKSB7XHJcbiAgICAgICAgR2VuZXJhbC5DbGFzcyA9IHtcclxuICAgICAgICAgICAgVEVYVF9TRUxFQ1RfRElTQUJMRUQ6IFwidGV4dC1zZWxlY3QtZGlzYWJsZWRcIixcclxuICAgICAgICAgICAgRklMTF9QQVJFTlQ6IFwiZmlsbC1wYXJlbnRcIixcclxuICAgICAgICAgICAgQ0VOVEVSX0NPTlRFTlRTOiBcImNlbnRlci1jb250ZW50c1wiLFxyXG4gICAgICAgICAgICBTVEFDS19DT05URU5UUzogXCJzdGFjay1jb250ZW50c1wiLFxyXG4gICAgICAgICAgICBJTlBVVF9HUk9VUDogXCJzay1pbnB1dC1ncm91cFwiLFxyXG4gICAgICAgICAgICBJTlBVVF9HUk9VUF9JVEVNOiBcInNrLWlucHV0LWdyb3VwLWl0ZW1cIixcclxuICAgICAgICB9O1xyXG4gICAgICAgIEdlbmVyYWwuRGF0YXNldCA9IHtcclxuICAgICAgICAgICAgQ09MT1VSX1NDSEVNRTogXCJza0NvbG91clNjaGVtZVwiLFxyXG4gICAgICAgIH07XHJcbiAgICB9KShHZW5lcmFsID0gT21Ib29rcy5HZW5lcmFsIHx8IChPbUhvb2tzLkdlbmVyYWwgPSB7fSkpO1xyXG4gICAgbGV0IFRpbGU7XHJcbiAgICAoZnVuY3Rpb24gKFRpbGUpIHtcclxuICAgICAgICBUaWxlLkNsYXNzID0ge1xyXG4gICAgICAgICAgICBCQVNFOiBcInRpbGVcIixcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIE11c3QgcHJlY2VkZSB0aGUgY2hhciBhbmQgc2VxIGVsZW1lbnRzIHRvIGFsbG93IENTU1xyXG4gICAgICAgICAgICAgKiB0byB1c2UgdGhlIHZhcmlhYmxlLWRpc3RhbmNlIHNhbWUtcGFyZW50IHByZWNlZGVcclxuICAgICAgICAgICAgICogc2VsZWN0aW9uIG9wZXJhdG9yIChcIn5cIikuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBQT0lOVEVSX0hCOiBcInRpbGVfX3BvaW50ZXItaGl0Ym94XCIsXHJcbiAgICAgICAgICAgIExBTkdfQ0hBUl9XUkFQOiBcInRpbGVfX2NoYXJcIixcclxuICAgICAgICAgICAgTEFOR19TRVE6IFwidGlsZV9fc2VxXCIsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBUaWxlLkRhdGFzZXQgPSB7XHJcbiAgICAgICAgICAgIEhFQUxUSDogXCJoZWFsdGhcIixcclxuICAgICAgICB9O1xyXG4gICAgfSkoVGlsZSA9IE9tSG9va3MuVGlsZSB8fCAoT21Ib29rcy5UaWxlID0ge30pKTtcclxuICAgIGxldCBHcmlkO1xyXG4gICAgKGZ1bmN0aW9uIChHcmlkKSB7XHJcbiAgICAgICAgR3JpZC5DbGFzcyA9IHtcclxuICAgICAgICAgICAgR1JJRDogXCJnYW1lLWdyaWRcIixcclxuICAgICAgICAgICAgU0NST0xMX09VVEVSOiBcImdhbWUtZ3JpZC1zY3JvbGwtb3V0ZXJcIixcclxuICAgICAgICAgICAgU0NST0xMX0lOTkVSOiBcImdhbWUtZ3JpZC1zY3JvbGwtaW5uZXJcIixcclxuICAgICAgICAgICAgSU1QTF9CT0RZOiBcImdhbWUtZ3JpZC1pbXBsLWJvZHlcIixcclxuICAgICAgICAgICAgS0JEX0RDOiBcImdhbWUtZ3JpZC1rYmQtZGNcIixcclxuICAgICAgICAgICAgS0JEX0RDX0lDT046IFwiZ2FtZS1ncmlkLWtiZC1kY19faWNvblwiLFxyXG4gICAgICAgICAgICBQQVVTRV9PTDogXCJnYW1lLWdyaWQtcGF1c2Utb3ZlcmxheVwiLFxyXG4gICAgICAgICAgICBQQVVTRV9PTF9JQ09OOiBcImdhbWUtZ3JpZC1wYXVzZS1vdmVybGF5X19pY29uXCIsXHJcbiAgICAgICAgICAgIFBMQVlFUl9JT0JfUk9PVDogXCJncmlkLXBsYXllci1pbnRlcnNlY3Rpb24tcm9vdFwiXHJcbiAgICAgICAgfTtcclxuICAgICAgICBHcmlkLkRhdGFzZXQgPSB7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBVc2VkIGFzIGEgcGFydCBvZiBDU1Mgc2VsZWN0b3IgcXVlcmllcyB0byBzcGVjaWZ5IGNvb3JkLVxyXG4gICAgICAgICAgICAgKiBzeXN0ZW0tc3BlY2lmaWMgc3R5bGluZy4gVGhpcyBpcyBzZXQgb24gdGhlIGBpbXBsLWJvZHlgXHJcbiAgICAgICAgICAgICAqIGVsZW1lbnQuIFNlZSBgVmlzaWJsZUdyaWRNaXhpbmAuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBJTVBMX0NPT1JEX1NZUzogXCJjb29yZFN5c1wiLFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogVGhpcyBpcyBzZXQgb24gdGhlIGBnYW1lLWdyaWRgIGVsZW1lbnQgYnkgYF9fUGxheVNjcmVlbmAuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBHQU1FX1NUQVRFOiB7IEtFWTogXCJnYW1lU3RhdGVcIiwgVkFMVUVTOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgUExBWUlORzogXCJwbGF5aW5nXCIsIFBBVVNFRDogXCJwYXVzZWRcIiwgT1ZFUjogXCJvdmVyXCIsXHJcbiAgICAgICAgICAgICAgICB9IH0sXHJcbiAgICAgICAgfTtcclxuICAgIH0pKEdyaWQgPSBPbUhvb2tzLkdyaWQgfHwgKE9tSG9va3MuR3JpZCA9IHt9KSk7XHJcbiAgICBsZXQgUGxheWVyO1xyXG4gICAgKGZ1bmN0aW9uIChQbGF5ZXIpIHtcclxuICAgICAgICBQbGF5ZXIuQ2xhc3MgPSB7XHJcbiAgICAgICAgICAgIEJBU0U6IFwicGxheWVyXCIsXHJcbiAgICAgICAgICAgIEZBQ0U6IFwicGxheWVyX19mYWNlXCIsXHJcbiAgICAgICAgICAgIERPV05FRF9PVkVSTEFZOiBcInBsYXllcl9fZG93bmVkLW92ZXJsYXlcIixcclxuICAgICAgICAgICAgU0hPUlRfU1BPVExJR0hUOiBcInBsYXllcl9fc3BvdGxpZ2h0LXNob3J0XCIsXHJcbiAgICAgICAgICAgIExPTkdfU1BPVExJR0hUOiBcInBsYXllcl9fc3BvdGxpZ2h0LWxvbmdcIixcclxuICAgICAgICB9O1xyXG4gICAgICAgIFBsYXllci5EYXRhc2V0ID0ge1xyXG4gICAgICAgICAgICBET1dORUQ6IHsgS0VZOiBcImRvd25lZFwiLCBWQUxVRVM6IHtcclxuICAgICAgICAgICAgICAgICAgICBURUFNOiBcInRlYW1cIiwgU0VMRjogXCJzZWxmXCIsIE5POiBcIm5vXCIsXHJcbiAgICAgICAgICAgICAgICB9IH0sXHJcbiAgICAgICAgICAgIEZBQ0VfU1dBVENIOiBcImZhY2VcIixcclxuICAgICAgICB9O1xyXG4gICAgfSkoUGxheWVyID0gT21Ib29rcy5QbGF5ZXIgfHwgKE9tSG9va3MuUGxheWVyID0ge30pKTtcclxuICAgIGxldCBTY3JlZW47XHJcbiAgICAoZnVuY3Rpb24gKFNjcmVlbikge1xyXG4gICAgICAgIFNjcmVlbi5JZCA9IHtcclxuICAgICAgICAgICAgQUxMX1NDUkVFTlM6IFwiYWxsLXNjcmVlbnMtY29udGFpbmVyXCIsXHJcbiAgICAgICAgICAgIFNDUkVFTl9USU5UOiBcInNjcmVlbi10aW50XCIsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY3JlZW4uQ2xhc3MgPSB7XHJcbiAgICAgICAgICAgIEJBU0U6IFwic2stc2NyZWVuXCIsXHJcbiAgICAgICAgICAgIE5BVl9ORVhUOiBcInNjcmVlbi0tbmV4dC1idXR0b25cIixcclxuICAgICAgICAgICAgTkFWX1BSRVY6IFwic2NyZWVuLS1wcmV2LWJ1dHRvblwiLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NyZWVuLkRhdGFzZXQgPSB7XHJcbiAgICAgICAgICAgIENVUlJFTlQ6IFwiY3VycmVudFwiLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGV0IEltcGw7XHJcbiAgICAgICAgKGZ1bmN0aW9uIChJbXBsKSB7XHJcbiAgICAgICAgICAgIGxldCBIb21lO1xyXG4gICAgICAgICAgICAoZnVuY3Rpb24gKEhvbWUpIHtcclxuICAgICAgICAgICAgICAgIEhvbWUuQ2xhc3MgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgQkFTRTogXCJzY3JlZW4taG9tZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIE5BVjogXCJzY3JlZW4taG9tZS0tbmF2XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgTkFWX1BMQVlfT0ZGTElORTogXCJzY3JlZW4taG9tZS0tbmF2LS1wbGF5LW9mZmxpbmVcIixcclxuICAgICAgICAgICAgICAgICAgICBOQVZfUExBWV9PTkxJTkU6IFwic2NyZWVuLWhvbWUtLW5hdi0tcGxheS1vbmxpbmVcIixcclxuICAgICAgICAgICAgICAgICAgICBOQVZfSE9XX1RPX1BMQVk6IFwic2NyZWVuLWhvbWUtLW5hdi0taG93LXRvLXBsYXlcIixcclxuICAgICAgICAgICAgICAgICAgICBOQVZfSE9XX1RPX0hPU1Q6IFwic2NyZWVuLWhvbWUtLW5hdi0taG93LXRvLWhvc3RcIixcclxuICAgICAgICAgICAgICAgICAgICBOQVZfQ09MT1VSUzogXCJzY3JlZW4taG9tZS0tbmF2LS1jb2xvdXItc2NoZW1lXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgTkFWX1ZJRVdfUkVQTzogXCJzY3JlZW4taG9tZS0tbmF2LS1nb3RvLXJlcG9cIixcclxuICAgICAgICAgICAgICAgICAgICBOQVZfUlBUX0lTU1VFOiBcInNjcmVlbi1ob21lLS1uYXYtLXJlcG9ydC1pc3N1ZVwiLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSkoSG9tZSA9IEltcGwuSG9tZSB8fCAoSW1wbC5Ib21lID0ge30pKTtcclxuICAgICAgICAgICAgbGV0IENvbG91ckN0cmw7XHJcbiAgICAgICAgICAgIChmdW5jdGlvbiAoQ29sb3VyQ3RybCkge1xyXG4gICAgICAgICAgICAgICAgQ29sb3VyQ3RybC5DbGFzcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBCQVNFOiBcInNjcmVlbi1jb2xvdXJcIixcclxuICAgICAgICAgICAgICAgICAgICBPUFRJT046IFwic2NyZWVuLWNvbG91ci0tb3B0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX0xBQkVMOiBcInNjcmVlbi1jb2xvdXItLW9wdC1sYWJlbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9MQUJFTF9USVRMRTogXCJzY3JlZW4tY29sb3VyLS1vcHQtbGFiZWwtLXRpdGxlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX0xBQkVMX0FVVEhPUjogXCJzY3JlZW4tY29sb3VyLS1vcHQtbGFiZWwtLWF1dGhvclwiLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSkoQ29sb3VyQ3RybCA9IEltcGwuQ29sb3VyQ3RybCB8fCAoSW1wbC5Db2xvdXJDdHJsID0ge30pKTtcclxuICAgICAgICAgICAgbGV0IFBsYXk7XHJcbiAgICAgICAgICAgIChmdW5jdGlvbiAoUGxheSkge1xyXG4gICAgICAgICAgICAgICAgUGxheS5DbGFzcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBCQVNFOiBcInNjcmVlbi1wbGF5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgR1JJRF9XUkFQUEVSOiBcInNjcmVlbi1wbGF5LS1ncmlkLXdyYXBwZXJcIixcclxuICAgICAgICAgICAgICAgICAgICBDT05UUk9MU19CQVI6IFwic2NyZWVuLXBsYXktLWNvbnRyb2xzLWJhclwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFBMQVlFUlNfQkFSOiBcInNjcmVlbi1wbGF5LS1wbGF5ZXJzLWJhclwiLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSkoUGxheSA9IEltcGwuUGxheSB8fCAoSW1wbC5QbGF5ID0ge30pKTtcclxuICAgICAgICAgICAgbGV0IFNldHVwO1xyXG4gICAgICAgICAgICAoZnVuY3Rpb24gKFNldHVwKSB7XHJcbiAgICAgICAgICAgICAgICBTZXR1cC5DbGFzcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBCQVNFOiBcInNjcmVlbi1zZXR1cFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIExBTkdfU0VMOiBcInNjcmVlbi1zZXR1cC0tbGFuZy1zZWxcIixcclxuICAgICAgICAgICAgICAgICAgICBMQU5HX1dFSUdIVF9FWEFHRzogXCJzY3JlZW4tc2V0dXAtLWxhbmctd2VpZ2h0LWV4YWdnXCIsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgU2V0dXAuSWQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgTEFOR19XRUlHSFRfRVhBR0dFUkFUSU9OX0xJU1Q6IFwic2NyZWVuLXNldHVwLS1sYW5nLXdlaWdodC1leGFnZ2VyYXRpb24tbGlzdFwiLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSkoU2V0dXAgPSBJbXBsLlNldHVwIHx8IChJbXBsLlNldHVwID0ge30pKTtcclxuICAgICAgICAgICAgbGV0IEdyb3VwSm9pbmVyO1xyXG4gICAgICAgICAgICAoZnVuY3Rpb24gKEdyb3VwSm9pbmVyKSB7XHJcbiAgICAgICAgICAgICAgICBHcm91cEpvaW5lci5DbGFzcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBCQVNFOiBcInNjcmVlbi1qb2luZXJcIixcclxuICAgICAgICAgICAgICAgICAgICBDT05URU5UX1dSQVBQRVI6IFwic2NyZWVuLWpvaW5lci0tY29udGVudC13cmFwcGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgSE9TVF9VUkw6IFwic2NyZWVuLWpvaW5lci0taG9zdC11cmxcIixcclxuICAgICAgICAgICAgICAgICAgICBHUk9VUF9OQU1FOiBcInNjcmVlbi1qb2luZXItLWdyb3VwLW5hbWVcIixcclxuICAgICAgICAgICAgICAgICAgICBQQVNTUEhSQVNFOiBcInNjcmVlbi1qb2luZXItLXBhc3NwaHJhc2VcIixcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pKEdyb3VwSm9pbmVyID0gSW1wbC5Hcm91cEpvaW5lciB8fCAoSW1wbC5Hcm91cEpvaW5lciA9IHt9KSk7XHJcbiAgICAgICAgICAgIGxldCBHcm91cExvYmJ5O1xyXG4gICAgICAgICAgICAoZnVuY3Rpb24gKEdyb3VwTG9iYnkpIHtcclxuICAgICAgICAgICAgICAgIEdyb3VwTG9iYnkuQ2xhc3MgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgQkFTRTogXCJzY3JlZW4tbG9iYnlcIixcclxuICAgICAgICAgICAgICAgICAgICBTRUNfQ0xJRU5UX0lORk86IFwic2NyZWVuLWxvYmJ5LS1jbGllbnQtaW5mby1zZWN0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgU0VDX1RFQU1TOiBcInNjcmVlbi1sb2JieS0tdGVhbXMtc2VjdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFRFQU06IFwic2NyZWVuLWxvYmJ5LS10ZWFtXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgUExBWUVSOiBcInNjcmVlbi1sb2JieS0tcGxheWVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgUExBWUVSX05BTUU6IFwic2NyZWVuLWxvYmJ5LS1wbGF5ZXJfX25hbWVcIixcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pKEdyb3VwTG9iYnkgPSBJbXBsLkdyb3VwTG9iYnkgfHwgKEltcGwuR3JvdXBMb2JieSA9IHt9KSk7XHJcbiAgICAgICAgfSkoSW1wbCA9IFNjcmVlbi5JbXBsIHx8IChTY3JlZW4uSW1wbCA9IHt9KSk7XHJcbiAgICB9KShTY3JlZW4gPSBPbUhvb2tzLlNjcmVlbiB8fCAoT21Ib29rcy5TY3JlZW4gPSB7fSkpO1xyXG4gICAgbGV0IFNrUGlja09uZTtcclxuICAgIChmdW5jdGlvbiAoU2tQaWNrT25lKSB7XHJcbiAgICAgICAgU2tQaWNrT25lLkNsYXNzID0ge1xyXG4gICAgICAgICAgICBCQVNFOiBcInNrLXBpY2stb25lXCIsXHJcbiAgICAgICAgICAgIE9QVF9CQVNFOiBcInNrLXBpY2stb25lLS1vcHRcIixcclxuICAgICAgICB9O1xyXG4gICAgfSkoU2tQaWNrT25lID0gT21Ib29rcy5Ta1BpY2tPbmUgfHwgKE9tSG9va3MuU2tQaWNrT25lID0ge30pKTtcclxufSkoT21Ib29rcyB8fCAoT21Ib29rcyA9IHt9KSk7XHJcbk9iamVjdC5mcmVlemUoT21Ib29rcy5QbGF5ZXIuRGF0YXNldC5ET1dORUQpOyAvLyBTdHJpbmcgd2l0aCBwcm9wZXJ0aWVzLlxyXG5Kc1V0aWxzLmRlZXBGcmVlemUoT21Ib29rcyk7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/base/defs/OmHooks.ts\n");

/***/ }),

/***/ "./src/base/defs/OnlineDefs.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SkServer\": () => /* binding */ SkServer,\n/* harmony export */   \"Group\": () => /* binding */ Group,\n/* harmony export */   \"GroupEv\": () => /* binding */ GroupEv,\n/* harmony export */   \"GameEv\": () => /* binding */ GameEv\n/* harmony export */ });\n/**\r\n */\r\nclass SkServer {\r\n}\r\n(function (SkServer) {\r\n    SkServer.PROTOCOL = \"http://\";\r\n    SkServer.DEFAULT_PORT = 8080;\r\n    /**\r\n     * This is placed in this file so that it gets bundled into both the\r\n     * client and the server code, which both require access to it.\r\n     */\r\n    let Nsps;\r\n    (function (Nsps) {\r\n        Nsps[\"GROUP_JOINER\"] = \"/joiner.\";\r\n        Nsps[\"GROUP_LOBBY_PREFIX\"] = \"/group.\";\r\n        Nsps[\"GROUP_GAME_PREFIX\"] = \"/group-game.\";\r\n    })(Nsps = SkServer.Nsps || (SkServer.Nsps = {}));\r\n})(SkServer || (SkServer = {}));\r\nObject.freeze(SkServer);\r\nObject.freeze(SkServer.prototype);\r\n/**\r\n */\r\nclass Group {\r\n}\r\n(function (Group) {\r\n    let Socket;\r\n    (function (Socket) {\r\n        let UserInfoChange;\r\n        (function (UserInfoChange) {\r\n            /**\r\n             * Client emits this with a descriptor of requested username and teamId.\r\n             * Server broadcasts a response\r\n             */\r\n            UserInfoChange.EVENT_NAME = \"group-lobby-user-info-change\";\r\n        })(UserInfoChange = Socket.UserInfoChange || (Socket.UserInfoChange = {}));\r\n    })(Socket = Group.Socket || (Group.Socket = {}));\r\n    let Name;\r\n    (function (Name) {\r\n        Name.REGEXP = /(?:[a-zA-Z0-9:-]+)/;\r\n        Name.MaxLength = 30;\r\n    })(Name = Group.Name || (Group.Name = {}));\r\n    let Passphrase;\r\n    (function (Passphrase) {\r\n        Passphrase.REGEXP = /(?:[a-zA-Z0-9:-]*)/;\r\n        Passphrase.MaxLength = 30;\r\n    })(Passphrase = Group.Passphrase || (Group.Passphrase = {}));\r\n    Group.GameServerReconnectionAttempts = 2;\r\n    Group.DEFAULT_TTL = 20; // seconds\r\n    let Exist;\r\n    (function (Exist) {\r\n        Exist.EVENT_NAME = \"group-exist\";\r\n        /**\r\n         * Sent by the client to request the creation of a new group.\r\n         *\r\n         * Do not use this to request joining a group - That is done\r\n         * by opening a socket to that group's namespace and putting\r\n         * the passphrase in the request's query.\r\n         */\r\n        class RequestCreate {\r\n            constructor(groupName, passphrase) {\r\n                this.groupName = groupName;\r\n                this.passphrase = passphrase;\r\n            }\r\n        }\r\n        Exist.RequestCreate = RequestCreate;\r\n        ;\r\n        (function (RequestCreate) {\r\n            let Response;\r\n            (function (Response) {\r\n                Response[\"OKAY\"] = \"okay\";\r\n                Response[\"NOPE\"] = \"nope\";\r\n            })(Response = RequestCreate.Response || (RequestCreate.Response = {}));\r\n            ;\r\n        })(RequestCreate = Exist.RequestCreate || (Exist.RequestCreate = {}));\r\n        let Status;\r\n        (function (Status) {\r\n            Status[\"IN_LOBBY\"] = \"in-lobby\";\r\n            Status[\"IN_GAME\"] = \"in-game\";\r\n            Status[\"DELETE\"] = \"delete\";\r\n        })(Status = Exist.Status || (Exist.Status = {}));\r\n        ;\r\n    })(Exist = Group.Exist || (Group.Exist = {}));\r\n})(Group || (Group = {}));\r\nObject.freeze(Group);\r\nObject.freeze(Group.prototype);\r\n/**\r\n */\r\nvar GroupEv;\r\n(function (GroupEv) {\r\n    /**\r\n     * On the clientside, this event is registered to the group socket.\r\n     */\r\n    GroupEv[\"CREATE_GAME\"] = \"group-game-create\";\r\n})(GroupEv || (GroupEv = {}));\r\n/**\r\n */\r\nvar GameEv;\r\n(function (GameEv) {\r\n    /**\r\n     */\r\n    GameEv[\"CREATE_GAME\"] = \"game-create\";\r\n    /**\r\n     * Upon constructing a _new_ game, the server waits for all clients\r\n     * to send this event to indicate that they have finished building\r\n     * any necessary HTML, and are now ready to receive the serialized\r\n     * reset-state.\r\n     */\r\n    GameEv[\"RESET\"] = \"game-reset\";\r\n    /**\r\n     * Client uses this event during reset procedure after receiving\r\n     * the serialized reset-state to indicate that it is ready for\r\n     * the game to be un-paused.\r\n     */\r\n    GameEv[\"UNPAUSE\"] = \"game-unpause\";\r\n    /**\r\n     */\r\n    GameEv[\"PAUSE\"] = \"game-pause\";\r\n    /**\r\n     * The server will send this event with no arguments to indicate\r\n     * that everyone must now return to the lobby, or with a socket\r\n     * ID as an argument to indicate that all players operated by\r\n     * a client with that socket ID are out of the game.\r\n     */\r\n    GameEv[\"RETURN_TO_LOBBY\"] = \"game-return-to-lobby\";\r\n})(GameEv || (GameEv = {}));\r\n;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYmFzZS9kZWZzL09ubGluZURlZnMudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbmFrZXkzLy4vc3JjL2Jhc2UvZGVmcy9PbmxpbmVEZWZzLnRzP2U5NjgiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU2tTZXJ2ZXIge1xyXG59XHJcbihmdW5jdGlvbiAoU2tTZXJ2ZXIpIHtcclxuICAgIFNrU2VydmVyLlBST1RPQ09MID0gXCJodHRwOi8vXCI7XHJcbiAgICBTa1NlcnZlci5ERUZBVUxUX1BPUlQgPSA4MDgwO1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGlzIHBsYWNlZCBpbiB0aGlzIGZpbGUgc28gdGhhdCBpdCBnZXRzIGJ1bmRsZWQgaW50byBib3RoIHRoZVxyXG4gICAgICogY2xpZW50IGFuZCB0aGUgc2VydmVyIGNvZGUsIHdoaWNoIGJvdGggcmVxdWlyZSBhY2Nlc3MgdG8gaXQuXHJcbiAgICAgKi9cclxuICAgIGxldCBOc3BzO1xyXG4gICAgKGZ1bmN0aW9uIChOc3BzKSB7XHJcbiAgICAgICAgTnNwc1tcIkdST1VQX0pPSU5FUlwiXSA9IFwiL2pvaW5lci5cIjtcclxuICAgICAgICBOc3BzW1wiR1JPVVBfTE9CQllfUFJFRklYXCJdID0gXCIvZ3JvdXAuXCI7XHJcbiAgICAgICAgTnNwc1tcIkdST1VQX0dBTUVfUFJFRklYXCJdID0gXCIvZ3JvdXAtZ2FtZS5cIjtcclxuICAgIH0pKE5zcHMgPSBTa1NlcnZlci5Oc3BzIHx8IChTa1NlcnZlci5Oc3BzID0ge30pKTtcclxufSkoU2tTZXJ2ZXIgfHwgKFNrU2VydmVyID0ge30pKTtcclxuT2JqZWN0LmZyZWV6ZShTa1NlcnZlcik7XHJcbk9iamVjdC5mcmVlemUoU2tTZXJ2ZXIucHJvdG90eXBlKTtcclxuLyoqXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgR3JvdXAge1xyXG59XHJcbihmdW5jdGlvbiAoR3JvdXApIHtcclxuICAgIGxldCBTb2NrZXQ7XHJcbiAgICAoZnVuY3Rpb24gKFNvY2tldCkge1xyXG4gICAgICAgIGxldCBVc2VySW5mb0NoYW5nZTtcclxuICAgICAgICAoZnVuY3Rpb24gKFVzZXJJbmZvQ2hhbmdlKSB7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBDbGllbnQgZW1pdHMgdGhpcyB3aXRoIGEgZGVzY3JpcHRvciBvZiByZXF1ZXN0ZWQgdXNlcm5hbWUgYW5kIHRlYW1JZC5cclxuICAgICAgICAgICAgICogU2VydmVyIGJyb2FkY2FzdHMgYSByZXNwb25zZVxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgVXNlckluZm9DaGFuZ2UuRVZFTlRfTkFNRSA9IFwiZ3JvdXAtbG9iYnktdXNlci1pbmZvLWNoYW5nZVwiO1xyXG4gICAgICAgIH0pKFVzZXJJbmZvQ2hhbmdlID0gU29ja2V0LlVzZXJJbmZvQ2hhbmdlIHx8IChTb2NrZXQuVXNlckluZm9DaGFuZ2UgPSB7fSkpO1xyXG4gICAgfSkoU29ja2V0ID0gR3JvdXAuU29ja2V0IHx8IChHcm91cC5Tb2NrZXQgPSB7fSkpO1xyXG4gICAgbGV0IE5hbWU7XHJcbiAgICAoZnVuY3Rpb24gKE5hbWUpIHtcclxuICAgICAgICBOYW1lLlJFR0VYUCA9IC8oPzpbYS16QS1aMC05Oi1dKykvO1xyXG4gICAgICAgIE5hbWUuTWF4TGVuZ3RoID0gMzA7XHJcbiAgICB9KShOYW1lID0gR3JvdXAuTmFtZSB8fCAoR3JvdXAuTmFtZSA9IHt9KSk7XHJcbiAgICBsZXQgUGFzc3BocmFzZTtcclxuICAgIChmdW5jdGlvbiAoUGFzc3BocmFzZSkge1xyXG4gICAgICAgIFBhc3NwaHJhc2UuUkVHRVhQID0gLyg/OlthLXpBLVowLTk6LV0qKS87XHJcbiAgICAgICAgUGFzc3BocmFzZS5NYXhMZW5ndGggPSAzMDtcclxuICAgIH0pKFBhc3NwaHJhc2UgPSBHcm91cC5QYXNzcGhyYXNlIHx8IChHcm91cC5QYXNzcGhyYXNlID0ge30pKTtcclxuICAgIEdyb3VwLkdhbWVTZXJ2ZXJSZWNvbm5lY3Rpb25BdHRlbXB0cyA9IDI7XHJcbiAgICBHcm91cC5ERUZBVUxUX1RUTCA9IDIwOyAvLyBzZWNvbmRzXHJcbiAgICBsZXQgRXhpc3Q7XHJcbiAgICAoZnVuY3Rpb24gKEV4aXN0KSB7XHJcbiAgICAgICAgRXhpc3QuRVZFTlRfTkFNRSA9IFwiZ3JvdXAtZXhpc3RcIjtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTZW50IGJ5IHRoZSBjbGllbnQgdG8gcmVxdWVzdCB0aGUgY3JlYXRpb24gb2YgYSBuZXcgZ3JvdXAuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBEbyBub3QgdXNlIHRoaXMgdG8gcmVxdWVzdCBqb2luaW5nIGEgZ3JvdXAgLSBUaGF0IGlzIGRvbmVcclxuICAgICAgICAgKiBieSBvcGVuaW5nIGEgc29ja2V0IHRvIHRoYXQgZ3JvdXAncyBuYW1lc3BhY2UgYW5kIHB1dHRpbmdcclxuICAgICAgICAgKiB0aGUgcGFzc3BocmFzZSBpbiB0aGUgcmVxdWVzdCdzIHF1ZXJ5LlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNsYXNzIFJlcXVlc3RDcmVhdGUge1xyXG4gICAgICAgICAgICBjb25zdHJ1Y3Rvcihncm91cE5hbWUsIHBhc3NwaHJhc2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3JvdXBOYW1lID0gZ3JvdXBOYW1lO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXNzcGhyYXNlID0gcGFzc3BocmFzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBFeGlzdC5SZXF1ZXN0Q3JlYXRlID0gUmVxdWVzdENyZWF0ZTtcclxuICAgICAgICA7XHJcbiAgICAgICAgKGZ1bmN0aW9uIChSZXF1ZXN0Q3JlYXRlKSB7XHJcbiAgICAgICAgICAgIGxldCBSZXNwb25zZTtcclxuICAgICAgICAgICAgKGZ1bmN0aW9uIChSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgUmVzcG9uc2VbXCJPS0FZXCJdID0gXCJva2F5XCI7XHJcbiAgICAgICAgICAgICAgICBSZXNwb25zZVtcIk5PUEVcIl0gPSBcIm5vcGVcIjtcclxuICAgICAgICAgICAgfSkoUmVzcG9uc2UgPSBSZXF1ZXN0Q3JlYXRlLlJlc3BvbnNlIHx8IChSZXF1ZXN0Q3JlYXRlLlJlc3BvbnNlID0ge30pKTtcclxuICAgICAgICAgICAgO1xyXG4gICAgICAgIH0pKFJlcXVlc3RDcmVhdGUgPSBFeGlzdC5SZXF1ZXN0Q3JlYXRlIHx8IChFeGlzdC5SZXF1ZXN0Q3JlYXRlID0ge30pKTtcclxuICAgICAgICBsZXQgU3RhdHVzO1xyXG4gICAgICAgIChmdW5jdGlvbiAoU3RhdHVzKSB7XHJcbiAgICAgICAgICAgIFN0YXR1c1tcIklOX0xPQkJZXCJdID0gXCJpbi1sb2JieVwiO1xyXG4gICAgICAgICAgICBTdGF0dXNbXCJJTl9HQU1FXCJdID0gXCJpbi1nYW1lXCI7XHJcbiAgICAgICAgICAgIFN0YXR1c1tcIkRFTEVURVwiXSA9IFwiZGVsZXRlXCI7XHJcbiAgICAgICAgfSkoU3RhdHVzID0gRXhpc3QuU3RhdHVzIHx8IChFeGlzdC5TdGF0dXMgPSB7fSkpO1xyXG4gICAgICAgIDtcclxuICAgIH0pKEV4aXN0ID0gR3JvdXAuRXhpc3QgfHwgKEdyb3VwLkV4aXN0ID0ge30pKTtcclxufSkoR3JvdXAgfHwgKEdyb3VwID0ge30pKTtcclxuT2JqZWN0LmZyZWV6ZShHcm91cCk7XHJcbk9iamVjdC5mcmVlemUoR3JvdXAucHJvdG90eXBlKTtcclxuLyoqXHJcbiAqL1xyXG5leHBvcnQgdmFyIEdyb3VwRXY7XHJcbihmdW5jdGlvbiAoR3JvdXBFdikge1xyXG4gICAgLyoqXHJcbiAgICAgKiBPbiB0aGUgY2xpZW50c2lkZSwgdGhpcyBldmVudCBpcyByZWdpc3RlcmVkIHRvIHRoZSBncm91cCBzb2NrZXQuXHJcbiAgICAgKi9cclxuICAgIEdyb3VwRXZbXCJDUkVBVEVfR0FNRVwiXSA9IFwiZ3JvdXAtZ2FtZS1jcmVhdGVcIjtcclxufSkoR3JvdXBFdiB8fCAoR3JvdXBFdiA9IHt9KSk7XHJcbi8qKlxyXG4gKi9cclxuZXhwb3J0IHZhciBHYW1lRXY7XHJcbihmdW5jdGlvbiAoR2FtZUV2KSB7XHJcbiAgICAvKipcclxuICAgICAqL1xyXG4gICAgR2FtZUV2W1wiQ1JFQVRFX0dBTUVcIl0gPSBcImdhbWUtY3JlYXRlXCI7XHJcbiAgICAvKipcclxuICAgICAqIFVwb24gY29uc3RydWN0aW5nIGEgX25ld18gZ2FtZSwgdGhlIHNlcnZlciB3YWl0cyBmb3IgYWxsIGNsaWVudHNcclxuICAgICAqIHRvIHNlbmQgdGhpcyBldmVudCB0byBpbmRpY2F0ZSB0aGF0IHRoZXkgaGF2ZSBmaW5pc2hlZCBidWlsZGluZ1xyXG4gICAgICogYW55IG5lY2Vzc2FyeSBIVE1MLCBhbmQgYXJlIG5vdyByZWFkeSB0byByZWNlaXZlIHRoZSBzZXJpYWxpemVkXHJcbiAgICAgKiByZXNldC1zdGF0ZS5cclxuICAgICAqL1xyXG4gICAgR2FtZUV2W1wiUkVTRVRcIl0gPSBcImdhbWUtcmVzZXRcIjtcclxuICAgIC8qKlxyXG4gICAgICogQ2xpZW50IHVzZXMgdGhpcyBldmVudCBkdXJpbmcgcmVzZXQgcHJvY2VkdXJlIGFmdGVyIHJlY2VpdmluZ1xyXG4gICAgICogdGhlIHNlcmlhbGl6ZWQgcmVzZXQtc3RhdGUgdG8gaW5kaWNhdGUgdGhhdCBpdCBpcyByZWFkeSBmb3JcclxuICAgICAqIHRoZSBnYW1lIHRvIGJlIHVuLXBhdXNlZC5cclxuICAgICAqL1xyXG4gICAgR2FtZUV2W1wiVU5QQVVTRVwiXSA9IFwiZ2FtZS11bnBhdXNlXCI7XHJcbiAgICAvKipcclxuICAgICAqL1xyXG4gICAgR2FtZUV2W1wiUEFVU0VcIl0gPSBcImdhbWUtcGF1c2VcIjtcclxuICAgIC8qKlxyXG4gICAgICogVGhlIHNlcnZlciB3aWxsIHNlbmQgdGhpcyBldmVudCB3aXRoIG5vIGFyZ3VtZW50cyB0byBpbmRpY2F0ZVxyXG4gICAgICogdGhhdCBldmVyeW9uZSBtdXN0IG5vdyByZXR1cm4gdG8gdGhlIGxvYmJ5LCBvciB3aXRoIGEgc29ja2V0XHJcbiAgICAgKiBJRCBhcyBhbiBhcmd1bWVudCB0byBpbmRpY2F0ZSB0aGF0IGFsbCBwbGF5ZXJzIG9wZXJhdGVkIGJ5XHJcbiAgICAgKiBhIGNsaWVudCB3aXRoIHRoYXQgc29ja2V0IElEIGFyZSBvdXQgb2YgdGhlIGdhbWUuXHJcbiAgICAgKi9cclxuICAgIEdhbWVFdltcIlJFVFVSTl9UT19MT0JCWVwiXSA9IFwiZ2FtZS1yZXR1cm4tdG8tbG9iYnlcIjtcclxufSkoR2FtZUV2IHx8IChHYW1lRXYgPSB7fSkpO1xyXG47XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/base/defs/OnlineDefs.ts\n");

/***/ }),

/***/ "./src/base/defs/StorageHooks.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"StorageHooks\": () => /* binding */ StorageHooks\n/* harmony export */ });\n/* harmony import */ var defs_TypeDefs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/base/defs/TypeDefs.ts\");\n\r\n/**\r\n * https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API\r\n * https://www.w3schools.com/html/html5_webstorage.asp\r\n */\r\nvar StorageHooks;\r\n(function (StorageHooks) {\r\n    // Let's just take a moment to appreciate that TypeScript\r\n    // actually recognizes references to the example object.\r\n    StorageHooks.Local = _makeSmartStorage(localStorage, {\r\n        musicVolume: 1,\r\n        sfxVolume: 1,\r\n        /**\r\n         * Only used to highlight the last-used colour scheme when\r\n         * cold-initializing the colour selection screen.\r\n         */\r\n        colourSchemeId: \"\",\r\n        /**\r\n         * Stores a css rule string for quick recovery on page load\r\n         * without even needing any colour scheme CSS files loaded.\r\n         *\r\n         * This is also referenced in a script tag in index.html.\r\n         */\r\n        colourSchemeStyleLiteral: \"\",\r\n        gamePresetId: \"\",\r\n        username: \"\",\r\n        avatar: \"\",\r\n    });\r\n    function getLastUserInfo() {\r\n        var _a, _b;\r\n        return Object.freeze({\r\n            username: (_a = StorageHooks.Local.username) !== null && _a !== void 0 ? _a : \"unnamed player\",\r\n            teamId: 0,\r\n            avatar: (_b = StorageHooks.Local.avatar) !== null && _b !== void 0 ? _b : defs_TypeDefs__WEBPACK_IMPORTED_MODULE_0__.Player.Avatar.GET_RANDOM()\r\n        });\r\n    }\r\n    StorageHooks.getLastUserInfo = getLastUserInfo;\r\n    /**\r\n     */\r\n    StorageHooks.Session = _makeSmartStorage(localStorage, Object.freeze({}));\r\n    let IDB;\r\n    (function (IDB) {\r\n        /**\r\n         */\r\n        IDB.DB_NAME = \"snakeyDB\";\r\n        /**\r\n         */\r\n        let UserGamePresetStore;\r\n        (function (UserGamePresetStore) {\r\n            UserGamePresetStore.STORE_NAME = \"userGamePresets\";\r\n        })(UserGamePresetStore = IDB.UserGamePresetStore || (IDB.UserGamePresetStore = {}));\r\n        Object.freeze(UserGamePresetStore);\r\n    })(IDB = StorageHooks.IDB || (StorageHooks.IDB = {}));\r\n    Object.freeze(IDB);\r\n    /**\r\n     */\r\n    function _makeSmartStorage(storage, example) {\r\n        const smart = {};\r\n        (Object.keys(example)).forEach((key) => {\r\n            // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty\r\n            Object.defineProperty(smart, key, {\r\n                enumerable: true,\r\n                get: () => {\r\n                    const val = storage.getItem(key);\r\n                    return (val === null) ? undefined : JSON.parse(val);\r\n                },\r\n                set: (val) => {\r\n                    storage.setItem(key, JSON.stringify(val));\r\n                },\r\n            });\r\n        });\r\n        Object.freeze(smart);\r\n        return smart;\r\n    }\r\n})(StorageHooks || (StorageHooks = {}));\r\nObject.freeze(StorageHooks);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYmFzZS9kZWZzL1N0b3JhZ2VIb29rcy50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL3NuYWtleTMvLi9zcmMvYmFzZS9kZWZzL1N0b3JhZ2VIb29rcy50cz83MDg4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBsYXllciB9IGZyb20gXCJkZWZzL1R5cGVEZWZzXCI7XHJcbi8qKlxyXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViX1N0b3JhZ2VfQVBJL1VzaW5nX3RoZV9XZWJfU3RvcmFnZV9BUElcclxuICogaHR0cHM6Ly93d3cudzNzY2hvb2xzLmNvbS9odG1sL2h0bWw1X3dlYnN0b3JhZ2UuYXNwXHJcbiAqL1xyXG5leHBvcnQgdmFyIFN0b3JhZ2VIb29rcztcclxuKGZ1bmN0aW9uIChTdG9yYWdlSG9va3MpIHtcclxuICAgIC8vIExldCdzIGp1c3QgdGFrZSBhIG1vbWVudCB0byBhcHByZWNpYXRlIHRoYXQgVHlwZVNjcmlwdFxyXG4gICAgLy8gYWN0dWFsbHkgcmVjb2duaXplcyByZWZlcmVuY2VzIHRvIHRoZSBleGFtcGxlIG9iamVjdC5cclxuICAgIFN0b3JhZ2VIb29rcy5Mb2NhbCA9IF9tYWtlU21hcnRTdG9yYWdlKGxvY2FsU3RvcmFnZSwge1xyXG4gICAgICAgIG11c2ljVm9sdW1lOiAxLFxyXG4gICAgICAgIHNmeFZvbHVtZTogMSxcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBPbmx5IHVzZWQgdG8gaGlnaGxpZ2h0IHRoZSBsYXN0LXVzZWQgY29sb3VyIHNjaGVtZSB3aGVuXHJcbiAgICAgICAgICogY29sZC1pbml0aWFsaXppbmcgdGhlIGNvbG91ciBzZWxlY3Rpb24gc2NyZWVuLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNvbG91clNjaGVtZUlkOiBcIlwiLFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFN0b3JlcyBhIGNzcyBydWxlIHN0cmluZyBmb3IgcXVpY2sgcmVjb3Zlcnkgb24gcGFnZSBsb2FkXHJcbiAgICAgICAgICogd2l0aG91dCBldmVuIG5lZWRpbmcgYW55IGNvbG91ciBzY2hlbWUgQ1NTIGZpbGVzIGxvYWRlZC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFRoaXMgaXMgYWxzbyByZWZlcmVuY2VkIGluIGEgc2NyaXB0IHRhZyBpbiBpbmRleC5odG1sLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNvbG91clNjaGVtZVN0eWxlTGl0ZXJhbDogXCJcIixcclxuICAgICAgICBnYW1lUHJlc2V0SWQ6IFwiXCIsXHJcbiAgICAgICAgdXNlcm5hbWU6IFwiXCIsXHJcbiAgICAgICAgYXZhdGFyOiBcIlwiLFxyXG4gICAgfSk7XHJcbiAgICBmdW5jdGlvbiBnZXRMYXN0VXNlckluZm8oKSB7XHJcbiAgICAgICAgdmFyIF9hLCBfYjtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgIHVzZXJuYW1lOiAoX2EgPSBTdG9yYWdlSG9va3MuTG9jYWwudXNlcm5hbWUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFwidW5uYW1lZCBwbGF5ZXJcIixcclxuICAgICAgICAgICAgdGVhbUlkOiAwLFxyXG4gICAgICAgICAgICBhdmF0YXI6IChfYiA9IFN0b3JhZ2VIb29rcy5Mb2NhbC5hdmF0YXIpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFBsYXllci5BdmF0YXIuR0VUX1JBTkRPTSgpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBTdG9yYWdlSG9va3MuZ2V0TGFzdFVzZXJJbmZvID0gZ2V0TGFzdFVzZXJJbmZvO1xyXG4gICAgLyoqXHJcbiAgICAgKi9cclxuICAgIFN0b3JhZ2VIb29rcy5TZXNzaW9uID0gX21ha2VTbWFydFN0b3JhZ2UobG9jYWxTdG9yYWdlLCBPYmplY3QuZnJlZXplKHt9KSk7XHJcbiAgICBsZXQgSURCO1xyXG4gICAgKGZ1bmN0aW9uIChJREIpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKi9cclxuICAgICAgICBJREIuREJfTkFNRSA9IFwic25ha2V5REJcIjtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKi9cclxuICAgICAgICBsZXQgVXNlckdhbWVQcmVzZXRTdG9yZTtcclxuICAgICAgICAoZnVuY3Rpb24gKFVzZXJHYW1lUHJlc2V0U3RvcmUpIHtcclxuICAgICAgICAgICAgVXNlckdhbWVQcmVzZXRTdG9yZS5TVE9SRV9OQU1FID0gXCJ1c2VyR2FtZVByZXNldHNcIjtcclxuICAgICAgICB9KShVc2VyR2FtZVByZXNldFN0b3JlID0gSURCLlVzZXJHYW1lUHJlc2V0U3RvcmUgfHwgKElEQi5Vc2VyR2FtZVByZXNldFN0b3JlID0ge30pKTtcclxuICAgICAgICBPYmplY3QuZnJlZXplKFVzZXJHYW1lUHJlc2V0U3RvcmUpO1xyXG4gICAgfSkoSURCID0gU3RvcmFnZUhvb2tzLklEQiB8fCAoU3RvcmFnZUhvb2tzLklEQiA9IHt9KSk7XHJcbiAgICBPYmplY3QuZnJlZXplKElEQik7XHJcbiAgICAvKipcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gX21ha2VTbWFydFN0b3JhZ2Uoc3RvcmFnZSwgZXhhbXBsZSkge1xyXG4gICAgICAgIGNvbnN0IHNtYXJ0ID0ge307XHJcbiAgICAgICAgKE9iamVjdC5rZXlzKGV4YW1wbGUpKS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2RlZmluZVByb3BlcnR5XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzbWFydCwga2V5LCB7XHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gc3RvcmFnZS5nZXRJdGVtKGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh2YWwgPT09IG51bGwpID8gdW5kZWZpbmVkIDogSlNPTi5wYXJzZSh2YWwpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNldDogKHZhbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KHZhbCkpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmZyZWV6ZShzbWFydCk7XHJcbiAgICAgICAgcmV0dXJuIHNtYXJ0O1xyXG4gICAgfVxyXG59KShTdG9yYWdlSG9va3MgfHwgKFN0b3JhZ2VIb29rcyA9IHt9KSk7XHJcbk9iamVjdC5mcmVlemUoU3RvcmFnZUhvb2tzKTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/base/defs/StorageHooks.ts\n");

/***/ }),

/***/ "./src/base/defs/TypeDefs.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SCROLL_INTO_CENTER\": () => /* binding */ SCROLL_INTO_CENTER,\n/* harmony export */   \"Player\": () => /* binding */ Player,\n/* harmony export */   \"Lang\": () => /* binding */ Lang\n/* harmony export */ });\nconst SCROLL_INTO_CENTER = Object.freeze({\r\n    behavior: \"smooth\",\r\n    block: \"center\",\r\n    inline: \"center\",\r\n});\r\nSCROLL_INTO_CENTER;\r\n/**\r\n *\r\n */\r\nclass Player {\r\n}\r\n(function (Player) {\r\n    Player.Family = Object.freeze({\r\n        HUMAN: \"HUMAN\",\r\n        CHASER: \"CHASER\",\r\n    });\r\n    Player.Family;\r\n    let Id;\r\n    (function (Id) {\r\n        /**\r\n         * See the main documentation in game/player/Player.\r\n         */\r\n        Id.NULL = undefined;\r\n    })(Id = Player.Id || (Player.Id = {}));\r\n    let Username;\r\n    (function (Username) {\r\n        // /**\r\n        //  * The choice of this is somewhat arbitrary. This should be enforced\r\n        //  * externally since player descriptors are passed to the constructor.\r\n        //  *\r\n        //  * Requirements:\r\n        //  * - Starts with a letter.\r\n        //  * - No whitespace except for non-consecutive space characters.\r\n        //  * - Must contain at least five non-space characters that are\r\n        //  *      either letters, numbers, or the dash character.\r\n        //  */\r\n        //export const REGEXP = /[a-zA-Z](?:[ ]?[a-zA-Z0-9:-]+?){4,}/;\r\n        Username.REGEXP = /[ a-zA-Z0-9:-]+/;\r\n        Username.MAX_LENGTH = 15; // rather arbitrary choice.\r\n    })(Username = Player.Username || (Player.Username = {}));\r\n    let Avatar;\r\n    (function (Avatar) {\r\n        Avatar[\"LOREM_IPSUM\"] = \"lorem-ipsum\";\r\n    })(Avatar = Player.Avatar || (Player.Avatar = {}));\r\n    (function (Avatar) {\r\n        const _values = Object.values(Avatar).filter((e) => typeof e === \"string\");\r\n        /**\r\n         */\r\n        function GET_RANDOM() {\r\n            return _values[Math.random() * _values.length];\r\n        }\r\n        Avatar.GET_RANDOM = GET_RANDOM;\r\n    })(Avatar = Player.Avatar || (Player.Avatar = {}));\r\n    Player.MoveType = Object.freeze({\r\n        NORMAL: \"NORMAL\",\r\n        BOOST: \"BOOST\",\r\n    });\r\n    Player.MoveType;\r\n})(Player || (Player = {}));\r\nObject.freeze(Player);\r\nObject.freeze(Player.prototype);\r\n/**\r\n *\r\n */\r\nclass Lang {\r\n}\r\n(function (Lang) {\r\n    let Seq;\r\n    (function (Seq) {\r\n        /**\r\n         * The choice of this pattern is not out of necessity, but following\r\n         * the mindset of spec designers when they mark something as reserved:\r\n         * For the language implementations I have in mind, I don't see the\r\n         * need to include characters other than these.\r\n         *\r\n         * Characters that must never be unmarked as reserved (state reason):\r\n         * (currently none. update as needed)\r\n         */\r\n        Seq.REGEXP = new RegExp(\"^[a-zA-Z0-9!@#$%^&*()\\-_=+;:'\\\"\\\\|,.<>/?]+$\");\r\n    })(Seq = Lang.Seq || (Lang.Seq = {}));\r\n    let CharSeqPair;\r\n    (function (CharSeqPair) {\r\n        /**\r\n         * Used to clear the {@link CharSeqPair} in a {@link Tile} during\r\n         * a {@link Game} reset before grid-wide shuffling, or before a\r\n         * single shuffling operation on the {@link Tile} to be shuffled.\r\n         */\r\n        CharSeqPair.NULL = Object.freeze({\r\n            char: \"\",\r\n            seq: \"\",\r\n        });\r\n    })(CharSeqPair = Lang.CharSeqPair || (Lang.CharSeqPair = {}));\r\n    let WeightExaggeration;\r\n    (function (WeightExaggeration) {\r\n        /**\r\n         * The choice of this value is somewhat of an art.\r\n         * It must be greater than one.\r\n         */\r\n        WeightExaggeration.MAX = 4;\r\n    })(WeightExaggeration = Lang.WeightExaggeration || (Lang.WeightExaggeration = {}));\r\n    /**\r\n     * The choice of the upper bound on the number of times\r\n     * is rather arbitrary, but it should not be too small.\r\n     */\r\n    Lang.CHAR_HIT_COUNT_SEED_CEILING = 5;\r\n    /**\r\n     *\r\n     * This can be used, for example, for basic practical purposes like\r\n     * changing all letters to lowercase for the English language, or for\r\n     * more interesting things like mapping halves of the keyboard to a\r\n     * binary-like value like the dots and dashes in morse, or zeros and\r\n     * ones in binary. It could even be used for some crazy challenges like\r\n     * remapping the alphabet by barrel-shifting it so that pressing \"a\"\r\n     * produces \"b\", and \"b\" produces \"c\", and so on.\r\n     *\r\n     * The output should either equal the input (in cases that the input\r\n     * is already relevant to the `Lang` at hand and is intended to be\r\n     * taken as-is (ex. typing \"a\" produces / corresponds to \"a\" in\r\n     * regular English), or in cases where the input is completely\r\n     * irrelevant before and after remapping), or be a translation to\r\n     * some character that is relevant to the `Lang` and hand, and that\r\n     * matches against {@link SEQ_REGEXP}. This behaviour is mandated\r\n     * by {@link OperatorPlayer#seqBufferAcceptKey}.\r\n     *\r\n     * @param input -\r\n     * @returns\r\n     */\r\n    Lang._RemapTemplates = Object.freeze({\r\n        IDENTITY: (input) => input,\r\n        TO_LOWER: (input) => input.toLowerCase(),\r\n    });\r\n    Lang._RemapTemplates;\r\n    /**\r\n     *\r\n     */\r\n    Lang.FrontendDescs = Object.freeze([\r\n        {\r\n            id: \"engl-low\",\r\n            module: \"English\", export: \"Lowercase\", numLeaves: 26,\r\n            remapFunc: Lang._RemapTemplates.TO_LOWER,\r\n            displayName: \"English Lowercase (qwerty)\",\r\n            blurb: \"\",\r\n        }, {\r\n            id: \"engl-mix\",\r\n            module: \"English\", export: \"MixedCase\", numLeaves: 52,\r\n            remapFunc: Lang._RemapTemplates.IDENTITY,\r\n            displayName: \"English Mixed-Case (Querty)\",\r\n            blurb: \"\",\r\n        }, {\r\n            id: \"japn-hir\",\r\n            module: \"Japanese\", export: \"Hiragana\", numLeaves: 71,\r\n            remapFunc: Lang._RemapTemplates.TO_LOWER,\r\n            displayName: \"Japanese Hiragana\",\r\n            blurb: \"\",\r\n        }, {\r\n            id: \"japn-kat\",\r\n            module: \"Japanese\", export: \"Katakana\", numLeaves: 70,\r\n            remapFunc: Lang._RemapTemplates.TO_LOWER,\r\n            displayName: \"Japanese Katakana\",\r\n            blurb: \"\",\r\n        }, {\r\n            id: \"kore-dub\",\r\n            module: \"Korean\", export: \"Dubeolsik\", numLeaves: 9177,\r\n            remapFunc: Lang._RemapTemplates.IDENTITY,\r\n            displayName: \"Korean Dubeolsik (두벌식 키보드)\",\r\n            blurb: \"The most common keyboard layout, and South Korea's only Hangul\"\r\n                + \" standard since 1969. Consonants are on the left, and vowels on\"\r\n                + \" the right.\",\r\n        }, {\r\n            id: \"kore-sub\",\r\n            module: \"Korean\", export: \"Sebeolsik\", numLeaves: 10206,\r\n            remapFunc: Lang._RemapTemplates.IDENTITY,\r\n            displayName: \"Korean Sebeolsik (세벌식 최종 키보드)\",\r\n            blurb: \"Another Hangul keyboard layout used in South Korea, and the\"\r\n                + \" final Sebeolsik layout designed by Dr. Kong Byung Woo, hence\"\r\n                + \" the name. Syllable-initial consonants are on the right, final\"\r\n                + \" consonants on the left, and vowels in the middle. It is more\"\r\n                + \" ergonomic than the dubeolsik, but not widely used.\",\r\n        }, {\r\n            id: \"kore-rom\",\r\n            module: \"Korean\", export: \"Romanization\", numLeaves: 3990,\r\n            remapFunc: Lang._RemapTemplates.TO_LOWER,\r\n            displayName: \"Korean Revised Romanization\",\r\n            blurb: \"The Revised Romanization of Korean (국어의 로마자 표기법; 國語의 로마字\"\r\n                + \" 表記法) is the official South Korean language romanization system. It\"\r\n                + \" was developed by the National Academy of the Korean Language from 1995,\"\r\n                + \" and was released on 7 July 2000 by South Korea's Ministry of Culture\"\r\n                + \" and Tourism\",\r\n        },\r\n        {\r\n            id: \"engl-cell-enc\",\r\n            module: \"English\", export: \"OldCellphone.Encode\", numLeaves: 8,\r\n            remapFunc: Lang._RemapTemplates.IDENTITY,\r\n            displayName: \"Old Cellphone Keyboard\",\r\n            blurb: \"\",\r\n        },\r\n    ].map((desc) => Object.freeze(desc)));\r\n    Lang.FrontendDescs;\r\n    /**\r\n     * @returns `undefined` if no such language descriptor is found.\r\n     */\r\n    function GET_FRONTEND_DESC_BY_ID(langId) {\r\n        return Lang.FrontendDescs.find((desc) => desc.id === langId);\r\n    }\r\n    Lang.GET_FRONTEND_DESC_BY_ID = GET_FRONTEND_DESC_BY_ID;\r\n})(Lang || (Lang = {}));\r\nObject.freeze(Lang);\r\nObject.freeze(Lang.prototype);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYmFzZS9kZWZzL1R5cGVEZWZzLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc25ha2V5My8uL3NyYy9iYXNlL2RlZnMvVHlwZURlZnMudHM/MzliMyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgU0NST0xMX0lOVE9fQ0VOVEVSID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICBiZWhhdmlvcjogXCJzbW9vdGhcIixcclxuICAgIGJsb2NrOiBcImNlbnRlclwiLFxyXG4gICAgaW5saW5lOiBcImNlbnRlclwiLFxyXG59KTtcclxuU0NST0xMX0lOVE9fQ0VOVEVSO1xyXG4vKipcclxuICpcclxuICovXHJcbmV4cG9ydCBjbGFzcyBQbGF5ZXIge1xyXG59XHJcbihmdW5jdGlvbiAoUGxheWVyKSB7XHJcbiAgICBQbGF5ZXIuRmFtaWx5ID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgSFVNQU46IFwiSFVNQU5cIixcclxuICAgICAgICBDSEFTRVI6IFwiQ0hBU0VSXCIsXHJcbiAgICB9KTtcclxuICAgIFBsYXllci5GYW1pbHk7XHJcbiAgICBsZXQgSWQ7XHJcbiAgICAoZnVuY3Rpb24gKElkKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU2VlIHRoZSBtYWluIGRvY3VtZW50YXRpb24gaW4gZ2FtZS9wbGF5ZXIvUGxheWVyLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIElkLk5VTEwgPSB1bmRlZmluZWQ7XHJcbiAgICB9KShJZCA9IFBsYXllci5JZCB8fCAoUGxheWVyLklkID0ge30pKTtcclxuICAgIGxldCBVc2VybmFtZTtcclxuICAgIChmdW5jdGlvbiAoVXNlcm5hbWUpIHtcclxuICAgICAgICAvLyAvKipcclxuICAgICAgICAvLyAgKiBUaGUgY2hvaWNlIG9mIHRoaXMgaXMgc29tZXdoYXQgYXJiaXRyYXJ5LiBUaGlzIHNob3VsZCBiZSBlbmZvcmNlZFxyXG4gICAgICAgIC8vICAqIGV4dGVybmFsbHkgc2luY2UgcGxheWVyIGRlc2NyaXB0b3JzIGFyZSBwYXNzZWQgdG8gdGhlIGNvbnN0cnVjdG9yLlxyXG4gICAgICAgIC8vICAqXHJcbiAgICAgICAgLy8gICogUmVxdWlyZW1lbnRzOlxyXG4gICAgICAgIC8vICAqIC0gU3RhcnRzIHdpdGggYSBsZXR0ZXIuXHJcbiAgICAgICAgLy8gICogLSBObyB3aGl0ZXNwYWNlIGV4Y2VwdCBmb3Igbm9uLWNvbnNlY3V0aXZlIHNwYWNlIGNoYXJhY3RlcnMuXHJcbiAgICAgICAgLy8gICogLSBNdXN0IGNvbnRhaW4gYXQgbGVhc3QgZml2ZSBub24tc3BhY2UgY2hhcmFjdGVycyB0aGF0IGFyZVxyXG4gICAgICAgIC8vICAqICAgICAgZWl0aGVyIGxldHRlcnMsIG51bWJlcnMsIG9yIHRoZSBkYXNoIGNoYXJhY3Rlci5cclxuICAgICAgICAvLyAgKi9cclxuICAgICAgICAvL2V4cG9ydCBjb25zdCBSRUdFWFAgPSAvW2EtekEtWl0oPzpbIF0/W2EtekEtWjAtOTotXSs/KXs0LH0vO1xyXG4gICAgICAgIFVzZXJuYW1lLlJFR0VYUCA9IC9bIGEtekEtWjAtOTotXSsvO1xyXG4gICAgICAgIFVzZXJuYW1lLk1BWF9MRU5HVEggPSAxNTsgLy8gcmF0aGVyIGFyYml0cmFyeSBjaG9pY2UuXHJcbiAgICB9KShVc2VybmFtZSA9IFBsYXllci5Vc2VybmFtZSB8fCAoUGxheWVyLlVzZXJuYW1lID0ge30pKTtcclxuICAgIGxldCBBdmF0YXI7XHJcbiAgICAoZnVuY3Rpb24gKEF2YXRhcikge1xyXG4gICAgICAgIEF2YXRhcltcIkxPUkVNX0lQU1VNXCJdID0gXCJsb3JlbS1pcHN1bVwiO1xyXG4gICAgfSkoQXZhdGFyID0gUGxheWVyLkF2YXRhciB8fCAoUGxheWVyLkF2YXRhciA9IHt9KSk7XHJcbiAgICAoZnVuY3Rpb24gKEF2YXRhcikge1xyXG4gICAgICAgIGNvbnN0IF92YWx1ZXMgPSBPYmplY3QudmFsdWVzKEF2YXRhcikuZmlsdGVyKChlKSA9PiB0eXBlb2YgZSA9PT0gXCJzdHJpbmdcIik7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gR0VUX1JBTkRPTSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF92YWx1ZXNbTWF0aC5yYW5kb20oKSAqIF92YWx1ZXMubGVuZ3RoXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgQXZhdGFyLkdFVF9SQU5ET00gPSBHRVRfUkFORE9NO1xyXG4gICAgfSkoQXZhdGFyID0gUGxheWVyLkF2YXRhciB8fCAoUGxheWVyLkF2YXRhciA9IHt9KSk7XHJcbiAgICBQbGF5ZXIuTW92ZVR5cGUgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICBOT1JNQUw6IFwiTk9STUFMXCIsXHJcbiAgICAgICAgQk9PU1Q6IFwiQk9PU1RcIixcclxuICAgIH0pO1xyXG4gICAgUGxheWVyLk1vdmVUeXBlO1xyXG59KShQbGF5ZXIgfHwgKFBsYXllciA9IHt9KSk7XHJcbk9iamVjdC5mcmVlemUoUGxheWVyKTtcclxuT2JqZWN0LmZyZWV6ZShQbGF5ZXIucHJvdG90eXBlKTtcclxuLyoqXHJcbiAqXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTGFuZyB7XHJcbn1cclxuKGZ1bmN0aW9uIChMYW5nKSB7XHJcbiAgICBsZXQgU2VxO1xyXG4gICAgKGZ1bmN0aW9uIChTZXEpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgY2hvaWNlIG9mIHRoaXMgcGF0dGVybiBpcyBub3Qgb3V0IG9mIG5lY2Vzc2l0eSwgYnV0IGZvbGxvd2luZ1xyXG4gICAgICAgICAqIHRoZSBtaW5kc2V0IG9mIHNwZWMgZGVzaWduZXJzIHdoZW4gdGhleSBtYXJrIHNvbWV0aGluZyBhcyByZXNlcnZlZDpcclxuICAgICAgICAgKiBGb3IgdGhlIGxhbmd1YWdlIGltcGxlbWVudGF0aW9ucyBJIGhhdmUgaW4gbWluZCwgSSBkb24ndCBzZWUgdGhlXHJcbiAgICAgICAgICogbmVlZCB0byBpbmNsdWRlIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiB0aGVzZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIENoYXJhY3RlcnMgdGhhdCBtdXN0IG5ldmVyIGJlIHVubWFya2VkIGFzIHJlc2VydmVkIChzdGF0ZSByZWFzb24pOlxyXG4gICAgICAgICAqIChjdXJyZW50bHkgbm9uZS4gdXBkYXRlIGFzIG5lZWRlZClcclxuICAgICAgICAgKi9cclxuICAgICAgICBTZXEuUkVHRVhQID0gbmV3IFJlZ0V4cChcIl5bYS16QS1aMC05IUAjJCVeJiooKVxcLV89Kzs6J1xcXCJcXFxcfCwuPD4vP10rJFwiKTtcclxuICAgIH0pKFNlcSA9IExhbmcuU2VxIHx8IChMYW5nLlNlcSA9IHt9KSk7XHJcbiAgICBsZXQgQ2hhclNlcVBhaXI7XHJcbiAgICAoZnVuY3Rpb24gKENoYXJTZXFQYWlyKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVXNlZCB0byBjbGVhciB0aGUge0BsaW5rIENoYXJTZXFQYWlyfSBpbiBhIHtAbGluayBUaWxlfSBkdXJpbmdcclxuICAgICAgICAgKiBhIHtAbGluayBHYW1lfSByZXNldCBiZWZvcmUgZ3JpZC13aWRlIHNodWZmbGluZywgb3IgYmVmb3JlIGFcclxuICAgICAgICAgKiBzaW5nbGUgc2h1ZmZsaW5nIG9wZXJhdGlvbiBvbiB0aGUge0BsaW5rIFRpbGV9IHRvIGJlIHNodWZmbGVkLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIENoYXJTZXFQYWlyLk5VTEwgPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgY2hhcjogXCJcIixcclxuICAgICAgICAgICAgc2VxOiBcIlwiLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSkoQ2hhclNlcVBhaXIgPSBMYW5nLkNoYXJTZXFQYWlyIHx8IChMYW5nLkNoYXJTZXFQYWlyID0ge30pKTtcclxuICAgIGxldCBXZWlnaHRFeGFnZ2VyYXRpb247XHJcbiAgICAoZnVuY3Rpb24gKFdlaWdodEV4YWdnZXJhdGlvbikge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBjaG9pY2Ugb2YgdGhpcyB2YWx1ZSBpcyBzb21ld2hhdCBvZiBhbiBhcnQuXHJcbiAgICAgICAgICogSXQgbXVzdCBiZSBncmVhdGVyIHRoYW4gb25lLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIFdlaWdodEV4YWdnZXJhdGlvbi5NQVggPSA0O1xyXG4gICAgfSkoV2VpZ2h0RXhhZ2dlcmF0aW9uID0gTGFuZy5XZWlnaHRFeGFnZ2VyYXRpb24gfHwgKExhbmcuV2VpZ2h0RXhhZ2dlcmF0aW9uID0ge30pKTtcclxuICAgIC8qKlxyXG4gICAgICogVGhlIGNob2ljZSBvZiB0aGUgdXBwZXIgYm91bmQgb24gdGhlIG51bWJlciBvZiB0aW1lc1xyXG4gICAgICogaXMgcmF0aGVyIGFyYml0cmFyeSwgYnV0IGl0IHNob3VsZCBub3QgYmUgdG9vIHNtYWxsLlxyXG4gICAgICovXHJcbiAgICBMYW5nLkNIQVJfSElUX0NPVU5UX1NFRURfQ0VJTElORyA9IDU7XHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VkLCBmb3IgZXhhbXBsZSwgZm9yIGJhc2ljIHByYWN0aWNhbCBwdXJwb3NlcyBsaWtlXHJcbiAgICAgKiBjaGFuZ2luZyBhbGwgbGV0dGVycyB0byBsb3dlcmNhc2UgZm9yIHRoZSBFbmdsaXNoIGxhbmd1YWdlLCBvciBmb3JcclxuICAgICAqIG1vcmUgaW50ZXJlc3RpbmcgdGhpbmdzIGxpa2UgbWFwcGluZyBoYWx2ZXMgb2YgdGhlIGtleWJvYXJkIHRvIGFcclxuICAgICAqIGJpbmFyeS1saWtlIHZhbHVlIGxpa2UgdGhlIGRvdHMgYW5kIGRhc2hlcyBpbiBtb3JzZSwgb3IgemVyb3MgYW5kXHJcbiAgICAgKiBvbmVzIGluIGJpbmFyeS4gSXQgY291bGQgZXZlbiBiZSB1c2VkIGZvciBzb21lIGNyYXp5IGNoYWxsZW5nZXMgbGlrZVxyXG4gICAgICogcmVtYXBwaW5nIHRoZSBhbHBoYWJldCBieSBiYXJyZWwtc2hpZnRpbmcgaXQgc28gdGhhdCBwcmVzc2luZyBcImFcIlxyXG4gICAgICogcHJvZHVjZXMgXCJiXCIsIGFuZCBcImJcIiBwcm9kdWNlcyBcImNcIiwgYW5kIHNvIG9uLlxyXG4gICAgICpcclxuICAgICAqIFRoZSBvdXRwdXQgc2hvdWxkIGVpdGhlciBlcXVhbCB0aGUgaW5wdXQgKGluIGNhc2VzIHRoYXQgdGhlIGlucHV0XHJcbiAgICAgKiBpcyBhbHJlYWR5IHJlbGV2YW50IHRvIHRoZSBgTGFuZ2AgYXQgaGFuZCBhbmQgaXMgaW50ZW5kZWQgdG8gYmVcclxuICAgICAqIHRha2VuIGFzLWlzIChleC4gdHlwaW5nIFwiYVwiIHByb2R1Y2VzIC8gY29ycmVzcG9uZHMgdG8gXCJhXCIgaW5cclxuICAgICAqIHJlZ3VsYXIgRW5nbGlzaCksIG9yIGluIGNhc2VzIHdoZXJlIHRoZSBpbnB1dCBpcyBjb21wbGV0ZWx5XHJcbiAgICAgKiBpcnJlbGV2YW50IGJlZm9yZSBhbmQgYWZ0ZXIgcmVtYXBwaW5nKSwgb3IgYmUgYSB0cmFuc2xhdGlvbiB0b1xyXG4gICAgICogc29tZSBjaGFyYWN0ZXIgdGhhdCBpcyByZWxldmFudCB0byB0aGUgYExhbmdgIGFuZCBoYW5kLCBhbmQgdGhhdFxyXG4gICAgICogbWF0Y2hlcyBhZ2FpbnN0IHtAbGluayBTRVFfUkVHRVhQfS4gVGhpcyBiZWhhdmlvdXIgaXMgbWFuZGF0ZWRcclxuICAgICAqIGJ5IHtAbGluayBPcGVyYXRvclBsYXllciNzZXFCdWZmZXJBY2NlcHRLZXl9LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpbnB1dCAtXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBMYW5nLl9SZW1hcFRlbXBsYXRlcyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgIElERU5USVRZOiAoaW5wdXQpID0+IGlucHV0LFxyXG4gICAgICAgIFRPX0xPV0VSOiAoaW5wdXQpID0+IGlucHV0LnRvTG93ZXJDYXNlKCksXHJcbiAgICB9KTtcclxuICAgIExhbmcuX1JlbWFwVGVtcGxhdGVzO1xyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBMYW5nLkZyb250ZW5kRGVzY3MgPSBPYmplY3QuZnJlZXplKFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlkOiBcImVuZ2wtbG93XCIsXHJcbiAgICAgICAgICAgIG1vZHVsZTogXCJFbmdsaXNoXCIsIGV4cG9ydDogXCJMb3dlcmNhc2VcIiwgbnVtTGVhdmVzOiAyNixcclxuICAgICAgICAgICAgcmVtYXBGdW5jOiBMYW5nLl9SZW1hcFRlbXBsYXRlcy5UT19MT1dFUixcclxuICAgICAgICAgICAgZGlzcGxheU5hbWU6IFwiRW5nbGlzaCBMb3dlcmNhc2UgKHF3ZXJ0eSlcIixcclxuICAgICAgICAgICAgYmx1cmI6IFwiXCIsXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBpZDogXCJlbmdsLW1peFwiLFxyXG4gICAgICAgICAgICBtb2R1bGU6IFwiRW5nbGlzaFwiLCBleHBvcnQ6IFwiTWl4ZWRDYXNlXCIsIG51bUxlYXZlczogNTIsXHJcbiAgICAgICAgICAgIHJlbWFwRnVuYzogTGFuZy5fUmVtYXBUZW1wbGF0ZXMuSURFTlRJVFksXHJcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBcIkVuZ2xpc2ggTWl4ZWQtQ2FzZSAoUXVlcnR5KVwiLFxyXG4gICAgICAgICAgICBibHVyYjogXCJcIixcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGlkOiBcImphcG4taGlyXCIsXHJcbiAgICAgICAgICAgIG1vZHVsZTogXCJKYXBhbmVzZVwiLCBleHBvcnQ6IFwiSGlyYWdhbmFcIiwgbnVtTGVhdmVzOiA3MSxcclxuICAgICAgICAgICAgcmVtYXBGdW5jOiBMYW5nLl9SZW1hcFRlbXBsYXRlcy5UT19MT1dFUixcclxuICAgICAgICAgICAgZGlzcGxheU5hbWU6IFwiSmFwYW5lc2UgSGlyYWdhbmFcIixcclxuICAgICAgICAgICAgYmx1cmI6IFwiXCIsXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBpZDogXCJqYXBuLWthdFwiLFxyXG4gICAgICAgICAgICBtb2R1bGU6IFwiSmFwYW5lc2VcIiwgZXhwb3J0OiBcIkthdGFrYW5hXCIsIG51bUxlYXZlczogNzAsXHJcbiAgICAgICAgICAgIHJlbWFwRnVuYzogTGFuZy5fUmVtYXBUZW1wbGF0ZXMuVE9fTE9XRVIsXHJcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBcIkphcGFuZXNlIEthdGFrYW5hXCIsXHJcbiAgICAgICAgICAgIGJsdXJiOiBcIlwiLFxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgaWQ6IFwia29yZS1kdWJcIixcclxuICAgICAgICAgICAgbW9kdWxlOiBcIktvcmVhblwiLCBleHBvcnQ6IFwiRHViZW9sc2lrXCIsIG51bUxlYXZlczogOTE3NyxcclxuICAgICAgICAgICAgcmVtYXBGdW5jOiBMYW5nLl9SZW1hcFRlbXBsYXRlcy5JREVOVElUWSxcclxuICAgICAgICAgICAgZGlzcGxheU5hbWU6IFwiS29yZWFuIER1YmVvbHNpayAo65GQ67KM7IudIO2CpOuztOuTnClcIixcclxuICAgICAgICAgICAgYmx1cmI6IFwiVGhlIG1vc3QgY29tbW9uIGtleWJvYXJkIGxheW91dCwgYW5kIFNvdXRoIEtvcmVhJ3Mgb25seSBIYW5ndWxcIlxyXG4gICAgICAgICAgICAgICAgKyBcIiBzdGFuZGFyZCBzaW5jZSAxOTY5LiBDb25zb25hbnRzIGFyZSBvbiB0aGUgbGVmdCwgYW5kIHZvd2VscyBvblwiXHJcbiAgICAgICAgICAgICAgICArIFwiIHRoZSByaWdodC5cIixcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGlkOiBcImtvcmUtc3ViXCIsXHJcbiAgICAgICAgICAgIG1vZHVsZTogXCJLb3JlYW5cIiwgZXhwb3J0OiBcIlNlYmVvbHNpa1wiLCBudW1MZWF2ZXM6IDEwMjA2LFxyXG4gICAgICAgICAgICByZW1hcEZ1bmM6IExhbmcuX1JlbWFwVGVtcGxhdGVzLklERU5USVRZLFxyXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogXCJLb3JlYW4gU2ViZW9sc2lrICjshLjrsozsi50g7LWc7KKFIO2CpOuztOuTnClcIixcclxuICAgICAgICAgICAgYmx1cmI6IFwiQW5vdGhlciBIYW5ndWwga2V5Ym9hcmQgbGF5b3V0IHVzZWQgaW4gU291dGggS29yZWEsIGFuZCB0aGVcIlxyXG4gICAgICAgICAgICAgICAgKyBcIiBmaW5hbCBTZWJlb2xzaWsgbGF5b3V0IGRlc2lnbmVkIGJ5IERyLiBLb25nIEJ5dW5nIFdvbywgaGVuY2VcIlxyXG4gICAgICAgICAgICAgICAgKyBcIiB0aGUgbmFtZS4gU3lsbGFibGUtaW5pdGlhbCBjb25zb25hbnRzIGFyZSBvbiB0aGUgcmlnaHQsIGZpbmFsXCJcclxuICAgICAgICAgICAgICAgICsgXCIgY29uc29uYW50cyBvbiB0aGUgbGVmdCwgYW5kIHZvd2VscyBpbiB0aGUgbWlkZGxlLiBJdCBpcyBtb3JlXCJcclxuICAgICAgICAgICAgICAgICsgXCIgZXJnb25vbWljIHRoYW4gdGhlIGR1YmVvbHNpaywgYnV0IG5vdCB3aWRlbHkgdXNlZC5cIixcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGlkOiBcImtvcmUtcm9tXCIsXHJcbiAgICAgICAgICAgIG1vZHVsZTogXCJLb3JlYW5cIiwgZXhwb3J0OiBcIlJvbWFuaXphdGlvblwiLCBudW1MZWF2ZXM6IDM5OTAsXHJcbiAgICAgICAgICAgIHJlbWFwRnVuYzogTGFuZy5fUmVtYXBUZW1wbGF0ZXMuVE9fTE9XRVIsXHJcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBcIktvcmVhbiBSZXZpc2VkIFJvbWFuaXphdGlvblwiLFxyXG4gICAgICAgICAgICBibHVyYjogXCJUaGUgUmV2aXNlZCBSb21hbml6YXRpb24gb2YgS29yZWFuICjqta3slrTsnZgg66Gc66eI7J6QIO2RnOq4sOuylTsg5ZyL6Kqe7J2YIOuhnOuniOWtl1wiXHJcbiAgICAgICAgICAgICAgICArIFwiIOihqOiomOazlSkgaXMgdGhlIG9mZmljaWFsIFNvdXRoIEtvcmVhbiBsYW5ndWFnZSByb21hbml6YXRpb24gc3lzdGVtLiBJdFwiXHJcbiAgICAgICAgICAgICAgICArIFwiIHdhcyBkZXZlbG9wZWQgYnkgdGhlIE5hdGlvbmFsIEFjYWRlbXkgb2YgdGhlIEtvcmVhbiBMYW5ndWFnZSBmcm9tIDE5OTUsXCJcclxuICAgICAgICAgICAgICAgICsgXCIgYW5kIHdhcyByZWxlYXNlZCBvbiA3IEp1bHkgMjAwMCBieSBTb3V0aCBLb3JlYSdzIE1pbmlzdHJ5IG9mIEN1bHR1cmVcIlxyXG4gICAgICAgICAgICAgICAgKyBcIiBhbmQgVG91cmlzbVwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZDogXCJlbmdsLWNlbGwtZW5jXCIsXHJcbiAgICAgICAgICAgIG1vZHVsZTogXCJFbmdsaXNoXCIsIGV4cG9ydDogXCJPbGRDZWxscGhvbmUuRW5jb2RlXCIsIG51bUxlYXZlczogOCxcclxuICAgICAgICAgICAgcmVtYXBGdW5jOiBMYW5nLl9SZW1hcFRlbXBsYXRlcy5JREVOVElUWSxcclxuICAgICAgICAgICAgZGlzcGxheU5hbWU6IFwiT2xkIENlbGxwaG9uZSBLZXlib2FyZFwiLFxyXG4gICAgICAgICAgICBibHVyYjogXCJcIixcclxuICAgICAgICB9LFxyXG4gICAgXS5tYXAoKGRlc2MpID0+IE9iamVjdC5mcmVlemUoZGVzYykpKTtcclxuICAgIExhbmcuRnJvbnRlbmREZXNjcztcclxuICAgIC8qKlxyXG4gICAgICogQHJldHVybnMgYHVuZGVmaW5lZGAgaWYgbm8gc3VjaCBsYW5ndWFnZSBkZXNjcmlwdG9yIGlzIGZvdW5kLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBHRVRfRlJPTlRFTkRfREVTQ19CWV9JRChsYW5nSWQpIHtcclxuICAgICAgICByZXR1cm4gTGFuZy5Gcm9udGVuZERlc2NzLmZpbmQoKGRlc2MpID0+IGRlc2MuaWQgPT09IGxhbmdJZCk7XHJcbiAgICB9XHJcbiAgICBMYW5nLkdFVF9GUk9OVEVORF9ERVNDX0JZX0lEID0gR0VUX0ZST05URU5EX0RFU0NfQllfSUQ7XHJcbn0pKExhbmcgfHwgKExhbmcgPSB7fSkpO1xyXG5PYmplY3QuZnJlZXplKExhbmcpO1xyXG5PYmplY3QuZnJlZXplKExhbmcucHJvdG90eXBlKTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/base/defs/TypeDefs.ts\n");

/***/ }),

/***/ "./src/base/game/Game.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Game\": () => /* binding */ Game\n/* harmony export */ });\n/**\r\n * **Important** To be properly disposed of, a game must first have\r\n * either naturally ended, or be paused- both operations of which will\r\n * properly cancel all internal scheduled callbacks (the callbacks\r\n * refer to players, which refer to their game, which refers to a\r\n * whole lot of other things such as the language dictionary, which\r\n * in some cases may be quite large.)\r\n *\r\n * These classes perform the majority of management over {@link Tile}\r\n * and {@link Player} objects. As a design choice, players can only join\r\n * a game before it starts, and actions such as changing the language or\r\n * difficulty require a restart. These actions that require a restart will\r\n * all be exposed to operators through a pre-game page. Other such actions\r\n * include: changing teams.\r\n *\r\n * There are overlaps between what each implementation needs to do:\r\n * - Offline and Server games maintain and control the master-game-state.\r\n * - Offline and Client games display the game-state to an operator via browser and HTML.\r\n * - Client  and Server games use network operations to communicate.\r\n */\r\nvar Game;\r\n(function (Game) {\r\n    let Type;\r\n    (function (Type) {\r\n        Type[\"SERVER\"] = \"SERVER\";\r\n        Type[\"ONLINE\"] = \"ONLINE\";\r\n        Type[\"OFFLINE\"] = \"OFFLINE\";\r\n    })(Type = Game.Type || (Game.Type = {}));\r\n    Object.freeze(Type);\r\n    /**\r\n     * - **`PLAYING`** can go to:\r\n     *   - `PAUSED`: when a pause request initiated by a player is accepted.\r\n     *   - `OVER`:  when certain conditions of players being downed are met.\r\n     * - **`PAUSED`** can go to:\r\n     *   - `PLAYING`: similar to PLAYING->PAUSED.\r\n     * - **`OVER`** can go to:\r\n     *   - `PLAYING`: via resetting the game.\r\n     */\r\n    let Status;\r\n    (function (Status) {\r\n        Status[\"PLAYING\"] = \"PLAYING\";\r\n        Status[\"PAUSED\"] = \"PAUSED\";\r\n        Status[\"OVER\"] = \"OVER\";\r\n    })(Status = Game.Status || (Game.Status = {}));\r\n    Object.freeze(Status);\r\n    /**\r\n     * Global, Game-Setup-Agnostic constants for tuning game behaviour.\r\n     */\r\n    Game.K = Object.freeze({\r\n        /**\r\n         * A value in `(0,1]`. If `1`, then new health will be spawned\r\n         * the next time `dryRunSpawnFreeHealth` is called. This is the\r\n         * reciprocal of the average number of calls that must be to\r\n         * `dryRunSpawnFreeHealth` before a unit of health will be\r\n         * re-spawned after being consumed.\r\n         */\r\n        HEALTH_UPDATE_CHANCE: 0.1,\r\n        /**\r\n         * Affects the distribution of health across the grid: \"How\r\n         * concentrated or how diluted the average amount of health on\r\n         * the grid will be\". Higher values cause concentration; lower\r\n         * values result in dilution.\r\n         */\r\n        AVERAGE_HEALTH_TO_SPAWN_ON_TILE: 1.0,\r\n        /**\r\n         * A value in `(0,1]`. If `1`, then players can (on average),\r\n         * boost indefinitely. If close to zero, then players virtually\r\n         * cannot boost, no matter how much health they have. If `0.3`,\r\n         * players can boost for roughly 30% of the movements they make.\r\n         *\r\n         * This value assumes that the player moves around aimlessly\r\n         * and randomly. Adjustments for more rational assumptions are\r\n         * not to be made _here_.\r\n         */\r\n        PORTION_OF_MOVES_THAT_ARE_BOOST: 0.4,\r\n        /**\r\n         * Takes into consideration all contributing factors to determine\r\n         * how much health it should cost to perform a single boost.\r\n         *\r\n         * It calculates for the following behaviour: Assuming that a\r\n         * player is only trying to collect health and always takes the\r\n         * optimal route, how much health should it cost them to boost\r\n         * such that they can only only boost for a determined percentage\r\n         * of all their movement actions?\r\n         */\r\n        HEALTH_COST_OF_BOOST(averageHealthPerTile, gridGetDiameter) {\r\n            // First, assume that a player has just landed on a tile\r\n            // with free health, and now plans to take the optimal\r\n            // route to the nearest tile with free health. Assume that\r\n            // Health is distributed uniformly, and spaced evenly apart.\r\n            // Then the grid/floor can be nicely divided into similar\r\n            // patches each with one tile with free health in the center.\r\n            // Find the diameter of a patch:\r\n            const patchArea = this.AVERAGE_HEALTH_TO_SPAWN_ON_TILE / averageHealthPerTile;\r\n            const patchDiameter = gridGetDiameter(patchArea);\r\n            // The patch diameter is the average optimal distance to\r\n            // the nearest tile with health (the center of the nearest\r\n            // patch). We know how much health awaits there, so we can\r\n            // find the average rate of health gain per movement on an\r\n            // optimal health-seeking path.\r\n            const healthGainedPerOptimalMove = this.AVERAGE_HEALTH_TO_SPAWN_ON_TILE / patchDiameter;\r\n            // Since the portion of moves that can be boosts equals\r\n            // the rate of health gain divided by the health cost of\r\n            // boosting, (rearrange terms to solve):\r\n            return healthGainedPerOptimalMove / this.PORTION_OF_MOVES_THAT_ARE_BOOST;\r\n        },\r\n        /**\r\n         * A value in `(0,1]` (values greater than one are legal from\r\n         * a mathematical standpoint, but not from one of game-design).\r\n         * Scales the health received from picking up free health for\r\n         * a player who is downed.\r\n         *\r\n         * This value exists to dampen the ability for team members to\r\n         * regenerate health when downed so that it takes a (subjectively)\r\n         * \"reasonable\" amount of effort to eliminate an entire team-\r\n         * not too much, not too little.\r\n         */\r\n        HEALTH_EFFECT_FOR_DOWNED_PLAYER: 0.6,\r\n        /**\r\n         * A strictly-positive integer.\r\n         *\r\n         * This describes a functionality put in place to limit memory\r\n         * consumption for keeping track of events affected by network\r\n         * latency. See `EVENT_RECORD_FORWARD_WINDOW_LENGTH` for more\r\n         * explanation.\r\n         */\r\n        EVENT_RECORD_WRAPPING_BUFFER_LENGTH: 128,\r\n        /**\r\n         */\r\n        EVENT_RECORD_FORWARD_WINDOW_LENGTH: 64,\r\n    });\r\n})(Game || (Game = {}));\r\nObject.freeze(Game);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYmFzZS9nYW1lL0dhbWUudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbmFrZXkzLy4vc3JjL2Jhc2UvZ2FtZS9HYW1lLnRzPzczMDAiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqICoqSW1wb3J0YW50KiogVG8gYmUgcHJvcGVybHkgZGlzcG9zZWQgb2YsIGEgZ2FtZSBtdXN0IGZpcnN0IGhhdmVcclxuICogZWl0aGVyIG5hdHVyYWxseSBlbmRlZCwgb3IgYmUgcGF1c2VkLSBib3RoIG9wZXJhdGlvbnMgb2Ygd2hpY2ggd2lsbFxyXG4gKiBwcm9wZXJseSBjYW5jZWwgYWxsIGludGVybmFsIHNjaGVkdWxlZCBjYWxsYmFja3MgKHRoZSBjYWxsYmFja3NcclxuICogcmVmZXIgdG8gcGxheWVycywgd2hpY2ggcmVmZXIgdG8gdGhlaXIgZ2FtZSwgd2hpY2ggcmVmZXJzIHRvIGFcclxuICogd2hvbGUgbG90IG9mIG90aGVyIHRoaW5ncyBzdWNoIGFzIHRoZSBsYW5ndWFnZSBkaWN0aW9uYXJ5LCB3aGljaFxyXG4gKiBpbiBzb21lIGNhc2VzIG1heSBiZSBxdWl0ZSBsYXJnZS4pXHJcbiAqXHJcbiAqIFRoZXNlIGNsYXNzZXMgcGVyZm9ybSB0aGUgbWFqb3JpdHkgb2YgbWFuYWdlbWVudCBvdmVyIHtAbGluayBUaWxlfVxyXG4gKiBhbmQge0BsaW5rIFBsYXllcn0gb2JqZWN0cy4gQXMgYSBkZXNpZ24gY2hvaWNlLCBwbGF5ZXJzIGNhbiBvbmx5IGpvaW5cclxuICogYSBnYW1lIGJlZm9yZSBpdCBzdGFydHMsIGFuZCBhY3Rpb25zIHN1Y2ggYXMgY2hhbmdpbmcgdGhlIGxhbmd1YWdlIG9yXHJcbiAqIGRpZmZpY3VsdHkgcmVxdWlyZSBhIHJlc3RhcnQuIFRoZXNlIGFjdGlvbnMgdGhhdCByZXF1aXJlIGEgcmVzdGFydCB3aWxsXHJcbiAqIGFsbCBiZSBleHBvc2VkIHRvIG9wZXJhdG9ycyB0aHJvdWdoIGEgcHJlLWdhbWUgcGFnZS4gT3RoZXIgc3VjaCBhY3Rpb25zXHJcbiAqIGluY2x1ZGU6IGNoYW5naW5nIHRlYW1zLlxyXG4gKlxyXG4gKiBUaGVyZSBhcmUgb3ZlcmxhcHMgYmV0d2VlbiB3aGF0IGVhY2ggaW1wbGVtZW50YXRpb24gbmVlZHMgdG8gZG86XHJcbiAqIC0gT2ZmbGluZSBhbmQgU2VydmVyIGdhbWVzIG1haW50YWluIGFuZCBjb250cm9sIHRoZSBtYXN0ZXItZ2FtZS1zdGF0ZS5cclxuICogLSBPZmZsaW5lIGFuZCBDbGllbnQgZ2FtZXMgZGlzcGxheSB0aGUgZ2FtZS1zdGF0ZSB0byBhbiBvcGVyYXRvciB2aWEgYnJvd3NlciBhbmQgSFRNTC5cclxuICogLSBDbGllbnQgIGFuZCBTZXJ2ZXIgZ2FtZXMgdXNlIG5ldHdvcmsgb3BlcmF0aW9ucyB0byBjb21tdW5pY2F0ZS5cclxuICovXHJcbmV4cG9ydCB2YXIgR2FtZTtcclxuKGZ1bmN0aW9uIChHYW1lKSB7XHJcbiAgICBsZXQgVHlwZTtcclxuICAgIChmdW5jdGlvbiAoVHlwZSkge1xyXG4gICAgICAgIFR5cGVbXCJTRVJWRVJcIl0gPSBcIlNFUlZFUlwiO1xyXG4gICAgICAgIFR5cGVbXCJPTkxJTkVcIl0gPSBcIk9OTElORVwiO1xyXG4gICAgICAgIFR5cGVbXCJPRkZMSU5FXCJdID0gXCJPRkZMSU5FXCI7XHJcbiAgICB9KShUeXBlID0gR2FtZS5UeXBlIHx8IChHYW1lLlR5cGUgPSB7fSkpO1xyXG4gICAgT2JqZWN0LmZyZWV6ZShUeXBlKTtcclxuICAgIC8qKlxyXG4gICAgICogLSAqKmBQTEFZSU5HYCoqIGNhbiBnbyB0bzpcclxuICAgICAqICAgLSBgUEFVU0VEYDogd2hlbiBhIHBhdXNlIHJlcXVlc3QgaW5pdGlhdGVkIGJ5IGEgcGxheWVyIGlzIGFjY2VwdGVkLlxyXG4gICAgICogICAtIGBPVkVSYDogIHdoZW4gY2VydGFpbiBjb25kaXRpb25zIG9mIHBsYXllcnMgYmVpbmcgZG93bmVkIGFyZSBtZXQuXHJcbiAgICAgKiAtICoqYFBBVVNFRGAqKiBjYW4gZ28gdG86XHJcbiAgICAgKiAgIC0gYFBMQVlJTkdgOiBzaW1pbGFyIHRvIFBMQVlJTkctPlBBVVNFRC5cclxuICAgICAqIC0gKipgT1ZFUmAqKiBjYW4gZ28gdG86XHJcbiAgICAgKiAgIC0gYFBMQVlJTkdgOiB2aWEgcmVzZXR0aW5nIHRoZSBnYW1lLlxyXG4gICAgICovXHJcbiAgICBsZXQgU3RhdHVzO1xyXG4gICAgKGZ1bmN0aW9uIChTdGF0dXMpIHtcclxuICAgICAgICBTdGF0dXNbXCJQTEFZSU5HXCJdID0gXCJQTEFZSU5HXCI7XHJcbiAgICAgICAgU3RhdHVzW1wiUEFVU0VEXCJdID0gXCJQQVVTRURcIjtcclxuICAgICAgICBTdGF0dXNbXCJPVkVSXCJdID0gXCJPVkVSXCI7XHJcbiAgICB9KShTdGF0dXMgPSBHYW1lLlN0YXR1cyB8fCAoR2FtZS5TdGF0dXMgPSB7fSkpO1xyXG4gICAgT2JqZWN0LmZyZWV6ZShTdGF0dXMpO1xyXG4gICAgLyoqXHJcbiAgICAgKiBHbG9iYWwsIEdhbWUtU2V0dXAtQWdub3N0aWMgY29uc3RhbnRzIGZvciB0dW5pbmcgZ2FtZSBiZWhhdmlvdXIuXHJcbiAgICAgKi9cclxuICAgIEdhbWUuSyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgdmFsdWUgaW4gYCgwLDFdYC4gSWYgYDFgLCB0aGVuIG5ldyBoZWFsdGggd2lsbCBiZSBzcGF3bmVkXHJcbiAgICAgICAgICogdGhlIG5leHQgdGltZSBgZHJ5UnVuU3Bhd25GcmVlSGVhbHRoYCBpcyBjYWxsZWQuIFRoaXMgaXMgdGhlXHJcbiAgICAgICAgICogcmVjaXByb2NhbCBvZiB0aGUgYXZlcmFnZSBudW1iZXIgb2YgY2FsbHMgdGhhdCBtdXN0IGJlIHRvXHJcbiAgICAgICAgICogYGRyeVJ1blNwYXduRnJlZUhlYWx0aGAgYmVmb3JlIGEgdW5pdCBvZiBoZWFsdGggd2lsbCBiZVxyXG4gICAgICAgICAqIHJlLXNwYXduZWQgYWZ0ZXIgYmVpbmcgY29uc3VtZWQuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgSEVBTFRIX1VQREFURV9DSEFOQ0U6IDAuMSxcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBZmZlY3RzIHRoZSBkaXN0cmlidXRpb24gb2YgaGVhbHRoIGFjcm9zcyB0aGUgZ3JpZDogXCJIb3dcclxuICAgICAgICAgKiBjb25jZW50cmF0ZWQgb3IgaG93IGRpbHV0ZWQgdGhlIGF2ZXJhZ2UgYW1vdW50IG9mIGhlYWx0aCBvblxyXG4gICAgICAgICAqIHRoZSBncmlkIHdpbGwgYmVcIi4gSGlnaGVyIHZhbHVlcyBjYXVzZSBjb25jZW50cmF0aW9uOyBsb3dlclxyXG4gICAgICAgICAqIHZhbHVlcyByZXN1bHQgaW4gZGlsdXRpb24uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgQVZFUkFHRV9IRUFMVEhfVE9fU1BBV05fT05fVElMRTogMS4wLFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgdmFsdWUgaW4gYCgwLDFdYC4gSWYgYDFgLCB0aGVuIHBsYXllcnMgY2FuIChvbiBhdmVyYWdlKSxcclxuICAgICAgICAgKiBib29zdCBpbmRlZmluaXRlbHkuIElmIGNsb3NlIHRvIHplcm8sIHRoZW4gcGxheWVycyB2aXJ0dWFsbHlcclxuICAgICAgICAgKiBjYW5ub3QgYm9vc3QsIG5vIG1hdHRlciBob3cgbXVjaCBoZWFsdGggdGhleSBoYXZlLiBJZiBgMC4zYCxcclxuICAgICAgICAgKiBwbGF5ZXJzIGNhbiBib29zdCBmb3Igcm91Z2hseSAzMCUgb2YgdGhlIG1vdmVtZW50cyB0aGV5IG1ha2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBUaGlzIHZhbHVlIGFzc3VtZXMgdGhhdCB0aGUgcGxheWVyIG1vdmVzIGFyb3VuZCBhaW1sZXNzbHlcclxuICAgICAgICAgKiBhbmQgcmFuZG9tbHkuIEFkanVzdG1lbnRzIGZvciBtb3JlIHJhdGlvbmFsIGFzc3VtcHRpb25zIGFyZVxyXG4gICAgICAgICAqIG5vdCB0byBiZSBtYWRlIF9oZXJlXy5cclxuICAgICAgICAgKi9cclxuICAgICAgICBQT1JUSU9OX09GX01PVkVTX1RIQVRfQVJFX0JPT1NUOiAwLjQsXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGFrZXMgaW50byBjb25zaWRlcmF0aW9uIGFsbCBjb250cmlidXRpbmcgZmFjdG9ycyB0byBkZXRlcm1pbmVcclxuICAgICAgICAgKiBob3cgbXVjaCBoZWFsdGggaXQgc2hvdWxkIGNvc3QgdG8gcGVyZm9ybSBhIHNpbmdsZSBib29zdC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEl0IGNhbGN1bGF0ZXMgZm9yIHRoZSBmb2xsb3dpbmcgYmVoYXZpb3VyOiBBc3N1bWluZyB0aGF0IGFcclxuICAgICAgICAgKiBwbGF5ZXIgaXMgb25seSB0cnlpbmcgdG8gY29sbGVjdCBoZWFsdGggYW5kIGFsd2F5cyB0YWtlcyB0aGVcclxuICAgICAgICAgKiBvcHRpbWFsIHJvdXRlLCBob3cgbXVjaCBoZWFsdGggc2hvdWxkIGl0IGNvc3QgdGhlbSB0byBib29zdFxyXG4gICAgICAgICAqIHN1Y2ggdGhhdCB0aGV5IGNhbiBvbmx5IG9ubHkgYm9vc3QgZm9yIGEgZGV0ZXJtaW5lZCBwZXJjZW50YWdlXHJcbiAgICAgICAgICogb2YgYWxsIHRoZWlyIG1vdmVtZW50IGFjdGlvbnM/XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgSEVBTFRIX0NPU1RfT0ZfQk9PU1QoYXZlcmFnZUhlYWx0aFBlclRpbGUsIGdyaWRHZXREaWFtZXRlcikge1xyXG4gICAgICAgICAgICAvLyBGaXJzdCwgYXNzdW1lIHRoYXQgYSBwbGF5ZXIgaGFzIGp1c3QgbGFuZGVkIG9uIGEgdGlsZVxyXG4gICAgICAgICAgICAvLyB3aXRoIGZyZWUgaGVhbHRoLCBhbmQgbm93IHBsYW5zIHRvIHRha2UgdGhlIG9wdGltYWxcclxuICAgICAgICAgICAgLy8gcm91dGUgdG8gdGhlIG5lYXJlc3QgdGlsZSB3aXRoIGZyZWUgaGVhbHRoLiBBc3N1bWUgdGhhdFxyXG4gICAgICAgICAgICAvLyBIZWFsdGggaXMgZGlzdHJpYnV0ZWQgdW5pZm9ybWx5LCBhbmQgc3BhY2VkIGV2ZW5seSBhcGFydC5cclxuICAgICAgICAgICAgLy8gVGhlbiB0aGUgZ3JpZC9mbG9vciBjYW4gYmUgbmljZWx5IGRpdmlkZWQgaW50byBzaW1pbGFyXHJcbiAgICAgICAgICAgIC8vIHBhdGNoZXMgZWFjaCB3aXRoIG9uZSB0aWxlIHdpdGggZnJlZSBoZWFsdGggaW4gdGhlIGNlbnRlci5cclxuICAgICAgICAgICAgLy8gRmluZCB0aGUgZGlhbWV0ZXIgb2YgYSBwYXRjaDpcclxuICAgICAgICAgICAgY29uc3QgcGF0Y2hBcmVhID0gdGhpcy5BVkVSQUdFX0hFQUxUSF9UT19TUEFXTl9PTl9USUxFIC8gYXZlcmFnZUhlYWx0aFBlclRpbGU7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhdGNoRGlhbWV0ZXIgPSBncmlkR2V0RGlhbWV0ZXIocGF0Y2hBcmVhKTtcclxuICAgICAgICAgICAgLy8gVGhlIHBhdGNoIGRpYW1ldGVyIGlzIHRoZSBhdmVyYWdlIG9wdGltYWwgZGlzdGFuY2UgdG9cclxuICAgICAgICAgICAgLy8gdGhlIG5lYXJlc3QgdGlsZSB3aXRoIGhlYWx0aCAodGhlIGNlbnRlciBvZiB0aGUgbmVhcmVzdFxyXG4gICAgICAgICAgICAvLyBwYXRjaCkuIFdlIGtub3cgaG93IG11Y2ggaGVhbHRoIGF3YWl0cyB0aGVyZSwgc28gd2UgY2FuXHJcbiAgICAgICAgICAgIC8vIGZpbmQgdGhlIGF2ZXJhZ2UgcmF0ZSBvZiBoZWFsdGggZ2FpbiBwZXIgbW92ZW1lbnQgb24gYW5cclxuICAgICAgICAgICAgLy8gb3B0aW1hbCBoZWFsdGgtc2Vla2luZyBwYXRoLlxyXG4gICAgICAgICAgICBjb25zdCBoZWFsdGhHYWluZWRQZXJPcHRpbWFsTW92ZSA9IHRoaXMuQVZFUkFHRV9IRUFMVEhfVE9fU1BBV05fT05fVElMRSAvIHBhdGNoRGlhbWV0ZXI7XHJcbiAgICAgICAgICAgIC8vIFNpbmNlIHRoZSBwb3J0aW9uIG9mIG1vdmVzIHRoYXQgY2FuIGJlIGJvb3N0cyBlcXVhbHNcclxuICAgICAgICAgICAgLy8gdGhlIHJhdGUgb2YgaGVhbHRoIGdhaW4gZGl2aWRlZCBieSB0aGUgaGVhbHRoIGNvc3Qgb2ZcclxuICAgICAgICAgICAgLy8gYm9vc3RpbmcsIChyZWFycmFuZ2UgdGVybXMgdG8gc29sdmUpOlxyXG4gICAgICAgICAgICByZXR1cm4gaGVhbHRoR2FpbmVkUGVyT3B0aW1hbE1vdmUgLyB0aGlzLlBPUlRJT05fT0ZfTU9WRVNfVEhBVF9BUkVfQk9PU1Q7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIHZhbHVlIGluIGAoMCwxXWAgKHZhbHVlcyBncmVhdGVyIHRoYW4gb25lIGFyZSBsZWdhbCBmcm9tXHJcbiAgICAgICAgICogYSBtYXRoZW1hdGljYWwgc3RhbmRwb2ludCwgYnV0IG5vdCBmcm9tIG9uZSBvZiBnYW1lLWRlc2lnbikuXHJcbiAgICAgICAgICogU2NhbGVzIHRoZSBoZWFsdGggcmVjZWl2ZWQgZnJvbSBwaWNraW5nIHVwIGZyZWUgaGVhbHRoIGZvclxyXG4gICAgICAgICAqIGEgcGxheWVyIHdobyBpcyBkb3duZWQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBUaGlzIHZhbHVlIGV4aXN0cyB0byBkYW1wZW4gdGhlIGFiaWxpdHkgZm9yIHRlYW0gbWVtYmVycyB0b1xyXG4gICAgICAgICAqIHJlZ2VuZXJhdGUgaGVhbHRoIHdoZW4gZG93bmVkIHNvIHRoYXQgaXQgdGFrZXMgYSAoc3ViamVjdGl2ZWx5KVxyXG4gICAgICAgICAqIFwicmVhc29uYWJsZVwiIGFtb3VudCBvZiBlZmZvcnQgdG8gZWxpbWluYXRlIGFuIGVudGlyZSB0ZWFtLVxyXG4gICAgICAgICAqIG5vdCB0b28gbXVjaCwgbm90IHRvbyBsaXR0bGUuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgSEVBTFRIX0VGRkVDVF9GT1JfRE9XTkVEX1BMQVlFUjogMC42LFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgc3RyaWN0bHktcG9zaXRpdmUgaW50ZWdlci5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFRoaXMgZGVzY3JpYmVzIGEgZnVuY3Rpb25hbGl0eSBwdXQgaW4gcGxhY2UgdG8gbGltaXQgbWVtb3J5XHJcbiAgICAgICAgICogY29uc3VtcHRpb24gZm9yIGtlZXBpbmcgdHJhY2sgb2YgZXZlbnRzIGFmZmVjdGVkIGJ5IG5ldHdvcmtcclxuICAgICAgICAgKiBsYXRlbmN5LiBTZWUgYEVWRU5UX1JFQ09SRF9GT1JXQVJEX1dJTkRPV19MRU5HVEhgIGZvciBtb3JlXHJcbiAgICAgICAgICogZXhwbGFuYXRpb24uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgRVZFTlRfUkVDT1JEX1dSQVBQSU5HX0JVRkZFUl9MRU5HVEg6IDEyOCxcclxuICAgICAgICAvKipcclxuICAgICAgICAgKi9cclxuICAgICAgICBFVkVOVF9SRUNPUkRfRk9SV0FSRF9XSU5ET1dfTEVOR1RIOiA2NCxcclxuICAgIH0pO1xyXG59KShHYW1lIHx8IChHYW1lID0ge30pKTtcclxuT2JqZWN0LmZyZWV6ZShHYW1lKTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/base/game/Game.ts\n");

/***/ }),

/***/ "./src/client/SkSockets.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SkSockets\": () => /* binding */ SkSockets\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var defs_JsUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/base/defs/JsUtils.ts\");\n/* harmony import */ var defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/base/defs/OnlineDefs.ts\");\nvar _sock;\r\n\r\n\r\n\r\n/**\r\n *\r\n */\r\nclass SkSockets {\r\n    // #socketIoChunk: Promise<typeof import(\"socket.io-client\")>;\r\n    constructor() {\r\n        _sock.set(this, void 0);\r\n        (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldSet)(this, _sock, {\r\n            joiner: undefined,\r\n            group: undefined,\r\n            game: undefined,\r\n        });\r\n    }\r\n    get socketIo() {\r\n        // return this.#socketIoChunk\r\n        // || (this.#socketIoChunk = import(\r\n        //     /* webpackChunkName: \"[request]\" */\r\n        //     \"socket.io-client\"\r\n        // ));\r\n        return (() => {\r\n            let cached;\r\n            return cached || (cached = new Promise((resolve, reject) => {\r\n                const script = defs_JsUtils__WEBPACK_IMPORTED_MODULE_0__.JsUtils.mkEl(\"script\", []);\r\n                script.onload = () => {\r\n                    resolve(io);\r\n                };\r\n                script.src = document.getElementById(\"socket.io-preload\").href;\r\n                document.body.appendChild(script);\r\n            }));\r\n        })();\r\n    }\r\n    get joinerSocket() { return (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldGet)(this, _sock).joiner; }\r\n    get groupSocket() { return (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldGet)(this, _sock).group; }\r\n    get gameSocket() { return (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldGet)(this, _sock).game; }\r\n    /**\r\n     * Makes the first connection to a game-hosting server.\r\n     */\r\n    joinerSocketConnect(args) {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__awaiter)(this, void 0, void 0, function* () {\r\n            const manager = (yield this.socketIo).Manager(args.serverUrl.toString(), {\r\n                // https://socket.io/docs/client-api/#new-Manager-url-options\r\n                reconnectionAttempts: defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_1__.Group.GameServerReconnectionAttempts,\r\n            });\r\n            const socket = manager.socket(defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_1__.SkServer.Nsps.GROUP_JOINER);\r\n            this._registerSocket(socket, \"joiner\");\r\n            return socket;\r\n        });\r\n    }\r\n    /**\r\n     */\r\n    groupSocketConnect(groupName, query) {\r\n        return this._groupSocketHelper(\"group\", groupName, query);\r\n    }\r\n    /**\r\n     */\r\n    gameSocketConnect(groupName, query) {\r\n        return this._groupSocketHelper(\"game\", groupName, query);\r\n    }\r\n    /**\r\n     */\r\n    _groupSocketHelper(_category, groupName, query) {\r\n        let nspsPrefix;\r\n        switch (_category) {\r\n            case \"group\":\r\n                nspsPrefix = defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_1__.SkServer.Nsps.GROUP_LOBBY_PREFIX;\r\n                break;\r\n            case \"game\":\r\n                nspsPrefix = defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_1__.SkServer.Nsps.GROUP_GAME_PREFIX;\r\n                break;\r\n            default: throw new TypeError(\"never\");\r\n        }\r\n        const socket = this.joinerSocket.io\r\n            // @ts-expect-error : Socket.IO types package is currently wrong.\r\n            .socket(nspsPrefix + groupName, query);\r\n        this._registerSocket(socket, _category);\r\n        return socket;\r\n    }\r\n    /**\r\n     */\r\n    _registerSocket(socket, name) {\r\n        (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldGet)(this, _sock)[name] = socket;\r\n        const byeBye = () => {\r\n            socket.removeAllListeners();\r\n            socket.close();\r\n            (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldGet)(this, _sock)[name] = undefined;\r\n        };\r\n        socket\r\n            .on(\"connect_error\", (error) => {\r\n            byeBye();\r\n        })\r\n            .on(\"disconnect\", (reason) => {\r\n            if (reason === \"io server disconnect\"\r\n                || reason === \"io client disconnect\") {\r\n                byeBye();\r\n            }\r\n        });\r\n    }\r\n}\r\n_sock = new WeakMap();\r\ndefs_JsUtils__WEBPACK_IMPORTED_MODULE_0__.JsUtils.protoNoEnum(SkSockets, [\r\n    \"joinerSocketConnect\", \"groupSocketConnect\", \"gameSocketConnect\",\r\n    \"_groupSocketHelper\", \"_registerSocket\",\r\n]);\r\nObject.freeze(SkSockets);\r\nObject.freeze(SkSockets.prototype);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L1NrU29ja2V0cy50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL3NuYWtleTMvLi9zcmMvY2xpZW50L1NrU29ja2V0cy50cz9kMTkwIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfc29jaztcclxuaW1wb3J0IHsgX19hd2FpdGVyLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0LCBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0IH0gZnJvbSBcInRzbGliXCI7XHJcbmltcG9ydCB7IEpzVXRpbHMgfSBmcm9tIFwiZGVmcy9Kc1V0aWxzXCI7XHJcbmltcG9ydCB7IEdyb3VwLCBTa1NlcnZlciB9IGZyb20gXCJkZWZzL09ubGluZURlZnNcIjtcclxuLyoqXHJcbiAqXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU2tTb2NrZXRzIHtcclxuICAgIC8vICNzb2NrZXRJb0NodW5rOiBQcm9taXNlPHR5cGVvZiBpbXBvcnQoXCJzb2NrZXQuaW8tY2xpZW50XCIpPjtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIF9zb2NrLnNldCh0aGlzLCB2b2lkIDApO1xyXG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX3NvY2ssIHtcclxuICAgICAgICAgICAgam9pbmVyOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIGdyb3VwOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIGdhbWU6IHVuZGVmaW5lZCxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGdldCBzb2NrZXRJbygpIHtcclxuICAgICAgICAvLyByZXR1cm4gdGhpcy4jc29ja2V0SW9DaHVua1xyXG4gICAgICAgIC8vIHx8ICh0aGlzLiNzb2NrZXRJb0NodW5rID0gaW1wb3J0KFxyXG4gICAgICAgIC8vICAgICAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcIltyZXF1ZXN0XVwiICovXHJcbiAgICAgICAgLy8gICAgIFwic29ja2V0LmlvLWNsaWVudFwiXHJcbiAgICAgICAgLy8gKSk7XHJcbiAgICAgICAgcmV0dXJuICgoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjYWNoZWQ7XHJcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWQgfHwgKGNhY2hlZCA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNjcmlwdCA9IEpzVXRpbHMubWtFbChcInNjcmlwdFwiLCBbXSk7XHJcbiAgICAgICAgICAgICAgICBzY3JpcHQub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoaW8pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHNjcmlwdC5zcmMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvY2tldC5pby1wcmVsb2FkXCIpLmhyZWY7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9KSgpO1xyXG4gICAgfVxyXG4gICAgZ2V0IGpvaW5lclNvY2tldCgpIHsgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX3NvY2spLmpvaW5lcjsgfVxyXG4gICAgZ2V0IGdyb3VwU29ja2V0KCkgeyByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfc29jaykuZ3JvdXA7IH1cclxuICAgIGdldCBnYW1lU29ja2V0KCkgeyByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfc29jaykuZ2FtZTsgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBNYWtlcyB0aGUgZmlyc3QgY29ubmVjdGlvbiB0byBhIGdhbWUtaG9zdGluZyBzZXJ2ZXIuXHJcbiAgICAgKi9cclxuICAgIGpvaW5lclNvY2tldENvbm5lY3QoYXJncykge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1hbmFnZXIgPSAoeWllbGQgdGhpcy5zb2NrZXRJbykuTWFuYWdlcihhcmdzLnNlcnZlclVybC50b1N0cmluZygpLCB7XHJcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3NvY2tldC5pby9kb2NzL2NsaWVudC1hcGkvI25ldy1NYW5hZ2VyLXVybC1vcHRpb25zXHJcbiAgICAgICAgICAgICAgICByZWNvbm5lY3Rpb25BdHRlbXB0czogR3JvdXAuR2FtZVNlcnZlclJlY29ubmVjdGlvbkF0dGVtcHRzLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc3Qgc29ja2V0ID0gbWFuYWdlci5zb2NrZXQoU2tTZXJ2ZXIuTnNwcy5HUk9VUF9KT0lORVIpO1xyXG4gICAgICAgICAgICB0aGlzLl9yZWdpc3RlclNvY2tldChzb2NrZXQsIFwiam9pbmVyXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gc29ja2V0O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKi9cclxuICAgIGdyb3VwU29ja2V0Q29ubmVjdChncm91cE5hbWUsIHF1ZXJ5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dyb3VwU29ja2V0SGVscGVyKFwiZ3JvdXBcIiwgZ3JvdXBOYW1lLCBxdWVyeSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqL1xyXG4gICAgZ2FtZVNvY2tldENvbm5lY3QoZ3JvdXBOYW1lLCBxdWVyeSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9ncm91cFNvY2tldEhlbHBlcihcImdhbWVcIiwgZ3JvdXBOYW1lLCBxdWVyeSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqL1xyXG4gICAgX2dyb3VwU29ja2V0SGVscGVyKF9jYXRlZ29yeSwgZ3JvdXBOYW1lLCBxdWVyeSkge1xyXG4gICAgICAgIGxldCBuc3BzUHJlZml4O1xyXG4gICAgICAgIHN3aXRjaCAoX2NhdGVnb3J5KSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJncm91cFwiOlxyXG4gICAgICAgICAgICAgICAgbnNwc1ByZWZpeCA9IFNrU2VydmVyLk5zcHMuR1JPVVBfTE9CQllfUFJFRklYO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJnYW1lXCI6XHJcbiAgICAgICAgICAgICAgICBuc3BzUHJlZml4ID0gU2tTZXJ2ZXIuTnNwcy5HUk9VUF9HQU1FX1BSRUZJWDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgVHlwZUVycm9yKFwibmV2ZXJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHNvY2tldCA9IHRoaXMuam9pbmVyU29ja2V0LmlvXHJcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgOiBTb2NrZXQuSU8gdHlwZXMgcGFja2FnZSBpcyBjdXJyZW50bHkgd3JvbmcuXHJcbiAgICAgICAgICAgIC5zb2NrZXQobnNwc1ByZWZpeCArIGdyb3VwTmFtZSwgcXVlcnkpO1xyXG4gICAgICAgIHRoaXMuX3JlZ2lzdGVyU29ja2V0KHNvY2tldCwgX2NhdGVnb3J5KTtcclxuICAgICAgICByZXR1cm4gc29ja2V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKi9cclxuICAgIF9yZWdpc3RlclNvY2tldChzb2NrZXQsIG5hbWUpIHtcclxuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9zb2NrKVtuYW1lXSA9IHNvY2tldDtcclxuICAgICAgICBjb25zdCBieWVCeWUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHNvY2tldC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcclxuICAgICAgICAgICAgc29ja2V0LmNsb3NlKCk7XHJcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX3NvY2spW25hbWVdID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc29ja2V0XHJcbiAgICAgICAgICAgIC5vbihcImNvbm5lY3RfZXJyb3JcIiwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgIGJ5ZUJ5ZSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbihcImRpc2Nvbm5lY3RcIiwgKHJlYXNvbikgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVhc29uID09PSBcImlvIHNlcnZlciBkaXNjb25uZWN0XCJcclxuICAgICAgICAgICAgICAgIHx8IHJlYXNvbiA9PT0gXCJpbyBjbGllbnQgZGlzY29ubmVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICBieWVCeWUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbl9zb2NrID0gbmV3IFdlYWtNYXAoKTtcclxuSnNVdGlscy5wcm90b05vRW51bShTa1NvY2tldHMsIFtcclxuICAgIFwiam9pbmVyU29ja2V0Q29ubmVjdFwiLCBcImdyb3VwU29ja2V0Q29ubmVjdFwiLCBcImdhbWVTb2NrZXRDb25uZWN0XCIsXHJcbiAgICBcIl9ncm91cFNvY2tldEhlbHBlclwiLCBcIl9yZWdpc3RlclNvY2tldFwiLFxyXG5dKTtcclxuT2JqZWN0LmZyZWV6ZShTa1NvY2tldHMpO1xyXG5PYmplY3QuZnJlZXplKFNrU29ja2V0cy5wcm90b3R5cGUpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/client/SkSockets.ts\n");

/***/ }),

/***/ "./src/client/TopLevel.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TopLevel\": () => /* binding */ TopLevel\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var defs_JsUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/base/defs/JsUtils.ts\");\n/* harmony import */ var defs_OmHooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/base/defs/OmHooks.ts\");\n/* harmony import */ var defs_StorageHooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/base/defs/StorageHooks.ts\");\n/* harmony import */ var _screen_AllSkScreens__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/client/screen/AllSkScreens.ts\");\n/* harmony import */ var _screen_ScreenTransition__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./src/client/screen/ScreenTransition.ts\");\n/* harmony import */ var _SkSockets__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./src/client/SkSockets.ts\");\nvar _allScreens;\r\n\r\n\r\n\r\n\r\n\r\n\r\n//import { BgMusic }      from \"./audio/BgMusic\";\r\n//import { SoundEffects } from \"./audio/SoundEffects\";\r\n\r\n/**\r\n *\r\n */\r\nclass TopLevel {\r\n    constructor() {\r\n        /**\r\n         * Purposely made private. Screens are intended to navigate\r\n         * between each other without reference to this field.\r\n         */\r\n        _allScreens.set(this, void 0);\r\n        this.defaultDocTitle = document.title;\r\n        this.webpageHostType = (() => {\r\n            if (window.location.origin.match(/github\\.io/)) {\r\n                return TopLevel.WebpageHostType.GITHUB;\r\n            }\r\n            else if (window.location.protocol.startsWith(\"file\")) {\r\n                return TopLevel.WebpageHostType.FILESYSTEM;\r\n            }\r\n            else {\r\n                return TopLevel.WebpageHostType.SNAKEY_SERVER;\r\n            }\r\n        })();\r\n        defs_JsUtils__WEBPACK_IMPORTED_MODULE_0__.JsUtils.propNoWrite(this, [\r\n            \"defaultDocTitle\", \"webpageHostType\",\r\n        ]);\r\n        this.storage = defs_StorageHooks__WEBPACK_IMPORTED_MODULE_2__.StorageHooks;\r\n        this.sockets = new _SkSockets__WEBPACK_IMPORTED_MODULE_5__.SkSockets();\r\n        this.transition = new _screen_ScreenTransition__WEBPACK_IMPORTED_MODULE_4__.ScreenTransition();\r\n        defs_JsUtils__WEBPACK_IMPORTED_MODULE_0__.JsUtils.propNoWrite(this, [\r\n            \"storage\", \"sockets\", \"transition\",\r\n        ]);\r\n        const allScreensElem = document.getElementById(defs_OmHooks__WEBPACK_IMPORTED_MODULE_1__.OmHooks.Screen.Id.ALL_SCREENS);\r\n        if (!allScreensElem) {\r\n            throw new Error(\"never\");\r\n        }\r\n        defs_JsUtils__WEBPACK_IMPORTED_MODULE_0__.JsUtils.prependComment(allScreensElem, \"ALL SCREENS CONTAINER\");\r\n        (0,tslib__WEBPACK_IMPORTED_MODULE_6__.__classPrivateFieldSet)(this, _allScreens, new _screen_AllSkScreens__WEBPACK_IMPORTED_MODULE_3__.AllSkScreens(this, allScreensElem));\r\n        //\r\n        // this.bgMusic = new BgMusic(BgMusic.TrackDescs[0].id);\r\n        // this.sfx = new SoundEffects(SoundEffects.Descs[0].id);\r\n        defs_JsUtils__WEBPACK_IMPORTED_MODULE_0__.JsUtils.propNoWrite(this, [\r\n        /* \"bgMusic\", \"sfx\", */ // TODO.build uncomment when music classes implemented.\r\n        ]);\r\n    }\r\n    /**\r\n     */\r\n    get clientIsGroupHost() {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_6__.__classPrivateFieldGet)(this, _allScreens).dict.groupJoiner.clientIsGroupHost;\r\n    }\r\n    toast(message) {\r\n        // TODO.impl\r\n        console.info(message);\r\n    }\r\n    /**\r\n     * For debugging purposes- especially in the browser console.\r\n     */\r\n    get game() {\r\n        var _a;\r\n        return (_a = ((0,tslib__WEBPACK_IMPORTED_MODULE_6__.__classPrivateFieldGet)(this, _allScreens).dict.playOffline).probeCurrentGame) !== null && _a !== void 0 ? _a : ((0,tslib__WEBPACK_IMPORTED_MODULE_6__.__classPrivateFieldGet)(this, _allScreens).dict.playOnline).probeCurrentGame;\r\n    }\r\n    /**\r\n     * For debugging purposes- especially in the browser console.\r\n     */\r\n    get currentScreen() {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_6__.__classPrivateFieldGet)(this, _allScreens).currentScreen;\r\n    }\r\n}\r\n_allScreens = new WeakMap();\r\n(function (TopLevel) {\r\n    let WebpageHostType;\r\n    (function (WebpageHostType) {\r\n        WebpageHostType[\"GITHUB\"] = \"github\";\r\n        WebpageHostType[\"FILESYSTEM\"] = \"filesystem\";\r\n        WebpageHostType[\"SNAKEY_SERVER\"] = \"sk-server\";\r\n    })(WebpageHostType = TopLevel.WebpageHostType || (TopLevel.WebpageHostType = {}));\r\n})(TopLevel || (TopLevel = {}));\r\nObject.freeze(TopLevel);\r\nObject.freeze(TopLevel.prototype);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L1RvcExldmVsLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc25ha2V5My8uL3NyYy9jbGllbnQvVG9wTGV2ZWwudHM/YzVjMSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX2FsbFNjcmVlbnM7XHJcbmltcG9ydCB7IF9fY2xhc3NQcml2YXRlRmllbGRHZXQsIF9fY2xhc3NQcml2YXRlRmllbGRTZXQgfSBmcm9tIFwidHNsaWJcIjtcclxuaW1wb3J0IHsgSnNVdGlscyB9IGZyb20gXCJkZWZzL0pzVXRpbHNcIjtcclxuaW1wb3J0IHsgT21Ib29rcyB9IGZyb20gXCJkZWZzL09tSG9va3NcIjtcclxuaW1wb3J0IHsgU3RvcmFnZUhvb2tzIH0gZnJvbSBcImRlZnMvU3RvcmFnZUhvb2tzXCI7XHJcbmltcG9ydCB7IEFsbFNrU2NyZWVucyB9IGZyb20gXCIuL3NjcmVlbi9BbGxTa1NjcmVlbnNcIjtcclxuaW1wb3J0IHsgU2NyZWVuVHJhbnNpdGlvbiB9IGZyb20gXCIuL3NjcmVlbi9TY3JlZW5UcmFuc2l0aW9uXCI7XHJcbi8vaW1wb3J0IHsgQmdNdXNpYyB9ICAgICAgZnJvbSBcIi4vYXVkaW8vQmdNdXNpY1wiO1xyXG4vL2ltcG9ydCB7IFNvdW5kRWZmZWN0cyB9IGZyb20gXCIuL2F1ZGlvL1NvdW5kRWZmZWN0c1wiO1xyXG5pbXBvcnQgeyBTa1NvY2tldHMgfSBmcm9tIFwiLi9Ta1NvY2tldHNcIjtcclxuLyoqXHJcbiAqXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVG9wTGV2ZWwge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUHVycG9zZWx5IG1hZGUgcHJpdmF0ZS4gU2NyZWVucyBhcmUgaW50ZW5kZWQgdG8gbmF2aWdhdGVcclxuICAgICAgICAgKiBiZXR3ZWVuIGVhY2ggb3RoZXIgd2l0aG91dCByZWZlcmVuY2UgdG8gdGhpcyBmaWVsZC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBfYWxsU2NyZWVucy5zZXQodGhpcywgdm9pZCAwKTtcclxuICAgICAgICB0aGlzLmRlZmF1bHREb2NUaXRsZSA9IGRvY3VtZW50LnRpdGxlO1xyXG4gICAgICAgIHRoaXMud2VicGFnZUhvc3RUeXBlID0gKCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4ubWF0Y2goL2dpdGh1YlxcLmlvLykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBUb3BMZXZlbC5XZWJwYWdlSG9zdFR5cGUuR0lUSFVCO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbC5zdGFydHNXaXRoKFwiZmlsZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFRvcExldmVsLldlYnBhZ2VIb3N0VHlwZS5GSUxFU1lTVEVNO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFRvcExldmVsLldlYnBhZ2VIb3N0VHlwZS5TTkFLRVlfU0VSVkVSO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkoKTtcclxuICAgICAgICBKc1V0aWxzLnByb3BOb1dyaXRlKHRoaXMsIFtcclxuICAgICAgICAgICAgXCJkZWZhdWx0RG9jVGl0bGVcIiwgXCJ3ZWJwYWdlSG9zdFR5cGVcIixcclxuICAgICAgICBdKTtcclxuICAgICAgICB0aGlzLnN0b3JhZ2UgPSBTdG9yYWdlSG9va3M7XHJcbiAgICAgICAgdGhpcy5zb2NrZXRzID0gbmV3IFNrU29ja2V0cygpO1xyXG4gICAgICAgIHRoaXMudHJhbnNpdGlvbiA9IG5ldyBTY3JlZW5UcmFuc2l0aW9uKCk7XHJcbiAgICAgICAgSnNVdGlscy5wcm9wTm9Xcml0ZSh0aGlzLCBbXHJcbiAgICAgICAgICAgIFwic3RvcmFnZVwiLCBcInNvY2tldHNcIiwgXCJ0cmFuc2l0aW9uXCIsXHJcbiAgICAgICAgXSk7XHJcbiAgICAgICAgY29uc3QgYWxsU2NyZWVuc0VsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChPbUhvb2tzLlNjcmVlbi5JZC5BTExfU0NSRUVOUyk7XHJcbiAgICAgICAgaWYgKCFhbGxTY3JlZW5zRWxlbSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJuZXZlclwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgSnNVdGlscy5wcmVwZW5kQ29tbWVudChhbGxTY3JlZW5zRWxlbSwgXCJBTEwgU0NSRUVOUyBDT05UQUlORVJcIik7XHJcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfYWxsU2NyZWVucywgbmV3IEFsbFNrU2NyZWVucyh0aGlzLCBhbGxTY3JlZW5zRWxlbSkpO1xyXG4gICAgICAgIC8vXHJcbiAgICAgICAgLy8gdGhpcy5iZ011c2ljID0gbmV3IEJnTXVzaWMoQmdNdXNpYy5UcmFja0Rlc2NzWzBdLmlkKTtcclxuICAgICAgICAvLyB0aGlzLnNmeCA9IG5ldyBTb3VuZEVmZmVjdHMoU291bmRFZmZlY3RzLkRlc2NzWzBdLmlkKTtcclxuICAgICAgICBKc1V0aWxzLnByb3BOb1dyaXRlKHRoaXMsIFtcclxuICAgICAgICAvKiBcImJnTXVzaWNcIiwgXCJzZnhcIiwgKi8gLy8gVE9ETy5idWlsZCB1bmNvbW1lbnQgd2hlbiBtdXNpYyBjbGFzc2VzIGltcGxlbWVudGVkLlxyXG4gICAgICAgIF0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKi9cclxuICAgIGdldCBjbGllbnRJc0dyb3VwSG9zdCgpIHtcclxuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfYWxsU2NyZWVucykuZGljdC5ncm91cEpvaW5lci5jbGllbnRJc0dyb3VwSG9zdDtcclxuICAgIH1cclxuICAgIHRvYXN0KG1lc3NhZ2UpIHtcclxuICAgICAgICAvLyBUT0RPLmltcGxcclxuICAgICAgICBjb25zb2xlLmluZm8obWVzc2FnZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEZvciBkZWJ1Z2dpbmcgcHVycG9zZXMtIGVzcGVjaWFsbHkgaW4gdGhlIGJyb3dzZXIgY29uc29sZS5cclxuICAgICAqL1xyXG4gICAgZ2V0IGdhbWUoKSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIHJldHVybiAoX2EgPSAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfYWxsU2NyZWVucykuZGljdC5wbGF5T2ZmbGluZSkucHJvYmVDdXJyZW50R2FtZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX2FsbFNjcmVlbnMpLmRpY3QucGxheU9ubGluZSkucHJvYmVDdXJyZW50R2FtZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRm9yIGRlYnVnZ2luZyBwdXJwb3Nlcy0gZXNwZWNpYWxseSBpbiB0aGUgYnJvd3NlciBjb25zb2xlLlxyXG4gICAgICovXHJcbiAgICBnZXQgY3VycmVudFNjcmVlbigpIHtcclxuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfYWxsU2NyZWVucykuY3VycmVudFNjcmVlbjtcclxuICAgIH1cclxufVxyXG5fYWxsU2NyZWVucyA9IG5ldyBXZWFrTWFwKCk7XHJcbihmdW5jdGlvbiAoVG9wTGV2ZWwpIHtcclxuICAgIGxldCBXZWJwYWdlSG9zdFR5cGU7XHJcbiAgICAoZnVuY3Rpb24gKFdlYnBhZ2VIb3N0VHlwZSkge1xyXG4gICAgICAgIFdlYnBhZ2VIb3N0VHlwZVtcIkdJVEhVQlwiXSA9IFwiZ2l0aHViXCI7XHJcbiAgICAgICAgV2VicGFnZUhvc3RUeXBlW1wiRklMRVNZU1RFTVwiXSA9IFwiZmlsZXN5c3RlbVwiO1xyXG4gICAgICAgIFdlYnBhZ2VIb3N0VHlwZVtcIlNOQUtFWV9TRVJWRVJcIl0gPSBcInNrLXNlcnZlclwiO1xyXG4gICAgfSkoV2VicGFnZUhvc3RUeXBlID0gVG9wTGV2ZWwuV2VicGFnZUhvc3RUeXBlIHx8IChUb3BMZXZlbC5XZWJwYWdlSG9zdFR5cGUgPSB7fSkpO1xyXG59KShUb3BMZXZlbCB8fCAoVG9wTGV2ZWwgPSB7fSkpO1xyXG5PYmplY3QuZnJlZXplKFRvcExldmVsKTtcclxuT2JqZWN0LmZyZWV6ZShUb3BMZXZlbC5wcm90b3R5cGUpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/client/TopLevel.ts\n");

/***/ }),

/***/ "./src/client/index.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"OmHooks\": () => /* reexport safe */ defs_OmHooks__WEBPACK_IMPORTED_MODULE_1__.OmHooks,\n/* harmony export */   \"top\": () => /* binding */ top,\n/* harmony export */   \"screen\": () => /* binding */ screen,\n/* harmony export */   \"game\": () => /* binding */ game\n/* harmony export */ });\n/* harmony import */ var _TopLevel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/client/TopLevel.ts\");\n/* harmony import */ var defs_OmHooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/base/defs/OmHooks.ts\");\n// STYLE IMPORT:\r\n\r\n// None shall touch Object.prototype >:(\r\nObject.freeze(Object.prototype);\r\n\r\n\r\n// window.onerror = (msg, url, lineNum) => {\r\n//     alert(`Error message: ${msg}\\nURL: ${url}\\nLine Number: ${lineNum}`);\r\n//     return true;\r\n// }\r\nconst _top = new _TopLevel__WEBPACK_IMPORTED_MODULE_0__.TopLevel();\r\nconst top = (() => {\r\n    const ENV_DEVELOPMENT = true; // TODO.build set this after installing webpack-define\r\n    return ENV_DEVELOPMENT ? _top : undefined;\r\n})();\r\nfunction screen() {\r\n    return _top.currentScreen;\r\n}\r\nfunction game() {\r\n    return _top.game;\r\n}\r\nconsole.log(\"%c🩺 welcome! 🐍\", \"font:700 2.3em /1.5 monospace;\"\r\n    + \" margin:0.4em; border:0.3em solid black;padding:0.4em;\"\r\n    + \" color:white; background-color:#3f5e77; border-radius:0.7em; \");\r\n/**\r\n * https://developers.google.com/web/fundamentals/primers/service-workers\r\n */\r\n(() => {\r\n    if (_top.webpageHostType === _TopLevel__WEBPACK_IMPORTED_MODULE_0__.TopLevel.WebpageHostType.GITHUB && \"serviceWorker\" in navigator) {\r\n        window.addEventListener('load', function () {\r\n            // https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/register\r\n            navigator.serviceWorker.register(\"/ServiceWorker.js\").then((registration) => {\r\n                console.log('ServiceWorker registration successful with scope: ', registration.scope);\r\n            }, (err) => {\r\n                console.log('ServiceWorker registration failed: ', err);\r\n            });\r\n            // TODO.learn Using Service Workers to make an offline-friendly PWA.\r\n            // https://developer.mozilla.org/en-US/docs/Web/Progressive_web_apps/Offline_Service_workers\r\n        });\r\n    }\r\n})();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L2luZGV4LnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc25ha2V5My8uL3NyYy9jbGllbnQvaW5kZXgudHM/YmI4MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTVFlMRSBJTVBPUlQ6XHJcbmltcG9ydCBcImFzc2V0cy9zdHlsZS9pbml0aWFsL19iYXJyZWwuY3NzXCI7XHJcbi8vIE5vbmUgc2hhbGwgdG91Y2ggT2JqZWN0LnByb3RvdHlwZSA+OihcclxuT2JqZWN0LmZyZWV6ZShPYmplY3QucHJvdG90eXBlKTtcclxuaW1wb3J0IHsgVG9wTGV2ZWwgfSBmcm9tIFwiLi9Ub3BMZXZlbFwiO1xyXG5leHBvcnQgeyBPbUhvb2tzIH0gZnJvbSBcImRlZnMvT21Ib29rc1wiO1xyXG4vLyB3aW5kb3cub25lcnJvciA9IChtc2csIHVybCwgbGluZU51bSkgPT4ge1xyXG4vLyAgICAgYWxlcnQoYEVycm9yIG1lc3NhZ2U6ICR7bXNnfVxcblVSTDogJHt1cmx9XFxuTGluZSBOdW1iZXI6ICR7bGluZU51bX1gKTtcclxuLy8gICAgIHJldHVybiB0cnVlO1xyXG4vLyB9XHJcbmNvbnN0IF90b3AgPSBuZXcgVG9wTGV2ZWwoKTtcclxuZXhwb3J0IGNvbnN0IHRvcCA9ICgoKSA9PiB7XHJcbiAgICBjb25zdCBFTlZfREVWRUxPUE1FTlQgPSB0cnVlOyAvLyBUT0RPLmJ1aWxkIHNldCB0aGlzIGFmdGVyIGluc3RhbGxpbmcgd2VicGFjay1kZWZpbmVcclxuICAgIHJldHVybiBFTlZfREVWRUxPUE1FTlQgPyBfdG9wIDogdW5kZWZpbmVkO1xyXG59KSgpO1xyXG5leHBvcnQgZnVuY3Rpb24gc2NyZWVuKCkge1xyXG4gICAgcmV0dXJuIF90b3AuY3VycmVudFNjcmVlbjtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZ2FtZSgpIHtcclxuICAgIHJldHVybiBfdG9wLmdhbWU7XHJcbn1cclxuY29uc29sZS5sb2coXCIlY/Cfqbogd2VsY29tZSEg8J+QjVwiLCBcImZvbnQ6NzAwIDIuM2VtIC8xLjUgbW9ub3NwYWNlO1wiXHJcbiAgICArIFwiIG1hcmdpbjowLjRlbTsgYm9yZGVyOjAuM2VtIHNvbGlkIGJsYWNrO3BhZGRpbmc6MC40ZW07XCJcclxuICAgICsgXCIgY29sb3I6d2hpdGU7IGJhY2tncm91bmQtY29sb3I6IzNmNWU3NzsgYm9yZGVyLXJhZGl1czowLjdlbTsgXCIpO1xyXG4vKipcclxuICogaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vd2ViL2Z1bmRhbWVudGFscy9wcmltZXJzL3NlcnZpY2Utd29ya2Vyc1xyXG4gKi9cclxuKCgpID0+IHtcclxuICAgIGlmIChfdG9wLndlYnBhZ2VIb3N0VHlwZSA9PT0gVG9wTGV2ZWwuV2VicGFnZUhvc3RUeXBlLkdJVEhVQiAmJiBcInNlcnZpY2VXb3JrZXJcIiBpbiBuYXZpZ2F0b3IpIHtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1NlcnZpY2VXb3JrZXJDb250YWluZXIvcmVnaXN0ZXJcclxuICAgICAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoXCIvU2VydmljZVdvcmtlci5qc1wiKS50aGVuKChyZWdpc3RyYXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXJ2aWNlV29ya2VyIHJlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsIHdpdGggc2NvcGU6ICcsIHJlZ2lzdHJhdGlvbi5zY29wZSk7XHJcbiAgICAgICAgICAgIH0sIChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXJ2aWNlV29ya2VyIHJlZ2lzdHJhdGlvbiBmYWlsZWQ6ICcsIGVycik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBUT0RPLmxlYXJuIFVzaW5nIFNlcnZpY2UgV29ya2VycyB0byBtYWtlIGFuIG9mZmxpbmUtZnJpZW5kbHkgUFdBLlxyXG4gICAgICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9Qcm9ncmVzc2l2ZV93ZWJfYXBwcy9PZmZsaW5lX1NlcnZpY2Vfd29ya2Vyc1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59KSgpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/client/index.ts\n");

/***/ }),

/***/ "./src/client/screen/AllSkScreens.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AllSkScreens\": () => /* binding */ AllSkScreens\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var defs_JsUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/base/defs/JsUtils.ts\");\n/* harmony import */ var _SkScreen__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/client/screen/SkScreen.ts\");\n/* harmony import */ var _impl_Home__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/client/screen/impl/Home.ts\");\n/* harmony import */ var _impl_HowToPlay__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/client/screen/impl/HowToPlay.ts\");\n/* harmony import */ var _impl_HowToHost__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./src/client/screen/impl/HowToHost.ts\");\n/* harmony import */ var _impl_ColourCtrl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./src/client/screen/impl/ColourCtrl.ts\");\n/* harmony import */ var _impl_SetupOffline__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./src/client/screen/impl/SetupOffline.ts\");\n/* harmony import */ var _impl_PlayOffline__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./src/client/screen/impl/PlayOffline.ts\");\n/* harmony import */ var _impl_GroupJoiner__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./src/client/screen/impl/GroupJoiner.ts\");\n/* harmony import */ var _impl_SetupOnline__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./src/client/screen/impl/SetupOnline.ts\");\n/* harmony import */ var _impl_GroupLobby__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./src/client/screen/impl/GroupLobby.ts\");\n/* harmony import */ var _impl_PlayOnline__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./src/client/screen/impl/PlayOnline.ts\");\nvar _currentScreen, _screenTransition;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// ====:   ~~~ OFFLINE ~~~  :============================\r\n\r\n\r\n// ====:   ~~~ ONLINE ~~~~  :============================\r\n\r\n\r\n\r\n\r\n/**\r\n *\r\n */\r\nclass AllSkScreens {\r\n    constructor(top, baseElem) {\r\n        _currentScreen.set(this, void 0);\r\n        _screenTransition.set(this, void 0);\r\n        (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__classPrivateFieldSet)(this, _screenTransition, top.transition);\r\n        baseElem.setAttribute(\"role\", \"presentation\");\r\n        // Setting role=\"presentation\" is similar to setting \"display: content\"\r\n        // Setting aria-hidden=\"true\" is similar to setting \"visibility: hidden\"\r\n        const Id = _SkScreen__WEBPACK_IMPORTED_MODULE_1__.SkScreen.Id;\r\n        const t = top;\r\n        const p = baseElem;\r\n        const g = Object.freeze(this.goToScreen.bind(this));\r\n        this.dict = Object.freeze({\r\n            // TODO.impl turn this into a class that dynamically imports js and css\r\n            // for all online-play-related modules together only once needed.\r\n            [Id.HOME]: new _impl_Home__WEBPACK_IMPORTED_MODULE_2__.HomeScreen(Id.HOME, t, p, g),\r\n            [Id.HOW_TO_PLAY]: new _impl_HowToPlay__WEBPACK_IMPORTED_MODULE_3__.HowToPlayScreen(Id.HOW_TO_PLAY, t, p, g),\r\n            [Id.HOW_TO_HOST]: new _impl_HowToHost__WEBPACK_IMPORTED_MODULE_4__.HowToHostScreen(Id.HOW_TO_HOST, t, p, g),\r\n            [Id.COLOUR_CTRL]: new _impl_ColourCtrl__WEBPACK_IMPORTED_MODULE_5__.ColourCtrlScreen(Id.COLOUR_CTRL, t, p, g),\r\n            [Id.SETUP_OFFLINE]: new _impl_SetupOffline__WEBPACK_IMPORTED_MODULE_6__.SetupOfflineScreen(Id.SETUP_OFFLINE, t, p, g),\r\n            [Id.PLAY_OFFLINE]: new _impl_PlayOffline__WEBPACK_IMPORTED_MODULE_7__.PlayOfflineScreen(Id.PLAY_OFFLINE, t, p, g),\r\n            [Id.GROUP_JOINER]: new _impl_GroupJoiner__WEBPACK_IMPORTED_MODULE_8__.GroupJoinerScreen(Id.GROUP_JOINER, t, p, g),\r\n            [Id.SETUP_ONLINE]: new _impl_SetupOnline__WEBPACK_IMPORTED_MODULE_9__.SetupOnlineScreen(Id.SETUP_ONLINE, t, p, g),\r\n            [Id.GROUP_LOBBY]: new _impl_GroupLobby__WEBPACK_IMPORTED_MODULE_10__.GroupLobbyScreen(Id.GROUP_LOBBY, t, p, g),\r\n            [Id.PLAY_ONLINE]: new _impl_PlayOnline__WEBPACK_IMPORTED_MODULE_11__.PlayOnlineScreen(Id.PLAY_ONLINE, t, p, g),\r\n        });\r\n        defs_JsUtils__WEBPACK_IMPORTED_MODULE_0__.JsUtils.propNoWrite(this, [\"dict\"]);\r\n        // note: \"isr\" as in \"Initial Screen Request\".\r\n        const isr = _SkScreen__WEBPACK_IMPORTED_MODULE_1__.SkScreen.NavTree[window.location.hash.slice(1)];\r\n        window.setTimeout(() => {\r\n            var _a;\r\n            this.goToScreen((_a = isr === null || isr === void 0 ? void 0 : isr.href) !== null && _a !== void 0 ? _a : _SkScreen__WEBPACK_IMPORTED_MODULE_1__.SkScreen.Id.HOME, {});\r\n        }, 75);\r\n        // TODO.learn For some reason, a small delay is required here to prevent\r\n        // a bug which happens 70% of the time when starting up with files served\r\n        // through the file:// protocol: The unblur part of ScreenTransition will\r\n        // not happen. Even now, there is still an unexpected event handler that\r\n        // gets left on the tint screen... spooky.\r\n        window.addEventListener(\"popstate\", (ev) => {\r\n            // For corresponding calls to pushState and replaceState,\r\n            // see SkScreen.enter.\r\n            this.goToScreen(window.history.state.screenId, {});\r\n        });\r\n    }\r\n    /**\r\n     * @returns `false` if cancelled.\r\n     * @param destId -\r\n     * @param ctorArgs -\r\n     */\r\n    goToScreen(\r\n    // NOTE: using a tuple wrapper to expand bundled type.\r\n    destId, ctorArgs) {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(this, void 0, void 0, function* () {\r\n            const currScreen = this.currentScreen;\r\n            const destScreen = this.dict[destId];\r\n            if (currScreen === destScreen) {\r\n                // I don't see why this would ever need to happen.\r\n                // If we find need to write code that allows for this,\r\n                // rewrite the return-value spec.\r\n                throw new Error(\"never\");\r\n            }\r\n            (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__classPrivateFieldSet)(this, _currentScreen, destScreen);\r\n            const navDir = _SkScreen__WEBPACK_IMPORTED_MODULE_1__.SkScreen.GET_NAV_DIR({\r\n                curr: currScreen === null || currScreen === void 0 ? void 0 : currScreen.screenId,\r\n                dest: destId,\r\n            });\r\n            if ((currScreen === undefined) || currScreen._leave(navDir)) {\r\n                yield (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__classPrivateFieldGet)(this, _screenTransition).do({\r\n                    beforeUnblurAwait: destScreen._enter(navDir, ctorArgs),\r\n                    beforeUnblur: () => {\r\n                        var _a;\r\n                        currScreen === null || currScreen === void 0 ? void 0 : currScreen._onAfterLeave();\r\n                        destScreen._onAfterEnter();\r\n                        (_a = destScreen.getRecommendedFocusElem()) === null || _a === void 0 ? void 0 : _a.focus();\r\n                    },\r\n                });\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n    }\r\n    get currentScreen() {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__classPrivateFieldGet)(this, _currentScreen);\r\n    }\r\n}\r\n_currentScreen = new WeakMap(), _screenTransition = new WeakMap();\r\nObject.freeze(AllSkScreens);\r\nObject.freeze(AllSkScreens.prototype);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L3NjcmVlbi9BbGxTa1NjcmVlbnMudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbmFrZXkzLy4vc3JjL2NsaWVudC9zY3JlZW4vQWxsU2tTY3JlZW5zLnRzPzgzNjIiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9jdXJyZW50U2NyZWVuLCBfc2NyZWVuVHJhbnNpdGlvbjtcclxuaW1wb3J0IHsgX19hd2FpdGVyLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0LCBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0IH0gZnJvbSBcInRzbGliXCI7XHJcbmltcG9ydCB7IEpzVXRpbHMgfSBmcm9tIFwiZGVmcy9Kc1V0aWxzXCI7XHJcbmltcG9ydCB7IFNrU2NyZWVuIH0gZnJvbSBcIi4vU2tTY3JlZW5cIjtcclxuaW1wb3J0IHsgSG9tZVNjcmVlbiB9IGZyb20gXCIuL2ltcGwvSG9tZVwiO1xyXG5pbXBvcnQgeyBIb3dUb1BsYXlTY3JlZW4gfSBmcm9tIFwiLi9pbXBsL0hvd1RvUGxheVwiO1xyXG5pbXBvcnQgeyBIb3dUb0hvc3RTY3JlZW4gfSBmcm9tIFwiLi9pbXBsL0hvd1RvSG9zdFwiO1xyXG5pbXBvcnQgeyBDb2xvdXJDdHJsU2NyZWVuIH0gZnJvbSBcIi4vaW1wbC9Db2xvdXJDdHJsXCI7XHJcbi8vID09PT06ICAgfn5+IE9GRkxJTkUgfn5+ICA6PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5pbXBvcnQgeyBTZXR1cE9mZmxpbmVTY3JlZW4gfSBmcm9tIFwiLi9pbXBsL1NldHVwT2ZmbGluZVwiO1xyXG5pbXBvcnQgeyBQbGF5T2ZmbGluZVNjcmVlbiB9IGZyb20gXCIuL2ltcGwvUGxheU9mZmxpbmVcIjtcclxuLy8gPT09PTogICB+fn4gT05MSU5FIH5+fn4gIDo9PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbmltcG9ydCB7IEdyb3VwSm9pbmVyU2NyZWVuIH0gZnJvbSBcIi4vaW1wbC9Hcm91cEpvaW5lclwiO1xyXG5pbXBvcnQgeyBTZXR1cE9ubGluZVNjcmVlbiB9IGZyb20gXCIuL2ltcGwvU2V0dXBPbmxpbmVcIjtcclxuaW1wb3J0IHsgR3JvdXBMb2JieVNjcmVlbiB9IGZyb20gXCIuL2ltcGwvR3JvdXBMb2JieVwiO1xyXG5pbXBvcnQgeyBQbGF5T25saW5lU2NyZWVuIH0gZnJvbSBcIi4vaW1wbC9QbGF5T25saW5lXCI7XHJcbi8qKlxyXG4gKlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEFsbFNrU2NyZWVucyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0b3AsIGJhc2VFbGVtKSB7XHJcbiAgICAgICAgX2N1cnJlbnRTY3JlZW4uc2V0KHRoaXMsIHZvaWQgMCk7XHJcbiAgICAgICAgX3NjcmVlblRyYW5zaXRpb24uc2V0KHRoaXMsIHZvaWQgMCk7XHJcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfc2NyZWVuVHJhbnNpdGlvbiwgdG9wLnRyYW5zaXRpb24pO1xyXG4gICAgICAgIGJhc2VFbGVtLnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJwcmVzZW50YXRpb25cIik7XHJcbiAgICAgICAgLy8gU2V0dGluZyByb2xlPVwicHJlc2VudGF0aW9uXCIgaXMgc2ltaWxhciB0byBzZXR0aW5nIFwiZGlzcGxheTogY29udGVudFwiXHJcbiAgICAgICAgLy8gU2V0dGluZyBhcmlhLWhpZGRlbj1cInRydWVcIiBpcyBzaW1pbGFyIHRvIHNldHRpbmcgXCJ2aXNpYmlsaXR5OiBoaWRkZW5cIlxyXG4gICAgICAgIGNvbnN0IElkID0gU2tTY3JlZW4uSWQ7XHJcbiAgICAgICAgY29uc3QgdCA9IHRvcDtcclxuICAgICAgICBjb25zdCBwID0gYmFzZUVsZW07XHJcbiAgICAgICAgY29uc3QgZyA9IE9iamVjdC5mcmVlemUodGhpcy5nb1RvU2NyZWVuLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHRoaXMuZGljdCA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICAvLyBUT0RPLmltcGwgdHVybiB0aGlzIGludG8gYSBjbGFzcyB0aGF0IGR5bmFtaWNhbGx5IGltcG9ydHMganMgYW5kIGNzc1xyXG4gICAgICAgICAgICAvLyBmb3IgYWxsIG9ubGluZS1wbGF5LXJlbGF0ZWQgbW9kdWxlcyB0b2dldGhlciBvbmx5IG9uY2UgbmVlZGVkLlxyXG4gICAgICAgICAgICBbSWQuSE9NRV06IG5ldyBIb21lU2NyZWVuKElkLkhPTUUsIHQsIHAsIGcpLFxyXG4gICAgICAgICAgICBbSWQuSE9XX1RPX1BMQVldOiBuZXcgSG93VG9QbGF5U2NyZWVuKElkLkhPV19UT19QTEFZLCB0LCBwLCBnKSxcclxuICAgICAgICAgICAgW0lkLkhPV19UT19IT1NUXTogbmV3IEhvd1RvSG9zdFNjcmVlbihJZC5IT1dfVE9fSE9TVCwgdCwgcCwgZyksXHJcbiAgICAgICAgICAgIFtJZC5DT0xPVVJfQ1RSTF06IG5ldyBDb2xvdXJDdHJsU2NyZWVuKElkLkNPTE9VUl9DVFJMLCB0LCBwLCBnKSxcclxuICAgICAgICAgICAgW0lkLlNFVFVQX09GRkxJTkVdOiBuZXcgU2V0dXBPZmZsaW5lU2NyZWVuKElkLlNFVFVQX09GRkxJTkUsIHQsIHAsIGcpLFxyXG4gICAgICAgICAgICBbSWQuUExBWV9PRkZMSU5FXTogbmV3IFBsYXlPZmZsaW5lU2NyZWVuKElkLlBMQVlfT0ZGTElORSwgdCwgcCwgZyksXHJcbiAgICAgICAgICAgIFtJZC5HUk9VUF9KT0lORVJdOiBuZXcgR3JvdXBKb2luZXJTY3JlZW4oSWQuR1JPVVBfSk9JTkVSLCB0LCBwLCBnKSxcclxuICAgICAgICAgICAgW0lkLlNFVFVQX09OTElORV06IG5ldyBTZXR1cE9ubGluZVNjcmVlbihJZC5TRVRVUF9PTkxJTkUsIHQsIHAsIGcpLFxyXG4gICAgICAgICAgICBbSWQuR1JPVVBfTE9CQlldOiBuZXcgR3JvdXBMb2JieVNjcmVlbihJZC5HUk9VUF9MT0JCWSwgdCwgcCwgZyksXHJcbiAgICAgICAgICAgIFtJZC5QTEFZX09OTElORV06IG5ldyBQbGF5T25saW5lU2NyZWVuKElkLlBMQVlfT05MSU5FLCB0LCBwLCBnKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBKc1V0aWxzLnByb3BOb1dyaXRlKHRoaXMsIFtcImRpY3RcIl0pO1xyXG4gICAgICAgIC8vIG5vdGU6IFwiaXNyXCIgYXMgaW4gXCJJbml0aWFsIFNjcmVlbiBSZXF1ZXN0XCIuXHJcbiAgICAgICAgY29uc3QgaXNyID0gU2tTY3JlZW4uTmF2VHJlZVt3aW5kb3cubG9jYXRpb24uaGFzaC5zbGljZSgxKV07XHJcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgIHRoaXMuZ29Ub1NjcmVlbigoX2EgPSBpc3IgPT09IG51bGwgfHwgaXNyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpc3IuaHJlZikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogU2tTY3JlZW4uSWQuSE9NRSwge30pO1xyXG4gICAgICAgIH0sIDc1KTtcclxuICAgICAgICAvLyBUT0RPLmxlYXJuIEZvciBzb21lIHJlYXNvbiwgYSBzbWFsbCBkZWxheSBpcyByZXF1aXJlZCBoZXJlIHRvIHByZXZlbnRcclxuICAgICAgICAvLyBhIGJ1ZyB3aGljaCBoYXBwZW5zIDcwJSBvZiB0aGUgdGltZSB3aGVuIHN0YXJ0aW5nIHVwIHdpdGggZmlsZXMgc2VydmVkXHJcbiAgICAgICAgLy8gdGhyb3VnaCB0aGUgZmlsZTovLyBwcm90b2NvbDogVGhlIHVuYmx1ciBwYXJ0IG9mIFNjcmVlblRyYW5zaXRpb24gd2lsbFxyXG4gICAgICAgIC8vIG5vdCBoYXBwZW4uIEV2ZW4gbm93LCB0aGVyZSBpcyBzdGlsbCBhbiB1bmV4cGVjdGVkIGV2ZW50IGhhbmRsZXIgdGhhdFxyXG4gICAgICAgIC8vIGdldHMgbGVmdCBvbiB0aGUgdGludCBzY3JlZW4uLi4gc3Bvb2t5LlxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIiwgKGV2KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEZvciBjb3JyZXNwb25kaW5nIGNhbGxzIHRvIHB1c2hTdGF0ZSBhbmQgcmVwbGFjZVN0YXRlLFxyXG4gICAgICAgICAgICAvLyBzZWUgU2tTY3JlZW4uZW50ZXIuXHJcbiAgICAgICAgICAgIHRoaXMuZ29Ub1NjcmVlbih3aW5kb3cuaGlzdG9yeS5zdGF0ZS5zY3JlZW5JZCwge30pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAcmV0dXJucyBgZmFsc2VgIGlmIGNhbmNlbGxlZC5cclxuICAgICAqIEBwYXJhbSBkZXN0SWQgLVxyXG4gICAgICogQHBhcmFtIGN0b3JBcmdzIC1cclxuICAgICAqL1xyXG4gICAgZ29Ub1NjcmVlbihcclxuICAgIC8vIE5PVEU6IHVzaW5nIGEgdHVwbGUgd3JhcHBlciB0byBleHBhbmQgYnVuZGxlZCB0eXBlLlxyXG4gICAgZGVzdElkLCBjdG9yQXJncykge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJTY3JlZW4gPSB0aGlzLmN1cnJlbnRTY3JlZW47XHJcbiAgICAgICAgICAgIGNvbnN0IGRlc3RTY3JlZW4gPSB0aGlzLmRpY3RbZGVzdElkXTtcclxuICAgICAgICAgICAgaWYgKGN1cnJTY3JlZW4gPT09IGRlc3RTY3JlZW4pIHtcclxuICAgICAgICAgICAgICAgIC8vIEkgZG9uJ3Qgc2VlIHdoeSB0aGlzIHdvdWxkIGV2ZXIgbmVlZCB0byBoYXBwZW4uXHJcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBmaW5kIG5lZWQgdG8gd3JpdGUgY29kZSB0aGF0IGFsbG93cyBmb3IgdGhpcyxcclxuICAgICAgICAgICAgICAgIC8vIHJld3JpdGUgdGhlIHJldHVybi12YWx1ZSBzcGVjLlxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibmV2ZXJcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfY3VycmVudFNjcmVlbiwgZGVzdFNjcmVlbik7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hdkRpciA9IFNrU2NyZWVuLkdFVF9OQVZfRElSKHtcclxuICAgICAgICAgICAgICAgIGN1cnI6IGN1cnJTY3JlZW4gPT09IG51bGwgfHwgY3VyclNjcmVlbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogY3VyclNjcmVlbi5zY3JlZW5JZCxcclxuICAgICAgICAgICAgICAgIGRlc3Q6IGRlc3RJZCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICgoY3VyclNjcmVlbiA9PT0gdW5kZWZpbmVkKSB8fCBjdXJyU2NyZWVuLl9sZWF2ZShuYXZEaXIpKSB7XHJcbiAgICAgICAgICAgICAgICB5aWVsZCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9zY3JlZW5UcmFuc2l0aW9uKS5kbyh7XHJcbiAgICAgICAgICAgICAgICAgICAgYmVmb3JlVW5ibHVyQXdhaXQ6IGRlc3RTY3JlZW4uX2VudGVyKG5hdkRpciwgY3RvckFyZ3MpLFxyXG4gICAgICAgICAgICAgICAgICAgIGJlZm9yZVVuYmx1cjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJTY3JlZW4gPT09IG51bGwgfHwgY3VyclNjcmVlbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogY3VyclNjcmVlbi5fb25BZnRlckxlYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RTY3JlZW4uX29uQWZ0ZXJFbnRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAoX2EgPSBkZXN0U2NyZWVuLmdldFJlY29tbWVuZGVkRm9jdXNFbGVtKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGdldCBjdXJyZW50U2NyZWVuKCkge1xyXG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9jdXJyZW50U2NyZWVuKTtcclxuICAgIH1cclxufVxyXG5fY3VycmVudFNjcmVlbiA9IG5ldyBXZWFrTWFwKCksIF9zY3JlZW5UcmFuc2l0aW9uID0gbmV3IFdlYWtNYXAoKTtcclxuT2JqZWN0LmZyZWV6ZShBbGxTa1NjcmVlbnMpO1xyXG5PYmplY3QuZnJlZXplKEFsbFNrU2NyZWVucy5wcm90b3R5cGUpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/client/screen/AllSkScreens.ts\n");

/***/ }),

/***/ "./src/client/screen/ScreenTransition.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ScreenTransition\": () => /* binding */ ScreenTransition\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var defs_JsUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/base/defs/JsUtils.ts\");\n/* harmony import */ var defs_OmHooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/base/defs/OmHooks.ts\");\nvar _currentRequest;\r\n\r\n\r\n\r\n/**\r\n */\r\nclass ScreenTransition {\r\n    constructor() {\r\n        _currentRequest.set(this, void 0);\r\n        this.baseElem = document.getElementById(defs_OmHooks__WEBPACK_IMPORTED_MODULE_1__.OmHooks.Screen.Id.SCREEN_TINT);\r\n        (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldSet)(this, _currentRequest, undefined);\r\n        defs_JsUtils__WEBPACK_IMPORTED_MODULE_0__.JsUtils.propNoWrite(this, [\"baseElem\"]);\r\n    }\r\n    /**\r\n     * Queues the provided screen-transition request.\r\n     * @param request -\r\n     */\r\n    do(request) {\r\n        var _a;\r\n        (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldSet)(this, _currentRequest, ((_a = (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldGet)(this, _currentRequest)) !== null && _a !== void 0 ? _a : Promise.resolve()).then(() => {\r\n            return this._atomicDo(request);\r\n        }));\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldGet)(this, _currentRequest);\r\n    }\r\n    /**\r\n     */\r\n    // TODO will it be safer to prevent keyboard events during the transition?\r\n    // If so, make this.baseElem programmatically focusable, and toggle it to\r\n    // be the focused element during the transition. When blurring it, the\r\n    // browser should automatically recall the element that was focused before it.\r\n    // (but please verify).\r\n    _atomicDo(request) {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__awaiter)(this, void 0, void 0, function* () {\r\n            const gdStyle = this.baseElem.style;\r\n            yield this._triggerCssTransition(() => {\r\n                gdStyle.pointerEvents = \"all\";\r\n                gdStyle.opacity = \"1.0\";\r\n            });\r\n            if (request.intermediateTransitionTrigger !== undefined) {\r\n                yield this._triggerCssTransition(() => {\r\n                    request.intermediateTransitionTrigger();\r\n                });\r\n            }\r\n            yield request.beforeUnblurAwait;\r\n            if (request.beforeUnblur !== undefined) {\r\n                request.beforeUnblur();\r\n            }\r\n            yield this._triggerCssTransition(() => {\r\n                gdStyle.pointerEvents = \"none\";\r\n                gdStyle.opacity = \"0.0\";\r\n            });\r\n            return;\r\n        });\r\n    }\r\n    /**\r\n     */\r\n    _triggerCssTransition(transitionTriggerFunc) {\r\n        return new Promise((resolve, reject) => {\r\n            this.baseElem.addEventListener(\"transitionend\", () => resolve(), { once: true });\r\n            transitionTriggerFunc();\r\n        });\r\n    }\r\n}\r\n_currentRequest = new WeakMap();\r\ndefs_JsUtils__WEBPACK_IMPORTED_MODULE_0__.JsUtils.protoNoEnum(ScreenTransition, [\"_atomicDo\", \"_triggerCssTransition\"]);\r\nObject.freeze(ScreenTransition);\r\nObject.freeze(ScreenTransition.prototype);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L3NjcmVlbi9TY3JlZW5UcmFuc2l0aW9uLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc25ha2V5My8uL3NyYy9jbGllbnQvc2NyZWVuL1NjcmVlblRyYW5zaXRpb24udHM/ZWQ5NSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX2N1cnJlbnRSZXF1ZXN0O1xyXG5pbXBvcnQgeyBfX2F3YWl0ZXIsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQsIF9fY2xhc3NQcml2YXRlRmllbGRTZXQgfSBmcm9tIFwidHNsaWJcIjtcclxuaW1wb3J0IHsgSnNVdGlscyB9IGZyb20gXCJkZWZzL0pzVXRpbHNcIjtcclxuaW1wb3J0IHsgT21Ib29rcyB9IGZyb20gXCJkZWZzL09tSG9va3NcIjtcclxuLyoqXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU2NyZWVuVHJhbnNpdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBfY3VycmVudFJlcXVlc3Quc2V0KHRoaXMsIHZvaWQgMCk7XHJcbiAgICAgICAgdGhpcy5iYXNlRWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKE9tSG9va3MuU2NyZWVuLklkLlNDUkVFTl9USU5UKTtcclxuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9jdXJyZW50UmVxdWVzdCwgdW5kZWZpbmVkKTtcclxuICAgICAgICBKc1V0aWxzLnByb3BOb1dyaXRlKHRoaXMsIFtcImJhc2VFbGVtXCJdKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUXVldWVzIHRoZSBwcm92aWRlZCBzY3JlZW4tdHJhbnNpdGlvbiByZXF1ZXN0LlxyXG4gICAgICogQHBhcmFtIHJlcXVlc3QgLVxyXG4gICAgICovXHJcbiAgICBkbyhyZXF1ZXN0KSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX2N1cnJlbnRSZXF1ZXN0LCAoKF9hID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfY3VycmVudFJlcXVlc3QpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBQcm9taXNlLnJlc29sdmUoKSkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hdG9taWNEbyhyZXF1ZXN0KTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX2N1cnJlbnRSZXF1ZXN0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICovXHJcbiAgICAvLyBUT0RPIHdpbGwgaXQgYmUgc2FmZXIgdG8gcHJldmVudCBrZXlib2FyZCBldmVudHMgZHVyaW5nIHRoZSB0cmFuc2l0aW9uP1xyXG4gICAgLy8gSWYgc28sIG1ha2UgdGhpcy5iYXNlRWxlbSBwcm9ncmFtbWF0aWNhbGx5IGZvY3VzYWJsZSwgYW5kIHRvZ2dsZSBpdCB0b1xyXG4gICAgLy8gYmUgdGhlIGZvY3VzZWQgZWxlbWVudCBkdXJpbmcgdGhlIHRyYW5zaXRpb24uIFdoZW4gYmx1cnJpbmcgaXQsIHRoZVxyXG4gICAgLy8gYnJvd3NlciBzaG91bGQgYXV0b21hdGljYWxseSByZWNhbGwgdGhlIGVsZW1lbnQgdGhhdCB3YXMgZm9jdXNlZCBiZWZvcmUgaXQuXHJcbiAgICAvLyAoYnV0IHBsZWFzZSB2ZXJpZnkpLlxyXG4gICAgX2F0b21pY0RvKHJlcXVlc3QpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBjb25zdCBnZFN0eWxlID0gdGhpcy5iYXNlRWxlbS5zdHlsZTtcclxuICAgICAgICAgICAgeWllbGQgdGhpcy5fdHJpZ2dlckNzc1RyYW5zaXRpb24oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZ2RTdHlsZS5wb2ludGVyRXZlbnRzID0gXCJhbGxcIjtcclxuICAgICAgICAgICAgICAgIGdkU3R5bGUub3BhY2l0eSA9IFwiMS4wXCI7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAocmVxdWVzdC5pbnRlcm1lZGlhdGVUcmFuc2l0aW9uVHJpZ2dlciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB5aWVsZCB0aGlzLl90cmlnZ2VyQ3NzVHJhbnNpdGlvbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5pbnRlcm1lZGlhdGVUcmFuc2l0aW9uVHJpZ2dlcigpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgeWllbGQgcmVxdWVzdC5iZWZvcmVVbmJsdXJBd2FpdDtcclxuICAgICAgICAgICAgaWYgKHJlcXVlc3QuYmVmb3JlVW5ibHVyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHJlcXVlc3QuYmVmb3JlVW5ibHVyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgeWllbGQgdGhpcy5fdHJpZ2dlckNzc1RyYW5zaXRpb24oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZ2RTdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgICAgICBnZFN0eWxlLm9wYWNpdHkgPSBcIjAuMFwiO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKi9cclxuICAgIF90cmlnZ2VyQ3NzVHJhbnNpdGlvbih0cmFuc2l0aW9uVHJpZ2dlckZ1bmMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmJhc2VFbGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsICgpID0+IHJlc29sdmUoKSwgeyBvbmNlOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICB0cmFuc2l0aW9uVHJpZ2dlckZ1bmMoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5fY3VycmVudFJlcXVlc3QgPSBuZXcgV2Vha01hcCgpO1xyXG5Kc1V0aWxzLnByb3RvTm9FbnVtKFNjcmVlblRyYW5zaXRpb24sIFtcIl9hdG9taWNEb1wiLCBcIl90cmlnZ2VyQ3NzVHJhbnNpdGlvblwiXSk7XHJcbk9iamVjdC5mcmVlemUoU2NyZWVuVHJhbnNpdGlvbik7XHJcbk9iamVjdC5mcmVlemUoU2NyZWVuVHJhbnNpdGlvbi5wcm90b3R5cGUpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/client/screen/ScreenTransition.ts\n");

/***/ }),

/***/ "./src/client/screen/SkScreen.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"JsUtils\": () => /* reexport safe */ defs_JsUtils__WEBPACK_IMPORTED_MODULE_0__.JsUtils,\n/* harmony export */   \"OmHooks\": () => /* reexport safe */ defs_OmHooks__WEBPACK_IMPORTED_MODULE_1__.OmHooks,\n/* harmony export */   \"StorageHooks\": () => /* reexport safe */ defs_StorageHooks__WEBPACK_IMPORTED_MODULE_2__.StorageHooks,\n/* harmony export */   \"SkScreen\": () => /* binding */ SkScreen\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var defs_JsUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/base/defs/JsUtils.ts\");\n/* harmony import */ var defs_OmHooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/base/defs/OmHooks.ts\");\n/* harmony import */ var defs_StorageHooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/base/defs/StorageHooks.ts\");\nvar _parentElem, _hasLazyLoaded;\r\n\r\n\r\n\r\n\r\n\r\nconst OMHC = defs_OmHooks__WEBPACK_IMPORTED_MODULE_1__.OmHooks.Screen.Class;\r\n/**\r\n *\r\n * NOTE: Design decision: Isolate from the rest of the architecture.\r\n * Ie. Do not give it circular / upward references to anything that\r\n * references it.\r\n */\r\nclass SkScreen {\r\n    /**\r\n     *\r\n     * @param parentElem -\r\n     * @param requestGoToScreen -\r\n     */\r\n    constructor(screenId, toplevel, parentElem, requestGoToScreen) {\r\n        _parentElem.set(this, void 0);\r\n        _hasLazyLoaded.set(this, void 0);\r\n        this.screenId = screenId;\r\n        this.screenNames = defs_JsUtils__WEBPACK_IMPORTED_MODULE_0__.JsUtils.camelCaseTransforms(screenId);\r\n        this.top = toplevel;\r\n        (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__classPrivateFieldSet)(this, _parentElem, parentElem);\r\n        this.requestGoToScreen = requestGoToScreen;\r\n        this.baseElem = defs_JsUtils__WEBPACK_IMPORTED_MODULE_0__.JsUtils.mkEl(\"div\", [OMHC.BASE]);\r\n        (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__classPrivateFieldSet)(this, _hasLazyLoaded, false);\r\n        this.nav = Object.freeze({\r\n            prev: defs_JsUtils__WEBPACK_IMPORTED_MODULE_0__.JsUtils.mkEl(\"button\", []),\r\n            next: defs_JsUtils__WEBPACK_IMPORTED_MODULE_0__.JsUtils.mkEl(\"button\", []),\r\n        });\r\n        defs_JsUtils__WEBPACK_IMPORTED_MODULE_0__.JsUtils.propNoWrite(this, [\r\n            \"screenId\", \"top\", \"baseElem\", \"nav\", \"requestGoToScreen\",\r\n        ]);\r\n        this.nav.prev.classList.add(OMHC.NAV_PREV);\r\n        this.nav.next.classList.add(OMHC.NAV_NEXT);\r\n        this.nav.prev.textContent = \"Back\";\r\n        this.nav.next.textContent = \"Next\";\r\n        // @ts-expect-error : RO=\r\n        this.nav.prev.onclick = (ev) => {\r\n            const tree = SkScreen.NavTree;\r\n            const thisNav = tree[this.screenId];\r\n            if (tree[thisNav.prev].href === thisNav.href) {\r\n                this.requestGoToScreen(SkScreen.NavTree[screenId].prev, {});\r\n            }\r\n            else {\r\n                window.history.back();\r\n            }\r\n        };\r\n    }\r\n    /**\r\n     * **Do not override.**\r\n     */\r\n    _enter(navDir, args) {\r\n        var _a;\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__awaiter)(this, void 0, void 0, function* () {\r\n            document.title = `${this.screenNames.spaceyCapitalized} | ${this.top.defaultDocTitle}`;\r\n            if (navDir === SkScreen.NavDir.FORWARD) {\r\n                const location = new window.URL(window.location.href);\r\n                const newHistoryRoot = location.hash = SkScreen.NavTree[this.screenId].href;\r\n                const args = [{ screenId: this.screenId }, \"\", location.href];\r\n                if (((_a = window.history.state) === null || _a === void 0 ? void 0 : _a.screenId) !== newHistoryRoot) {\r\n                    if (SkScreen.NavTree[this.screenId].prev === this.screenId) {\r\n                        // If entering the root screen for the first time:\r\n                        history.replaceState(...args);\r\n                    }\r\n                    else {\r\n                        history.pushState(...args);\r\n                    }\r\n                }\r\n            }\r\n            if (!(0,tslib__WEBPACK_IMPORTED_MODULE_3__.__classPrivateFieldGet)(this, _hasLazyLoaded)) {\r\n                this._lazyLoad();\r\n                (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__classPrivateFieldGet)(this, _parentElem).appendChild(this.baseElem);\r\n                defs_JsUtils__WEBPACK_IMPORTED_MODULE_0__.JsUtils.prependComment(this.baseElem, `${this.screenNames.spaceyUppercase} SCREEN`);\r\n                this.baseElem.setAttribute(\"aria-label\", this.screenNames.spaceyCapitalized + \" Screen\");\r\n                (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__classPrivateFieldSet)(this, _hasLazyLoaded, true);\r\n            }\r\n            yield this._abstractOnBeforeEnter(navDir, args);\r\n        });\r\n    }\r\n    /**\r\n     * **Do not override.**\r\n     *\r\n     * @returns false if the leave was cancelled.\r\n     */\r\n    _leave(navDir) {\r\n        if (this._abstractOnBeforeLeave(navDir)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     * **Do not override.**\r\n     */\r\n    _onAfterEnter() {\r\n        this.baseElem.dataset[defs_OmHooks__WEBPACK_IMPORTED_MODULE_1__.OmHooks.Screen.Dataset.CURRENT] = \"\"; // exists.\r\n        this.baseElem.setAttribute(\"aria-hidden\", \"false\");\r\n    }\r\n    /**\r\n     * **Do not override.**\r\n     */\r\n    _onAfterLeave() {\r\n        delete this.baseElem.dataset[defs_OmHooks__WEBPACK_IMPORTED_MODULE_1__.OmHooks.Screen.Dataset.CURRENT]; // non-existant.\r\n        this.baseElem.setAttribute(\"aria-hidden\", \"true\");\r\n    }\r\n    /**\r\n     */\r\n    getRecommendedFocusElem() {\r\n        return undefined;\r\n    }\r\n    /**\r\n     * This is a good place to start any `setInterval` schedules.\r\n     *\r\n     * The default implementation does nothing. Overriding implementations\r\n     * from direct subclasses can safely skip making a supercall.\r\n     *\r\n     * Must not call `this.requestGoToScreen`.\r\n     */\r\n    _abstractOnBeforeEnter(navDir, args) {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__awaiter)(this, void 0, void 0, function* () {\r\n        });\r\n    }\r\n    ;\r\n    /**\r\n     * Return false if the leave should be cancelled. This functionality\r\n     * allows an implementation to provide a prompt to the user such as\r\n     * a confirmation modal warning that unsaved changes would be lost.\r\n     *\r\n     * top any non-essential `setInterval` schedules that were set up\r\n     * in `_abstractOnBeforeEnter`.\r\n     *\r\n     * This method will not be called upon navigating to a different\r\n     * page, so actions such as writes to persisted storage should not\r\n     * be placed here as an optimization.\r\n     *\r\n     * Must not call `this.requestGoToScreen`.\r\n     */\r\n    _abstractOnBeforeLeave(navDir) {\r\n        return true;\r\n    }\r\n}\r\n_parentElem = new WeakMap(), _hasLazyLoaded = new WeakMap();\r\n(function (SkScreen) {\r\n    let Id;\r\n    (function (Id) {\r\n        // General:     ===================\r\n        Id[\"HOME\"] = \"home\";\r\n        Id[\"HOW_TO_PLAY\"] = \"howToPlay\";\r\n        Id[\"HOW_TO_HOST\"] = \"howToHost\";\r\n        Id[\"COLOUR_CTRL\"] = \"colourControl\";\r\n        // Offline:     ===================\r\n        Id[\"SETUP_OFFLINE\"] = \"setupOffline\";\r\n        Id[\"PLAY_OFFLINE\"] = \"playOffline\";\r\n        // Online:      ===================\r\n        Id[\"GROUP_JOINER\"] = \"groupJoiner\";\r\n        Id[\"SETUP_ONLINE\"] = \"setupOnline\";\r\n        Id[\"GROUP_LOBBY\"] = \"groupLobby\";\r\n        Id[\"PLAY_ONLINE\"] = \"playOnline\";\r\n        // =======      ===================\r\n    })(Id = SkScreen.Id || (SkScreen.Id = {}));\r\n    Object.freeze(Id);\r\n    let HistoryEntryId;\r\n    (function (HistoryEntryId) {\r\n    })(HistoryEntryId = SkScreen.HistoryEntryId || (SkScreen.HistoryEntryId = {}));\r\n    /**\r\n     * Note that forward navigation has no obligation to comply with\r\n     * the navigation tree.\r\n     *\r\n     * Note: The fact that the lobby precedes the online setup screen\r\n     * for the group host is important, since the socket listener for\r\n     * UserInfoChange events is only registered in the lobby screen.\r\n     */\r\n    SkScreen.NavTree = Object.freeze({\r\n        [Id.HOME]: { prev: Id.HOME, href: Id.HOME },\r\n        [Id.HOW_TO_PLAY]: { prev: Id.HOME, href: Id.HOW_TO_PLAY },\r\n        [Id.HOW_TO_HOST]: { prev: Id.HOME, href: Id.HOW_TO_HOST },\r\n        [Id.COLOUR_CTRL]: { prev: Id.HOME, href: Id.COLOUR_CTRL },\r\n        //==========================================================================\r\n        [Id.SETUP_OFFLINE]: { prev: Id.HOME, href: Id.SETUP_OFFLINE },\r\n        [Id.PLAY_OFFLINE]: { prev: Id.SETUP_OFFLINE, href: Id.SETUP_OFFLINE },\r\n        //==========================================================================\r\n        [Id.GROUP_JOINER]: { prev: Id.HOME, href: Id.GROUP_JOINER },\r\n        [Id.GROUP_LOBBY]: { prev: Id.GROUP_JOINER, href: Id.GROUP_JOINER },\r\n        [Id.SETUP_ONLINE]: { prev: Id.GROUP_LOBBY, href: Id.GROUP_JOINER },\r\n        [Id.PLAY_ONLINE]: { prev: Id.GROUP_LOBBY, href: Id.GROUP_JOINER },\r\n    });\r\n    (function assertNavigationTreeIsValid() {\r\n        Object.entries(SkScreen.NavTree).forEach(([id, desc]) => {\r\n            let prev = id;\r\n            const visited = new Set();\r\n            do {\r\n                if (visited.has(prev)) {\r\n                    throw new Error(\"Navigation tree must not contain cycles.\");\r\n                }\r\n                visited.add(prev);\r\n                prev = SkScreen.NavTree[prev].prev;\r\n                if (prev === id) {\r\n                    break;\r\n                }\r\n            } while (prev !== SkScreen.NavTree[prev].prev);\r\n            if (prev !== Id.HOME) {\r\n                throw new Error(\"The home screen must be the root of the screen-navigation tree.\");\r\n            }\r\n        });\r\n    })();\r\n    let NavDir;\r\n    (function (NavDir) {\r\n        NavDir[\"FORWARD\"] = \"forward\";\r\n        NavDir[\"BACKWARD\"] = \"backward\";\r\n    })(NavDir = SkScreen.NavDir || (SkScreen.NavDir = {}));\r\n    ;\r\n    function GET_NAV_DIR(_args) {\r\n        const { curr, dest } = _args;\r\n        if (curr === undefined)\r\n            return SkScreen.NavDir.FORWARD;\r\n        let prev = curr;\r\n        while (prev !== SkScreen.NavTree[prev].prev) {\r\n            prev = SkScreen.NavTree[prev].prev;\r\n            if (prev === dest)\r\n                return SkScreen.NavDir.BACKWARD;\r\n        }\r\n        // if (NavTree[dest].prev !== curr) {\r\n        //     throw new Error(`${dest} is not reachable from ${curr}.`);\r\n        // }\r\n        // If do-while completes, then dest must be in the forward direction:\r\n        return SkScreen.NavDir.FORWARD;\r\n    }\r\n    SkScreen.GET_NAV_DIR = GET_NAV_DIR;\r\n})(SkScreen || (SkScreen = {}));\r\nObject.freeze(SkScreen);\r\nObject.freeze(SkScreen.prototype);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L3NjcmVlbi9Ta1NjcmVlbi50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL3NuYWtleTMvLi9zcmMvY2xpZW50L3NjcmVlbi9Ta1NjcmVlbi50cz8yZTc5Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfcGFyZW50RWxlbSwgX2hhc0xhenlMb2FkZWQ7XHJcbmltcG9ydCB7IF9fYXdhaXRlciwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCwgX19jbGFzc1ByaXZhdGVGaWVsZFNldCB9IGZyb20gXCJ0c2xpYlwiO1xyXG5pbXBvcnQgeyBKc1V0aWxzIH0gZnJvbSBcImRlZnMvSnNVdGlsc1wiO1xyXG5pbXBvcnQgeyBPbUhvb2tzIH0gZnJvbSBcImRlZnMvT21Ib29rc1wiO1xyXG5pbXBvcnQgeyBTdG9yYWdlSG9va3MgfSBmcm9tIFwiZGVmcy9TdG9yYWdlSG9va3NcIjtcclxuZXhwb3J0IHsgSnNVdGlscywgT21Ib29rcywgU3RvcmFnZUhvb2tzIH07XHJcbmNvbnN0IE9NSEMgPSBPbUhvb2tzLlNjcmVlbi5DbGFzcztcclxuLyoqXHJcbiAqXHJcbiAqIE5PVEU6IERlc2lnbiBkZWNpc2lvbjogSXNvbGF0ZSBmcm9tIHRoZSByZXN0IG9mIHRoZSBhcmNoaXRlY3R1cmUuXHJcbiAqIEllLiBEbyBub3QgZ2l2ZSBpdCBjaXJjdWxhciAvIHVwd2FyZCByZWZlcmVuY2VzIHRvIGFueXRoaW5nIHRoYXRcclxuICogcmVmZXJlbmNlcyBpdC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTa1NjcmVlbiB7XHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcGFyZW50RWxlbSAtXHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdEdvVG9TY3JlZW4gLVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihzY3JlZW5JZCwgdG9wbGV2ZWwsIHBhcmVudEVsZW0sIHJlcXVlc3RHb1RvU2NyZWVuKSB7XHJcbiAgICAgICAgX3BhcmVudEVsZW0uc2V0KHRoaXMsIHZvaWQgMCk7XHJcbiAgICAgICAgX2hhc0xhenlMb2FkZWQuc2V0KHRoaXMsIHZvaWQgMCk7XHJcbiAgICAgICAgdGhpcy5zY3JlZW5JZCA9IHNjcmVlbklkO1xyXG4gICAgICAgIHRoaXMuc2NyZWVuTmFtZXMgPSBKc1V0aWxzLmNhbWVsQ2FzZVRyYW5zZm9ybXMoc2NyZWVuSWQpO1xyXG4gICAgICAgIHRoaXMudG9wID0gdG9wbGV2ZWw7XHJcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfcGFyZW50RWxlbSwgcGFyZW50RWxlbSk7XHJcbiAgICAgICAgdGhpcy5yZXF1ZXN0R29Ub1NjcmVlbiA9IHJlcXVlc3RHb1RvU2NyZWVuO1xyXG4gICAgICAgIHRoaXMuYmFzZUVsZW0gPSBKc1V0aWxzLm1rRWwoXCJkaXZcIiwgW09NSEMuQkFTRV0pO1xyXG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX2hhc0xhenlMb2FkZWQsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLm5hdiA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICBwcmV2OiBKc1V0aWxzLm1rRWwoXCJidXR0b25cIiwgW10pLFxyXG4gICAgICAgICAgICBuZXh0OiBKc1V0aWxzLm1rRWwoXCJidXR0b25cIiwgW10pLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIEpzVXRpbHMucHJvcE5vV3JpdGUodGhpcywgW1xyXG4gICAgICAgICAgICBcInNjcmVlbklkXCIsIFwidG9wXCIsIFwiYmFzZUVsZW1cIiwgXCJuYXZcIiwgXCJyZXF1ZXN0R29Ub1NjcmVlblwiLFxyXG4gICAgICAgIF0pO1xyXG4gICAgICAgIHRoaXMubmF2LnByZXYuY2xhc3NMaXN0LmFkZChPTUhDLk5BVl9QUkVWKTtcclxuICAgICAgICB0aGlzLm5hdi5uZXh0LmNsYXNzTGlzdC5hZGQoT01IQy5OQVZfTkVYVCk7XHJcbiAgICAgICAgdGhpcy5uYXYucHJldi50ZXh0Q29udGVudCA9IFwiQmFja1wiO1xyXG4gICAgICAgIHRoaXMubmF2Lm5leHQudGV4dENvbnRlbnQgPSBcIk5leHRcIjtcclxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIDogUk89XHJcbiAgICAgICAgdGhpcy5uYXYucHJldi5vbmNsaWNrID0gKGV2KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRyZWUgPSBTa1NjcmVlbi5OYXZUcmVlO1xyXG4gICAgICAgICAgICBjb25zdCB0aGlzTmF2ID0gdHJlZVt0aGlzLnNjcmVlbklkXTtcclxuICAgICAgICAgICAgaWYgKHRyZWVbdGhpc05hdi5wcmV2XS5ocmVmID09PSB0aGlzTmF2LmhyZWYpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdEdvVG9TY3JlZW4oU2tTY3JlZW4uTmF2VHJlZVtzY3JlZW5JZF0ucHJldiwge30pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgd2luZG93Lmhpc3RvcnkuYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogKipEbyBub3Qgb3ZlcnJpZGUuKipcclxuICAgICAqL1xyXG4gICAgX2VudGVyKG5hdkRpciwgYXJncykge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IGAke3RoaXMuc2NyZWVuTmFtZXMuc3BhY2V5Q2FwaXRhbGl6ZWR9IHwgJHt0aGlzLnRvcC5kZWZhdWx0RG9jVGl0bGV9YDtcclxuICAgICAgICAgICAgaWYgKG5hdkRpciA9PT0gU2tTY3JlZW4uTmF2RGlyLkZPUldBUkQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uID0gbmV3IHdpbmRvdy5VUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3SGlzdG9yeVJvb3QgPSBsb2NhdGlvbi5oYXNoID0gU2tTY3JlZW4uTmF2VHJlZVt0aGlzLnNjcmVlbklkXS5ocmVmO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYXJncyA9IFt7IHNjcmVlbklkOiB0aGlzLnNjcmVlbklkIH0sIFwiXCIsIGxvY2F0aW9uLmhyZWZdO1xyXG4gICAgICAgICAgICAgICAgaWYgKCgoX2EgPSB3aW5kb3cuaGlzdG9yeS5zdGF0ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNjcmVlbklkKSAhPT0gbmV3SGlzdG9yeVJvb3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoU2tTY3JlZW4uTmF2VHJlZVt0aGlzLnNjcmVlbklkXS5wcmV2ID09PSB0aGlzLnNjcmVlbklkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGVudGVyaW5nIHRoZSByb290IHNjcmVlbiBmb3IgdGhlIGZpcnN0IHRpbWU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKC4uLmFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9yeS5wdXNoU3RhdGUoLi4uYXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfaGFzTGF6eUxvYWRlZCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xhenlMb2FkKCk7XHJcbiAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9wYXJlbnRFbGVtKS5hcHBlbmRDaGlsZCh0aGlzLmJhc2VFbGVtKTtcclxuICAgICAgICAgICAgICAgIEpzVXRpbHMucHJlcGVuZENvbW1lbnQodGhpcy5iYXNlRWxlbSwgYCR7dGhpcy5zY3JlZW5OYW1lcy5zcGFjZXlVcHBlcmNhc2V9IFNDUkVFTmApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlRWxlbS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIHRoaXMuc2NyZWVuTmFtZXMuc3BhY2V5Q2FwaXRhbGl6ZWQgKyBcIiBTY3JlZW5cIik7XHJcbiAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9oYXNMYXp5TG9hZGVkLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB5aWVsZCB0aGlzLl9hYnN0cmFjdE9uQmVmb3JlRW50ZXIobmF2RGlyLCBhcmdzKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogKipEbyBub3Qgb3ZlcnJpZGUuKipcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBmYWxzZSBpZiB0aGUgbGVhdmUgd2FzIGNhbmNlbGxlZC5cclxuICAgICAqL1xyXG4gICAgX2xlYXZlKG5hdkRpcikge1xyXG4gICAgICAgIGlmICh0aGlzLl9hYnN0cmFjdE9uQmVmb3JlTGVhdmUobmF2RGlyKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiAqKkRvIG5vdCBvdmVycmlkZS4qKlxyXG4gICAgICovXHJcbiAgICBfb25BZnRlckVudGVyKCkge1xyXG4gICAgICAgIHRoaXMuYmFzZUVsZW0uZGF0YXNldFtPbUhvb2tzLlNjcmVlbi5EYXRhc2V0LkNVUlJFTlRdID0gXCJcIjsgLy8gZXhpc3RzLlxyXG4gICAgICAgIHRoaXMuYmFzZUVsZW0uc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJmYWxzZVwiKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogKipEbyBub3Qgb3ZlcnJpZGUuKipcclxuICAgICAqL1xyXG4gICAgX29uQWZ0ZXJMZWF2ZSgpIHtcclxuICAgICAgICBkZWxldGUgdGhpcy5iYXNlRWxlbS5kYXRhc2V0W09tSG9va3MuU2NyZWVuLkRhdGFzZXQuQ1VSUkVOVF07IC8vIG5vbi1leGlzdGFudC5cclxuICAgICAgICB0aGlzLmJhc2VFbGVtLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICovXHJcbiAgICBnZXRSZWNvbW1lbmRlZEZvY3VzRWxlbSgpIHtcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGlzIGEgZ29vZCBwbGFjZSB0byBzdGFydCBhbnkgYHNldEludGVydmFsYCBzY2hlZHVsZXMuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gZG9lcyBub3RoaW5nLiBPdmVycmlkaW5nIGltcGxlbWVudGF0aW9uc1xyXG4gICAgICogZnJvbSBkaXJlY3Qgc3ViY2xhc3NlcyBjYW4gc2FmZWx5IHNraXAgbWFraW5nIGEgc3VwZXJjYWxsLlxyXG4gICAgICpcclxuICAgICAqIE11c3Qgbm90IGNhbGwgYHRoaXMucmVxdWVzdEdvVG9TY3JlZW5gLlxyXG4gICAgICovXHJcbiAgICBfYWJzdHJhY3RPbkJlZm9yZUVudGVyKG5hdkRpciwgYXJncykge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICA7XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiBmYWxzZSBpZiB0aGUgbGVhdmUgc2hvdWxkIGJlIGNhbmNlbGxlZC4gVGhpcyBmdW5jdGlvbmFsaXR5XHJcbiAgICAgKiBhbGxvd3MgYW4gaW1wbGVtZW50YXRpb24gdG8gcHJvdmlkZSBhIHByb21wdCB0byB0aGUgdXNlciBzdWNoIGFzXHJcbiAgICAgKiBhIGNvbmZpcm1hdGlvbiBtb2RhbCB3YXJuaW5nIHRoYXQgdW5zYXZlZCBjaGFuZ2VzIHdvdWxkIGJlIGxvc3QuXHJcbiAgICAgKlxyXG4gICAgICogdG9wIGFueSBub24tZXNzZW50aWFsIGBzZXRJbnRlcnZhbGAgc2NoZWR1bGVzIHRoYXQgd2VyZSBzZXQgdXBcclxuICAgICAqIGluIGBfYWJzdHJhY3RPbkJlZm9yZUVudGVyYC5cclxuICAgICAqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIG5vdCBiZSBjYWxsZWQgdXBvbiBuYXZpZ2F0aW5nIHRvIGEgZGlmZmVyZW50XHJcbiAgICAgKiBwYWdlLCBzbyBhY3Rpb25zIHN1Y2ggYXMgd3JpdGVzIHRvIHBlcnNpc3RlZCBzdG9yYWdlIHNob3VsZCBub3RcclxuICAgICAqIGJlIHBsYWNlZCBoZXJlIGFzIGFuIG9wdGltaXphdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBNdXN0IG5vdCBjYWxsIGB0aGlzLnJlcXVlc3RHb1RvU2NyZWVuYC5cclxuICAgICAqL1xyXG4gICAgX2Fic3RyYWN0T25CZWZvcmVMZWF2ZShuYXZEaXIpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxufVxyXG5fcGFyZW50RWxlbSA9IG5ldyBXZWFrTWFwKCksIF9oYXNMYXp5TG9hZGVkID0gbmV3IFdlYWtNYXAoKTtcclxuKGZ1bmN0aW9uIChTa1NjcmVlbikge1xyXG4gICAgbGV0IElkO1xyXG4gICAgKGZ1bmN0aW9uIChJZCkge1xyXG4gICAgICAgIC8vIEdlbmVyYWw6ICAgICA9PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgSWRbXCJIT01FXCJdID0gXCJob21lXCI7XHJcbiAgICAgICAgSWRbXCJIT1dfVE9fUExBWVwiXSA9IFwiaG93VG9QbGF5XCI7XHJcbiAgICAgICAgSWRbXCJIT1dfVE9fSE9TVFwiXSA9IFwiaG93VG9Ib3N0XCI7XHJcbiAgICAgICAgSWRbXCJDT0xPVVJfQ1RSTFwiXSA9IFwiY29sb3VyQ29udHJvbFwiO1xyXG4gICAgICAgIC8vIE9mZmxpbmU6ICAgICA9PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgSWRbXCJTRVRVUF9PRkZMSU5FXCJdID0gXCJzZXR1cE9mZmxpbmVcIjtcclxuICAgICAgICBJZFtcIlBMQVlfT0ZGTElORVwiXSA9IFwicGxheU9mZmxpbmVcIjtcclxuICAgICAgICAvLyBPbmxpbmU6ICAgICAgPT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIElkW1wiR1JPVVBfSk9JTkVSXCJdID0gXCJncm91cEpvaW5lclwiO1xyXG4gICAgICAgIElkW1wiU0VUVVBfT05MSU5FXCJdID0gXCJzZXR1cE9ubGluZVwiO1xyXG4gICAgICAgIElkW1wiR1JPVVBfTE9CQllcIl0gPSBcImdyb3VwTG9iYnlcIjtcclxuICAgICAgICBJZFtcIlBMQVlfT05MSU5FXCJdID0gXCJwbGF5T25saW5lXCI7XHJcbiAgICAgICAgLy8gPT09PT09PSAgICAgID09PT09PT09PT09PT09PT09PT1cclxuICAgIH0pKElkID0gU2tTY3JlZW4uSWQgfHwgKFNrU2NyZWVuLklkID0ge30pKTtcclxuICAgIE9iamVjdC5mcmVlemUoSWQpO1xyXG4gICAgbGV0IEhpc3RvcnlFbnRyeUlkO1xyXG4gICAgKGZ1bmN0aW9uIChIaXN0b3J5RW50cnlJZCkge1xyXG4gICAgfSkoSGlzdG9yeUVudHJ5SWQgPSBTa1NjcmVlbi5IaXN0b3J5RW50cnlJZCB8fCAoU2tTY3JlZW4uSGlzdG9yeUVudHJ5SWQgPSB7fSkpO1xyXG4gICAgLyoqXHJcbiAgICAgKiBOb3RlIHRoYXQgZm9yd2FyZCBuYXZpZ2F0aW9uIGhhcyBubyBvYmxpZ2F0aW9uIHRvIGNvbXBseSB3aXRoXHJcbiAgICAgKiB0aGUgbmF2aWdhdGlvbiB0cmVlLlxyXG4gICAgICpcclxuICAgICAqIE5vdGU6IFRoZSBmYWN0IHRoYXQgdGhlIGxvYmJ5IHByZWNlZGVzIHRoZSBvbmxpbmUgc2V0dXAgc2NyZWVuXHJcbiAgICAgKiBmb3IgdGhlIGdyb3VwIGhvc3QgaXMgaW1wb3J0YW50LCBzaW5jZSB0aGUgc29ja2V0IGxpc3RlbmVyIGZvclxyXG4gICAgICogVXNlckluZm9DaGFuZ2UgZXZlbnRzIGlzIG9ubHkgcmVnaXN0ZXJlZCBpbiB0aGUgbG9iYnkgc2NyZWVuLlxyXG4gICAgICovXHJcbiAgICBTa1NjcmVlbi5OYXZUcmVlID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgW0lkLkhPTUVdOiB7IHByZXY6IElkLkhPTUUsIGhyZWY6IElkLkhPTUUgfSxcclxuICAgICAgICBbSWQuSE9XX1RPX1BMQVldOiB7IHByZXY6IElkLkhPTUUsIGhyZWY6IElkLkhPV19UT19QTEFZIH0sXHJcbiAgICAgICAgW0lkLkhPV19UT19IT1NUXTogeyBwcmV2OiBJZC5IT01FLCBocmVmOiBJZC5IT1dfVE9fSE9TVCB9LFxyXG4gICAgICAgIFtJZC5DT0xPVVJfQ1RSTF06IHsgcHJldjogSWQuSE9NRSwgaHJlZjogSWQuQ09MT1VSX0NUUkwgfSxcclxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgW0lkLlNFVFVQX09GRkxJTkVdOiB7IHByZXY6IElkLkhPTUUsIGhyZWY6IElkLlNFVFVQX09GRkxJTkUgfSxcclxuICAgICAgICBbSWQuUExBWV9PRkZMSU5FXTogeyBwcmV2OiBJZC5TRVRVUF9PRkZMSU5FLCBocmVmOiBJZC5TRVRVUF9PRkZMSU5FIH0sXHJcbiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIFtJZC5HUk9VUF9KT0lORVJdOiB7IHByZXY6IElkLkhPTUUsIGhyZWY6IElkLkdST1VQX0pPSU5FUiB9LFxyXG4gICAgICAgIFtJZC5HUk9VUF9MT0JCWV06IHsgcHJldjogSWQuR1JPVVBfSk9JTkVSLCBocmVmOiBJZC5HUk9VUF9KT0lORVIgfSxcclxuICAgICAgICBbSWQuU0VUVVBfT05MSU5FXTogeyBwcmV2OiBJZC5HUk9VUF9MT0JCWSwgaHJlZjogSWQuR1JPVVBfSk9JTkVSIH0sXHJcbiAgICAgICAgW0lkLlBMQVlfT05MSU5FXTogeyBwcmV2OiBJZC5HUk9VUF9MT0JCWSwgaHJlZjogSWQuR1JPVVBfSk9JTkVSIH0sXHJcbiAgICB9KTtcclxuICAgIChmdW5jdGlvbiBhc3NlcnROYXZpZ2F0aW9uVHJlZUlzVmFsaWQoKSB7XHJcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoU2tTY3JlZW4uTmF2VHJlZSkuZm9yRWFjaCgoW2lkLCBkZXNjXSkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgcHJldiA9IGlkO1xyXG4gICAgICAgICAgICBjb25zdCB2aXNpdGVkID0gbmV3IFNldCgpO1xyXG4gICAgICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmlzaXRlZC5oYXMocHJldikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOYXZpZ2F0aW9uIHRyZWUgbXVzdCBub3QgY29udGFpbiBjeWNsZXMuXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmlzaXRlZC5hZGQocHJldik7XHJcbiAgICAgICAgICAgICAgICBwcmV2ID0gU2tTY3JlZW4uTmF2VHJlZVtwcmV2XS5wcmV2O1xyXG4gICAgICAgICAgICAgICAgaWYgKHByZXYgPT09IGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gd2hpbGUgKHByZXYgIT09IFNrU2NyZWVuLk5hdlRyZWVbcHJldl0ucHJldik7XHJcbiAgICAgICAgICAgIGlmIChwcmV2ICE9PSBJZC5IT01FKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgaG9tZSBzY3JlZW4gbXVzdCBiZSB0aGUgcm9vdCBvZiB0aGUgc2NyZWVuLW5hdmlnYXRpb24gdHJlZS5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pKCk7XHJcbiAgICBsZXQgTmF2RGlyO1xyXG4gICAgKGZ1bmN0aW9uIChOYXZEaXIpIHtcclxuICAgICAgICBOYXZEaXJbXCJGT1JXQVJEXCJdID0gXCJmb3J3YXJkXCI7XHJcbiAgICAgICAgTmF2RGlyW1wiQkFDS1dBUkRcIl0gPSBcImJhY2t3YXJkXCI7XHJcbiAgICB9KShOYXZEaXIgPSBTa1NjcmVlbi5OYXZEaXIgfHwgKFNrU2NyZWVuLk5hdkRpciA9IHt9KSk7XHJcbiAgICA7XHJcbiAgICBmdW5jdGlvbiBHRVRfTkFWX0RJUihfYXJncykge1xyXG4gICAgICAgIGNvbnN0IHsgY3VyciwgZGVzdCB9ID0gX2FyZ3M7XHJcbiAgICAgICAgaWYgKGN1cnIgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgcmV0dXJuIFNrU2NyZWVuLk5hdkRpci5GT1JXQVJEO1xyXG4gICAgICAgIGxldCBwcmV2ID0gY3VycjtcclxuICAgICAgICB3aGlsZSAocHJldiAhPT0gU2tTY3JlZW4uTmF2VHJlZVtwcmV2XS5wcmV2KSB7XHJcbiAgICAgICAgICAgIHByZXYgPSBTa1NjcmVlbi5OYXZUcmVlW3ByZXZdLnByZXY7XHJcbiAgICAgICAgICAgIGlmIChwcmV2ID09PSBkZXN0KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFNrU2NyZWVuLk5hdkRpci5CQUNLV0FSRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaWYgKE5hdlRyZWVbZGVzdF0ucHJldiAhPT0gY3Vycikge1xyXG4gICAgICAgIC8vICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7ZGVzdH0gaXMgbm90IHJlYWNoYWJsZSBmcm9tICR7Y3Vycn0uYCk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIElmIGRvLXdoaWxlIGNvbXBsZXRlcywgdGhlbiBkZXN0IG11c3QgYmUgaW4gdGhlIGZvcndhcmQgZGlyZWN0aW9uOlxyXG4gICAgICAgIHJldHVybiBTa1NjcmVlbi5OYXZEaXIuRk9SV0FSRDtcclxuICAgIH1cclxuICAgIFNrU2NyZWVuLkdFVF9OQVZfRElSID0gR0VUX05BVl9ESVI7XHJcbn0pKFNrU2NyZWVuIHx8IChTa1NjcmVlbiA9IHt9KSk7XHJcbk9iamVjdC5mcmVlemUoU2tTY3JlZW4pO1xyXG5PYmplY3QuZnJlZXplKFNrU2NyZWVuLnByb3RvdHlwZSk7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/client/screen/SkScreen.ts\n");

/***/ }),

/***/ "./src/client/screen/impl/ColourCtrl.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ColourCtrlScreen\": () => /* binding */ ColourCtrlScreen,\n/* harmony export */   \"Colour\": () => /* binding */ Colour\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _client_utils_SkPickOne__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/client/utils/SkPickOne.ts\");\n/* harmony import */ var _SkScreen__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/client/screen/SkScreen.ts\");\n\r\n// Tell WebPack about the css we want:\r\n__webpack_require__(\"./assets/style/colour/_barrel.css\");\r\n\r\n\r\nconst OMHC = _SkScreen__WEBPACK_IMPORTED_MODULE_1__.OmHooks.Screen.Impl.ColourCtrl.Class;\r\nconst CSS_FX = _SkScreen__WEBPACK_IMPORTED_MODULE_1__.OmHooks.General.Class;\r\n/**\r\n *\r\n */\r\nclass ColourCtrlScreen extends _SkScreen__WEBPACK_IMPORTED_MODULE_1__.SkScreen {\r\n    /**\r\n     * @override\r\n     */\r\n    _lazyLoad() {\r\n        this.baseElem.classList.add(OMHC.BASE);\r\n        this.baseElem.appendChild(this.nav.prev);\r\n        const sel \r\n        // @ts-expect-error : RO=\r\n        = this.sel\r\n            = new ColourCtrlScreen.PickOne(this.top.storage.Local, this.top.transition);\r\n        _SkScreen__WEBPACK_IMPORTED_MODULE_1__.JsUtils.propNoWrite(this, [\"sel\"]);\r\n        this.baseElem.appendChild(sel.baseElem);\r\n        // Highlight the user's last selected colour scheme (if it exists).\r\n        // This will already have been loaded up during page load, hence\r\n        // passing `false` to the `noCallback` argument\r\n        const lastUsedSchemeId = this.top.storage.Local.colourSchemeId;\r\n        if (lastUsedSchemeId) {\r\n            this.sel.selectOpt(this.sel.getOptById(lastUsedSchemeId), false);\r\n        }\r\n    }\r\n}\r\n(function (ColourCtrlScreen) {\r\n    var _firstTime, _storage, _transition;\r\n    /**\r\n     */\r\n    class PickOne extends _client_utils_SkPickOne__WEBPACK_IMPORTED_MODULE_0__.SkPickOne {\r\n        constructor(storage, transition) {\r\n            var _a;\r\n            super();\r\n            _firstTime.set(this, void 0);\r\n            _storage.set(this, void 0);\r\n            _transition.set(this, void 0);\r\n            (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldSet)(this, _firstTime, true);\r\n            (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldSet)(this, _storage, storage);\r\n            (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldSet)(this, _transition, transition);\r\n            Colour.Schemes.forEach((schemeDesc) => {\r\n                this.addOption(new PickOne.Option(schemeDesc));\r\n            });\r\n            this.selectOpt(this.getOptById((_a = (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldGet)(this, _storage).colourSchemeId) !== null && _a !== void 0 ? _a : \"snakey\"), false);\r\n        }\r\n        _onHoverOpt(opt) {\r\n            ;\r\n        }\r\n        _onSelectOpt(opt) {\r\n            (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldGet)(this, _storage).colourSchemeId = opt.desc.id;\r\n            (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldGet)(this, _storage).colourSchemeStyleLiteral = opt.cssLiteral;\r\n            const firstTime = (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldGet)(this, _firstTime);\r\n            (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldSet)(this, _firstTime, false);\r\n            (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldGet)(this, _transition).do({\r\n                intermediateTransitionTrigger: () => {\r\n                    document.documentElement.dataset[_SkScreen__WEBPACK_IMPORTED_MODULE_1__.OmHooks.General.Dataset.COLOUR_SCHEME] = opt.desc.id;\r\n                    // Clear related style attribute variables set on page enter:\r\n                    const docStyle = document.documentElement.style;\r\n                    if (firstTime) {\r\n                        for (const swatchName of Colour.Swatch) {\r\n                            const varString = \"--colour-\" + swatchName;\r\n                            docStyle.setProperty(varString, \"\");\r\n                        }\r\n                    }\r\n                },\r\n            });\r\n        }\r\n        getOptById(searchId) {\r\n            return this.options.find((opt) => opt.desc.id === searchId);\r\n        }\r\n    }\r\n    _firstTime = new WeakMap(), _storage = new WeakMap(), _transition = new WeakMap();\r\n    ColourCtrlScreen.PickOne = PickOne;\r\n    (function (PickOne) {\r\n        /**\r\n         */\r\n        class Option extends _client_utils_SkPickOne__WEBPACK_IMPORTED_MODULE_0__.SkPickOne._Option {\r\n            constructor(desc) {\r\n                super();\r\n                this.desc = desc;\r\n                const base = this.baseElem;\r\n                base.classList.add(OMHC.OPTION);\r\n                base.dataset[_SkScreen__WEBPACK_IMPORTED_MODULE_1__.OmHooks.General.Dataset.COLOUR_SCHEME] = desc.id;\r\n                const label = _SkScreen__WEBPACK_IMPORTED_MODULE_1__.JsUtils.mkEl(\"span\", [OMHC.OPTION_LABEL]);\r\n                {\r\n                    label.appendChild(_SkScreen__WEBPACK_IMPORTED_MODULE_1__.JsUtils.mkEl(\"div\", [OMHC.OPTION_LABEL_TITLE], {\r\n                        textContent: desc.displayName,\r\n                    }));\r\n                }\r\n                label.appendChild(_SkScreen__WEBPACK_IMPORTED_MODULE_1__.JsUtils.mkEl(\"div\", [OMHC.OPTION_LABEL_AUTHOR], {\r\n                    textContent: \"by \" + desc.author,\r\n                }));\r\n                base.appendChild(label);\r\n                for (let i = 0; i < Option.NUM_PREVIEW_SLOTS - 1; i++) {\r\n                    base.appendChild(_SkScreen__WEBPACK_IMPORTED_MODULE_1__.JsUtils.mkEl(\"span\", []));\r\n                }\r\n                // At below: We need to append it to something to use getComputedStyle :/\r\n                // We attach it in the proper place once we get that.\r\n                document.body.appendChild(base);\r\n                let cssLiteral = \"\";\r\n                const computedStyle = window.getComputedStyle(base);\r\n                for (const swatchName of Colour.Swatch) {\r\n                    const varString = \"--colour-\" + swatchName;\r\n                    cssLiteral += varString + \":\" + computedStyle.getPropertyValue(varString) + \";\";\r\n                }\r\n                this.cssLiteral = cssLiteral;\r\n            }\r\n        }\r\n        PickOne.Option = Option;\r\n        (function (Option) {\r\n            /**\r\n             * This must match the number slots used in the CSS.\r\n             */\r\n            Option.NUM_PREVIEW_SLOTS = 8;\r\n        })(Option = PickOne.Option || (PickOne.Option = {}));\r\n        Object.freeze(Option);\r\n        Object.freeze(Option.prototype);\r\n    })(PickOne = ColourCtrlScreen.PickOne || (ColourCtrlScreen.PickOne = {}));\r\n    Object.freeze(PickOne);\r\n    Object.freeze(PickOne.prototype);\r\n})(ColourCtrlScreen || (ColourCtrlScreen = {}));\r\nObject.freeze(ColourCtrlScreen);\r\nObject.freeze(ColourCtrlScreen.prototype);\r\n/**\r\n *\r\n */\r\nvar Colour;\r\n(function (Colour) {\r\n    Colour.Swatch = Object.freeze([\r\n        \"mainFg\", \"mainBg\",\r\n        \"tileFg\", \"tileBg\", \"tileBd\",\r\n        \"healthFg\", \"healthBg\",\r\n        \"pFaceMe\", \"pFaceMeOppo\",\r\n        \"pFaceTeammate\", \"pFaceImtlTeammate\",\r\n        \"pFaceOpponent\", \"pFaceImtlOpponent\",\r\n    ]);\r\n    Colour.Schemes = Object.freeze(([{\r\n            id: \"snakey\",\r\n            displayName: \"Snakey\",\r\n            author: \"N.W.\",\r\n        }, {\r\n            id: \"smooth-stone\",\r\n            displayName: \"Smooth Stone\",\r\n            author: \"Dav\",\r\n        }, {\r\n            id: \"murky-dive\",\r\n            displayName: \"Murky Dive\",\r\n            author: \"Stressed Dav\",\r\n        },\r\n    ]).map((scheme) => Object.freeze(scheme)));\r\n})(Colour || (Colour = {}));\r\nObject.freeze(Colour);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L3NjcmVlbi9pbXBsL0NvbG91ckN0cmwudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbmFrZXkzLy4vc3JjL2NsaWVudC9zY3JlZW4vaW1wbC9Db2xvdXJDdHJsLnRzPzY3YWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19jbGFzc1ByaXZhdGVGaWVsZEdldCwgX19jbGFzc1ByaXZhdGVGaWVsZFNldCB9IGZyb20gXCJ0c2xpYlwiO1xyXG4vLyBUZWxsIFdlYlBhY2sgYWJvdXQgdGhlIGNzcyB3ZSB3YW50OlxyXG5yZXF1aXJlKFwiYXNzZXRzL3N0eWxlL2NvbG91ci9fYmFycmVsLmNzc1wiKTtcclxuaW1wb3J0IHsgU2tQaWNrT25lIH0gZnJvbSBcIi4uLy4uLy4uL2NsaWVudC91dGlscy9Ta1BpY2tPbmVcIjtcclxuaW1wb3J0IHsgSnNVdGlscywgT21Ib29rcywgU2tTY3JlZW4gfSBmcm9tIFwiLi4vU2tTY3JlZW5cIjtcclxuY29uc3QgT01IQyA9IE9tSG9va3MuU2NyZWVuLkltcGwuQ29sb3VyQ3RybC5DbGFzcztcclxuY29uc3QgQ1NTX0ZYID0gT21Ib29rcy5HZW5lcmFsLkNsYXNzO1xyXG4vKipcclxuICpcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb2xvdXJDdHJsU2NyZWVuIGV4dGVuZHMgU2tTY3JlZW4ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAb3ZlcnJpZGVcclxuICAgICAqL1xyXG4gICAgX2xhenlMb2FkKCkge1xyXG4gICAgICAgIHRoaXMuYmFzZUVsZW0uY2xhc3NMaXN0LmFkZChPTUhDLkJBU0UpO1xyXG4gICAgICAgIHRoaXMuYmFzZUVsZW0uYXBwZW5kQ2hpbGQodGhpcy5uYXYucHJldik7XHJcbiAgICAgICAgY29uc3Qgc2VsIFxyXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgOiBSTz1cclxuICAgICAgICA9IHRoaXMuc2VsXHJcbiAgICAgICAgICAgID0gbmV3IENvbG91ckN0cmxTY3JlZW4uUGlja09uZSh0aGlzLnRvcC5zdG9yYWdlLkxvY2FsLCB0aGlzLnRvcC50cmFuc2l0aW9uKTtcclxuICAgICAgICBKc1V0aWxzLnByb3BOb1dyaXRlKHRoaXMsIFtcInNlbFwiXSk7XHJcbiAgICAgICAgdGhpcy5iYXNlRWxlbS5hcHBlbmRDaGlsZChzZWwuYmFzZUVsZW0pO1xyXG4gICAgICAgIC8vIEhpZ2hsaWdodCB0aGUgdXNlcidzIGxhc3Qgc2VsZWN0ZWQgY29sb3VyIHNjaGVtZSAoaWYgaXQgZXhpc3RzKS5cclxuICAgICAgICAvLyBUaGlzIHdpbGwgYWxyZWFkeSBoYXZlIGJlZW4gbG9hZGVkIHVwIGR1cmluZyBwYWdlIGxvYWQsIGhlbmNlXHJcbiAgICAgICAgLy8gcGFzc2luZyBgZmFsc2VgIHRvIHRoZSBgbm9DYWxsYmFja2AgYXJndW1lbnRcclxuICAgICAgICBjb25zdCBsYXN0VXNlZFNjaGVtZUlkID0gdGhpcy50b3Auc3RvcmFnZS5Mb2NhbC5jb2xvdXJTY2hlbWVJZDtcclxuICAgICAgICBpZiAobGFzdFVzZWRTY2hlbWVJZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNlbC5zZWxlY3RPcHQodGhpcy5zZWwuZ2V0T3B0QnlJZChsYXN0VXNlZFNjaGVtZUlkKSwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4oZnVuY3Rpb24gKENvbG91ckN0cmxTY3JlZW4pIHtcclxuICAgIHZhciBfZmlyc3RUaW1lLCBfc3RvcmFnZSwgX3RyYW5zaXRpb247XHJcbiAgICAvKipcclxuICAgICAqL1xyXG4gICAgY2xhc3MgUGlja09uZSBleHRlbmRzIFNrUGlja09uZSB7XHJcbiAgICAgICAgY29uc3RydWN0b3Ioc3RvcmFnZSwgdHJhbnNpdGlvbikge1xyXG4gICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgICAgIF9maXJzdFRpbWUuc2V0KHRoaXMsIHZvaWQgMCk7XHJcbiAgICAgICAgICAgIF9zdG9yYWdlLnNldCh0aGlzLCB2b2lkIDApO1xyXG4gICAgICAgICAgICBfdHJhbnNpdGlvbi5zZXQodGhpcywgdm9pZCAwKTtcclxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfZmlyc3RUaW1lLCB0cnVlKTtcclxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfc3RvcmFnZSwgc3RvcmFnZSk7XHJcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX3RyYW5zaXRpb24sIHRyYW5zaXRpb24pO1xyXG4gICAgICAgICAgICBDb2xvdXIuU2NoZW1lcy5mb3JFYWNoKChzY2hlbWVEZXNjKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZE9wdGlvbihuZXcgUGlja09uZS5PcHRpb24oc2NoZW1lRGVzYykpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RPcHQodGhpcy5nZXRPcHRCeUlkKChfYSA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX3N0b3JhZ2UpLmNvbG91clNjaGVtZUlkKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBcInNuYWtleVwiKSwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfb25Ib3Zlck9wdChvcHQpIHtcclxuICAgICAgICAgICAgO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfb25TZWxlY3RPcHQob3B0KSB7XHJcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX3N0b3JhZ2UpLmNvbG91clNjaGVtZUlkID0gb3B0LmRlc2MuaWQ7XHJcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX3N0b3JhZ2UpLmNvbG91clNjaGVtZVN0eWxlTGl0ZXJhbCA9IG9wdC5jc3NMaXRlcmFsO1xyXG4gICAgICAgICAgICBjb25zdCBmaXJzdFRpbWUgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9maXJzdFRpbWUpO1xyXG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9maXJzdFRpbWUsIGZhbHNlKTtcclxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfdHJhbnNpdGlvbikuZG8oe1xyXG4gICAgICAgICAgICAgICAgaW50ZXJtZWRpYXRlVHJhbnNpdGlvblRyaWdnZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZGF0YXNldFtPbUhvb2tzLkdlbmVyYWwuRGF0YXNldC5DT0xPVVJfU0NIRU1FXSA9IG9wdC5kZXNjLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIENsZWFyIHJlbGF0ZWQgc3R5bGUgYXR0cmlidXRlIHZhcmlhYmxlcyBzZXQgb24gcGFnZSBlbnRlcjpcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkb2NTdHlsZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3RUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3dhdGNoTmFtZSBvZiBDb2xvdXIuU3dhdGNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YXJTdHJpbmcgPSBcIi0tY29sb3VyLVwiICsgc3dhdGNoTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY1N0eWxlLnNldFByb3BlcnR5KHZhclN0cmluZywgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZ2V0T3B0QnlJZChzZWFyY2hJZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmZpbmQoKG9wdCkgPT4gb3B0LmRlc2MuaWQgPT09IHNlYXJjaElkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfZmlyc3RUaW1lID0gbmV3IFdlYWtNYXAoKSwgX3N0b3JhZ2UgPSBuZXcgV2Vha01hcCgpLCBfdHJhbnNpdGlvbiA9IG5ldyBXZWFrTWFwKCk7XHJcbiAgICBDb2xvdXJDdHJsU2NyZWVuLlBpY2tPbmUgPSBQaWNrT25lO1xyXG4gICAgKGZ1bmN0aW9uIChQaWNrT25lKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY2xhc3MgT3B0aW9uIGV4dGVuZHMgU2tQaWNrT25lLl9PcHRpb24ge1xyXG4gICAgICAgICAgICBjb25zdHJ1Y3RvcihkZXNjKSB7XHJcbiAgICAgICAgICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZXNjID0gZGVzYztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2UgPSB0aGlzLmJhc2VFbGVtO1xyXG4gICAgICAgICAgICAgICAgYmFzZS5jbGFzc0xpc3QuYWRkKE9NSEMuT1BUSU9OKTtcclxuICAgICAgICAgICAgICAgIGJhc2UuZGF0YXNldFtPbUhvb2tzLkdlbmVyYWwuRGF0YXNldC5DT0xPVVJfU0NIRU1FXSA9IGRlc2MuaWQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsYWJlbCA9IEpzVXRpbHMubWtFbChcInNwYW5cIiwgW09NSEMuT1BUSU9OX0xBQkVMXSk7XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwuYXBwZW5kQ2hpbGQoSnNVdGlscy5ta0VsKFwiZGl2XCIsIFtPTUhDLk9QVElPTl9MQUJFTF9USVRMRV0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dENvbnRlbnQ6IGRlc2MuZGlzcGxheU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGFiZWwuYXBwZW5kQ2hpbGQoSnNVdGlscy5ta0VsKFwiZGl2XCIsIFtPTUhDLk9QVElPTl9MQUJFTF9BVVRIT1JdLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dENvbnRlbnQ6IFwiYnkgXCIgKyBkZXNjLmF1dGhvcixcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIGJhc2UuYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBPcHRpb24uTlVNX1BSRVZJRVdfU0xPVFMgLSAxOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlLmFwcGVuZENoaWxkKEpzVXRpbHMubWtFbChcInNwYW5cIiwgW10pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIEF0IGJlbG93OiBXZSBuZWVkIHRvIGFwcGVuZCBpdCB0byBzb21ldGhpbmcgdG8gdXNlIGdldENvbXB1dGVkU3R5bGUgOi9cclxuICAgICAgICAgICAgICAgIC8vIFdlIGF0dGFjaCBpdCBpbiB0aGUgcHJvcGVyIHBsYWNlIG9uY2Ugd2UgZ2V0IHRoYXQuXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGJhc2UpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGNzc0xpdGVyYWwgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGJhc2UpO1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzd2F0Y2hOYW1lIG9mIENvbG91ci5Td2F0Y2gpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YXJTdHJpbmcgPSBcIi0tY29sb3VyLVwiICsgc3dhdGNoTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBjc3NMaXRlcmFsICs9IHZhclN0cmluZyArIFwiOlwiICsgY29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKHZhclN0cmluZykgKyBcIjtcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuY3NzTGl0ZXJhbCA9IGNzc0xpdGVyYWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgUGlja09uZS5PcHRpb24gPSBPcHRpb247XHJcbiAgICAgICAgKGZ1bmN0aW9uIChPcHRpb24pIHtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIFRoaXMgbXVzdCBtYXRjaCB0aGUgbnVtYmVyIHNsb3RzIHVzZWQgaW4gdGhlIENTUy5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIE9wdGlvbi5OVU1fUFJFVklFV19TTE9UUyA9IDg7XHJcbiAgICAgICAgfSkoT3B0aW9uID0gUGlja09uZS5PcHRpb24gfHwgKFBpY2tPbmUuT3B0aW9uID0ge30pKTtcclxuICAgICAgICBPYmplY3QuZnJlZXplKE9wdGlvbik7XHJcbiAgICAgICAgT2JqZWN0LmZyZWV6ZShPcHRpb24ucHJvdG90eXBlKTtcclxuICAgIH0pKFBpY2tPbmUgPSBDb2xvdXJDdHJsU2NyZWVuLlBpY2tPbmUgfHwgKENvbG91ckN0cmxTY3JlZW4uUGlja09uZSA9IHt9KSk7XHJcbiAgICBPYmplY3QuZnJlZXplKFBpY2tPbmUpO1xyXG4gICAgT2JqZWN0LmZyZWV6ZShQaWNrT25lLnByb3RvdHlwZSk7XHJcbn0pKENvbG91ckN0cmxTY3JlZW4gfHwgKENvbG91ckN0cmxTY3JlZW4gPSB7fSkpO1xyXG5PYmplY3QuZnJlZXplKENvbG91ckN0cmxTY3JlZW4pO1xyXG5PYmplY3QuZnJlZXplKENvbG91ckN0cmxTY3JlZW4ucHJvdG90eXBlKTtcclxuLyoqXHJcbiAqXHJcbiAqL1xyXG5leHBvcnQgdmFyIENvbG91cjtcclxuKGZ1bmN0aW9uIChDb2xvdXIpIHtcclxuICAgIENvbG91ci5Td2F0Y2ggPSBPYmplY3QuZnJlZXplKFtcclxuICAgICAgICBcIm1haW5GZ1wiLCBcIm1haW5CZ1wiLFxyXG4gICAgICAgIFwidGlsZUZnXCIsIFwidGlsZUJnXCIsIFwidGlsZUJkXCIsXHJcbiAgICAgICAgXCJoZWFsdGhGZ1wiLCBcImhlYWx0aEJnXCIsXHJcbiAgICAgICAgXCJwRmFjZU1lXCIsIFwicEZhY2VNZU9wcG9cIixcclxuICAgICAgICBcInBGYWNlVGVhbW1hdGVcIiwgXCJwRmFjZUltdGxUZWFtbWF0ZVwiLFxyXG4gICAgICAgIFwicEZhY2VPcHBvbmVudFwiLCBcInBGYWNlSW10bE9wcG9uZW50XCIsXHJcbiAgICBdKTtcclxuICAgIENvbG91ci5TY2hlbWVzID0gT2JqZWN0LmZyZWV6ZSgoW3tcclxuICAgICAgICAgICAgaWQ6IFwic25ha2V5XCIsXHJcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBcIlNuYWtleVwiLFxyXG4gICAgICAgICAgICBhdXRob3I6IFwiTi5XLlwiLFxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgaWQ6IFwic21vb3RoLXN0b25lXCIsXHJcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBcIlNtb290aCBTdG9uZVwiLFxyXG4gICAgICAgICAgICBhdXRob3I6IFwiRGF2XCIsXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBpZDogXCJtdXJreS1kaXZlXCIsXHJcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBcIk11cmt5IERpdmVcIixcclxuICAgICAgICAgICAgYXV0aG9yOiBcIlN0cmVzc2VkIERhdlwiLFxyXG4gICAgICAgIH0sXHJcbiAgICBdKS5tYXAoKHNjaGVtZSkgPT4gT2JqZWN0LmZyZWV6ZShzY2hlbWUpKSk7XHJcbn0pKENvbG91ciB8fCAoQ29sb3VyID0ge30pKTtcclxuT2JqZWN0LmZyZWV6ZShDb2xvdXIpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/client/screen/impl/ColourCtrl.ts\n");

/***/ }),

/***/ "./src/client/screen/impl/GroupJoiner.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GroupJoinerScreen\": () => /* binding */ GroupJoinerScreen\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/base/defs/OnlineDefs.ts\");\n/* harmony import */ var _SkScreen__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/client/screen/SkScreen.ts\");\nvar _state, _clientIsGroupHost;\r\n\r\n\r\n\r\n\r\n/**\r\n * This screen is like a form for joining a session on a remote host.\r\n */\r\nclass GroupJoinerScreen extends _SkScreen__WEBPACK_IMPORTED_MODULE_1__.SkScreen {\r\n    constructor() {\r\n        super(...arguments);\r\n        _state.set(this, void 0);\r\n        _clientIsGroupHost.set(this, false);\r\n    }\r\n    get clientIsGroupHost() {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldGet)(this, _clientIsGroupHost);\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    _lazyLoad() {\r\n        this.baseElem.classList.add(_SkScreen__WEBPACK_IMPORTED_MODULE_1__.OmHooks.General.Class.CENTER_CONTENTS, _SkScreen__WEBPACK_IMPORTED_MODULE_1__.OmHooks.Screen.Impl.GroupJoiner.Class.BASE);\r\n        const contentWrapper = this._initializeFormContents();\r\n        const huiSubmit = this._initializeHostUrlHandlers();\r\n        this._initializeGroupNameHandlers(huiSubmit);\r\n        this._initializePassphraseHandlers();\r\n        // Note: externalized from `_initializeFormContents` for visibility.\r\n        this.nav.next.onclick = (ev) => {\r\n            // Using a plain button instead of <input type=\"submit\"> is\r\n            // better here since we don't want any magical form behaviour.\r\n            contentWrapperSubmit();\r\n        };\r\n        const contentWrapperSubmit = () => {\r\n            // ev.preventDefault(); // Don't perform any form action\r\n            // No validation needed. The next button is only enabled if inputs are valid.\r\n            this.requestGoToScreen(_SkScreen__WEBPACK_IMPORTED_MODULE_1__.SkScreen.Id.GROUP_LOBBY, {\r\n                groupName: this.in.groupName.value,\r\n                groupPassphrase: this.in.passphrase.value,\r\n            });\r\n        };\r\n        this._setFormState(State.CHOOSING_HOST);\r\n        this.baseElem.appendChild(contentWrapper);\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    getRecommendedFocusElem() {\r\n        return (this.groupSocket !== undefined) ? this.in.groupName : this.in.hostUrl;\r\n    }\r\n    get state() {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldGet)(this, _state);\r\n    }\r\n    /**\r\n     * _Does nothing if the `newState` argument is the same as the\r\n     * current state._ Doesn't touch sockets.\r\n     *\r\n     * @param newState -\r\n     */\r\n    _setFormState(newState) {\r\n        if (this.state === newState)\r\n            return;\r\n        if (newState === State.IN_GROUP) {\r\n            if (this.state !== State.CHOOSING_GROUP) {\r\n                throw new Error(\"never\"); // Illegal state transition.\r\n            }\r\n            this.in.passphrase.disabled = true;\r\n            this.nav.next.disabled = false;\r\n            this.nav.next.focus();\r\n        }\r\n        else {\r\n            this.nav.next.disabled = true;\r\n            if (newState === State.CHOOSING_HOST) {\r\n                this.in.groupName.disabled = true;\r\n                this.in.groupName.value = \"\";\r\n                // Fun fact on an alternative for clearing children: https://stackoverflow.com/a/22966637/11107541\r\n                this.groupNameDataList.innerText = \"\";\r\n                this.in.passphrase.disabled = true;\r\n                this.in.passphrase.value = \"\";\r\n                this.in.hostUrl.focus();\r\n                ;\r\n            }\r\n            else if (newState === State.CHOOSING_GROUP) {\r\n                this.in.groupName.disabled = false;\r\n                this.in.passphrase.disabled = false;\r\n                this.in.groupName.focus();\r\n            }\r\n        }\r\n        (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldSet)(this, _state, newState);\r\n    }\r\n    /**\r\n     */\r\n    _initializeHostUrlHandlers() {\r\n        const top = this.top;\r\n        const input = this.in.hostUrl;\r\n        const submitInput = () => (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__awaiter)(this, void 0, void 0, function* () {\r\n            var _a, _b;\r\n            // Short-circuit on invalid input:\r\n            if (!input.value || !input.validity.valid)\r\n                return;\r\n            // Minor cleaning: default the protocol and only use the origin:\r\n            if (!input.value.startsWith(defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_0__.SkServer.PROTOCOL)) {\r\n                input.value = new window.URL(defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_0__.SkServer.PROTOCOL + input.value).origin;\r\n            }\r\n            // Short-circuit when no change has occurred:\r\n            const gameServerUrl = new window.URL(input.value);\r\n            if (((_a = this.groupSocket) === null || _a === void 0 ? void 0 : _a.io.opts.hostname) === gameServerUrl.hostname) {\r\n                if (this.groupSocket.connected) {\r\n                    this._setFormState(State.CHOOSING_GROUP);\r\n                    this.in.groupName.focus(); // No changes have occurred.\r\n                }\r\n                else {\r\n                    // Impatient client is spamming.\r\n                }\r\n                return;\r\n            }\r\n            (_b = this.joinerSocket) === null || _b === void 0 ? void 0 : _b.close();\r\n            const sock = yield this.top.sockets.joinerSocketConnect({\r\n                serverUrl: gameServerUrl,\r\n            });\r\n            sock\r\n                .on(\"connect\", () => {\r\n                this._setFormState(State.CHOOSING_GROUP);\r\n                // Listen for group creation / deletion events.\r\n                sock.on(defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_0__.Group.Exist.EVENT_NAME, this._onNotifyGroupExist.bind(this));\r\n            })\r\n                .on(\"connect_error\", (error) => {\r\n                this.top.toast(\"Unable to connected to the specified server.\");\r\n            })\r\n                .on(\"disconnect\", (reason) => {\r\n                if (reason === \"io server disconnect\") {\r\n                    this._setFormState(State.CHOOSING_HOST);\r\n                    input.value = \"\";\r\n                    top.toast(\"The server disconnected you from the group joiner.\");\r\n                }\r\n            });\r\n        });\r\n        // Link handler to events:\r\n        input.oninput = (ev) => this._setFormState(State.CHOOSING_HOST);\r\n        input.onkeydown = (ev) => {\r\n            if (ev.key === \"Enter\") {\r\n                submitInput();\r\n            }\r\n        };\r\n        input.onpaste = (ev) => {\r\n            window.setTimeout(() => submitInput(), 0);\r\n        };\r\n        input.onchange = () => {\r\n            submitInput();\r\n        };\r\n        return submitInput;\r\n    }\r\n    /**\r\n     */\r\n    _onNotifyGroupExist(response) {\r\n        if (response === defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_0__.Group.Exist.RequestCreate.Response.NOPE) {\r\n            this.top.toast(`The server rejected your request to`\r\n                + ` create a new group \\\"${this.in.groupName.value}\\\".`);\r\n            return;\r\n        }\r\n        if (response === defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_0__.Group.Exist.RequestCreate.Response.OKAY) {\r\n            this.top.toast(`server accepted request to create new group \\\"${this.in.groupName.value}\\\".`);\r\n            this.top.toast(\"connecting to new group...\");\r\n            this._attemptToJoinExistingGroup();\r\n            return;\r\n        }\r\n        const makeOption = (groupName) => {\r\n            // If we didn't know about this group yet, create a new\r\n            // option for it (Insert into list in alphabetical order):\r\n            const newOpt = _SkScreen__WEBPACK_IMPORTED_MODULE_1__.JsUtils.mkEl(\"option\", [], { value: groupName });\r\n            for (const otherOpt of dataListArr) {\r\n                if (newOpt.value.localeCompare(otherOpt.value) < 0) {\r\n                    dataList.insertBefore(newOpt, otherOpt);\r\n                    break;\r\n                }\r\n            }\r\n            if (!newOpt.parentElement) {\r\n                dataList.appendChild(newOpt);\r\n            }\r\n            return newOpt;\r\n        };\r\n        const dataList = this.groupNameDataList;\r\n        const dataListArr = Array.from(dataList.children);\r\n        Object.entries(response).forEach(([groupName, status]) => {\r\n            const optElem = dataListArr.find((opt) => opt.value === groupName)\r\n                || makeOption(groupName);\r\n            switch (status) {\r\n                case defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_0__.Group.Exist.Status.IN_LOBBY:\r\n                    optElem.textContent = \"In Lobby\";\r\n                    break;\r\n                case defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_0__.Group.Exist.Status.IN_GAME:\r\n                    optElem.textContent = \"In Game\";\r\n                    break;\r\n                case defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_0__.Group.Exist.Status.DELETE:\r\n                    optElem.remove();\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     */\r\n    _initializeGroupNameHandlers(huiSubmit) {\r\n        const input = this.in.groupName;\r\n        const submitInput = () => {\r\n            if (!input.value || !input.validity.valid)\r\n                return;\r\n            if (this.state === State.IN_GROUP) {\r\n                this.nav.next.focus();\r\n            }\r\n            else {\r\n                this.in.passphrase.focus();\r\n            }\r\n        };\r\n        this.in.groupName.oninput = (ev) => (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__awaiter)(this, void 0, void 0, function* () {\r\n            if (this.state === State.IN_GROUP) {\r\n                yield huiSubmit();\r\n                // ^This will take us back to the state `CHOOSING_GROUP`.\r\n            }\r\n            this.in.passphrase.value = \"\";\r\n            (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldSet)(this, _clientIsGroupHost, false); // <-- Not necessary. Just feels nice to do.\r\n        });\r\n        input.onkeydown = (ev) => {\r\n            if (ev.key === \"Enter\") {\r\n                submitInput();\r\n            }\r\n        };\r\n        input.onchange = (ev) => {\r\n            submitInput();\r\n        };\r\n    }\r\n    /**\r\n     */\r\n    _initializePassphraseHandlers() {\r\n        const submitInput = () => (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__awaiter)(this, void 0, void 0, function* () {\r\n            if (!this.in.passphrase.validity.valid)\r\n                return;\r\n            // Short-circuit when no change has occurred:\r\n            if (this.groupSocket !== undefined\r\n                && this.groupSocket.nsp === defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_0__.SkServer.Nsps.GROUP_LOBBY_PREFIX + this.in.groupName.value) {\r\n                if (this.groupSocket.connected) {\r\n                    this._setFormState(State.IN_GROUP);\r\n                    this.nav.next.focus(); // No changes have occurred.\r\n                    return;\r\n                }\r\n                else {\r\n                    return; // Impatient client is spamming.\r\n                }\r\n            }\r\n            const groupExists = Array.from(this.groupNameDataList.children)\r\n                .some((opt) => opt.value === this.in.groupName.value);\r\n            if (groupExists) {\r\n                (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldSet)(this, _clientIsGroupHost, false);\r\n                this._attemptToJoinExistingGroup();\r\n            }\r\n            else {\r\n                (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldSet)(this, _clientIsGroupHost, true);\r\n                this.joinerSocket.emit(defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_0__.Group.Exist.EVENT_NAME, new defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_0__.Group.Exist.RequestCreate(this.in.groupName.value, this.in.passphrase.value));\r\n            }\r\n        });\r\n        this.in.passphrase.onkeydown = (ev) => {\r\n            if (ev.key === \"Enter\") {\r\n                submitInput();\r\n            }\r\n        };\r\n    }\r\n    /**\r\n     */\r\n    _attemptToJoinExistingGroup() {\r\n        var _a;\r\n        (_a = this.groupSocket) === null || _a === void 0 ? void 0 : _a.close();\r\n        const top = this.top;\r\n        const userInfo = _SkScreen__WEBPACK_IMPORTED_MODULE_1__.StorageHooks.getLastUserInfo();\r\n        const sock = this.top.sockets.groupSocketConnect(this.in.groupName.value, {\r\n            passphrase: this.in.passphrase.value,\r\n            userInfo,\r\n        });\r\n        sock\r\n            .on(\"connect\", () => {\r\n            this._setFormState(State.IN_GROUP);\r\n        })\r\n            .on(\"connect_error\", (error) => {\r\n            top.toast(\"Unable to connect to the specified group.\");\r\n        })\r\n            .on(\"disconnect\", (reason) => {\r\n            if (reason === \"io server disconnect\") {\r\n                top.toast(\"The server disconnected you from your group.\");\r\n                this.requestGoToScreen(_SkScreen__WEBPACK_IMPORTED_MODULE_1__.SkScreen.Id.GROUP_JOINER, {});\r\n            }\r\n        });\r\n    }\r\n    get joinerSocket() {\r\n        return this.top.sockets.joinerSocket;\r\n    }\r\n    get groupSocket() {\r\n        return this.top.sockets.groupSocket;\r\n    }\r\n    /**\r\n     * A helper for `_lazyLoad`. Does not hook up event processors.\r\n     */\r\n    _initializeFormContents() {\r\n        // @ts-expect-error : RO=\r\n        this.in = {};\r\n        const OMHC = _SkScreen__WEBPACK_IMPORTED_MODULE_1__.OmHooks.Screen.Impl.GroupJoiner.Class;\r\n        const contentWrapper = _SkScreen__WEBPACK_IMPORTED_MODULE_1__.JsUtils.mkEl(\"div\" /*\"form\"*/, [\r\n            _SkScreen__WEBPACK_IMPORTED_MODULE_1__.OmHooks.General.Class.INPUT_GROUP,\r\n            OMHC.CONTENT_WRAPPER,\r\n        ], {\r\n        // contentWrapper.method = \"POST\"; // Not actually used, since the default onsubmit behaviour is prevented.\r\n        });\r\n        this.nav.prev.classList.add(_SkScreen__WEBPACK_IMPORTED_MODULE_1__.OmHooks.General.Class.INPUT_GROUP_ITEM);\r\n        contentWrapper.appendChild(this.nav.prev);\r\n        function createGenericTextInput(labelText, classStr) {\r\n            const input = _SkScreen__WEBPACK_IMPORTED_MODULE_1__.JsUtils.mkEl(\"input\", [_SkScreen__WEBPACK_IMPORTED_MODULE_1__.OmHooks.General.Class.INPUT_GROUP_ITEM, classStr], {\r\n                type: \"text\",\r\n                autocomplete: \"off\",\r\n                spellcheck: false,\r\n            });\r\n            // Label:\r\n            const label = _SkScreen__WEBPACK_IMPORTED_MODULE_1__.JsUtils.mkEl(\"label\", [], { textContent: labelText });\r\n            label.appendChild(input);\r\n            contentWrapper.appendChild(label);\r\n            return input;\r\n        }\r\n        {\r\n            // @ts-expect-error : RO=\r\n            const hostUrl = this.in.hostUrl\r\n                = Object.assign(createGenericTextInput(\"Host URL\", OMHC.HOST_URL), {\r\n                    type: \"url\",\r\n                    maxLength: 128,\r\n                    autocomplete: \"on\",\r\n                    required: true,\r\n                });\r\n            const suggestedHostDesc = GroupJoinerScreen.SUGGEST_HOST(this.top.webpageHostType);\r\n            if (suggestedHostDesc) {\r\n                const suggestOpt = _SkScreen__WEBPACK_IMPORTED_MODULE_1__.JsUtils.mkEl(\"option\", [], {\r\n                    value: suggestedHostDesc.value,\r\n                    textContent: suggestedHostDesc.description,\r\n                });\r\n                document.getElementById(_SkScreen__WEBPACK_IMPORTED_MODULE_1__.OmHooks.GLOBAL_IDS.PUBLIC_GAME_HOST_URLS)\r\n                    .insertAdjacentElement(\"afterbegin\", suggestOpt);\r\n            }\r\n            hostUrl.setAttribute(\"list\", _SkScreen__WEBPACK_IMPORTED_MODULE_1__.OmHooks.GLOBAL_IDS.PUBLIC_GAME_HOST_URLS);\r\n        }\r\n        {\r\n            // @ts-expect-error : RO=\r\n            const nspsName = this.in.groupName\r\n                = Object.assign(createGenericTextInput(\"Group Name\", OMHC.GROUP_NAME), {\r\n                    pattern: defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_0__.Group.Name.REGEXP.source,\r\n                    minLength: 1,\r\n                    maxLength: defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_0__.Group.Name.MaxLength,\r\n                    autocomplete: \"on\",\r\n                    required: true,\r\n                });\r\n            const nspsList \r\n            // @ts-expect-error : RO=\r\n            = this.groupNameDataList\r\n                = _SkScreen__WEBPACK_IMPORTED_MODULE_1__.JsUtils.mkEl(\"datalist\", [], { id: _SkScreen__WEBPACK_IMPORTED_MODULE_1__.OmHooks.GLOBAL_IDS.CURRENT_HOST_GROUPS });\r\n            this.baseElem.appendChild(nspsList);\r\n            nspsName.setAttribute(\"list\", nspsList.id);\r\n        }\r\n        {\r\n            const pass \r\n            // @ts-expect-error : RO=\r\n            = this.in.passphrase\r\n                = createGenericTextInput(\"Group Passphrase\", OMHC.PASSPHRASE);\r\n            pass.pattern = defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_0__.Group.Passphrase.REGEXP.source;\r\n            pass.maxLength = defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_0__.Group.Passphrase.MaxLength;\r\n        }\r\n        {\r\n            this.nav.next.classList.add(_SkScreen__WEBPACK_IMPORTED_MODULE_1__.OmHooks.General.Class.INPUT_GROUP_ITEM);\r\n            contentWrapper.appendChild(this.nav.next);\r\n        }\r\n        _SkScreen__WEBPACK_IMPORTED_MODULE_1__.JsUtils.propNoWrite(this, [\"in\", \"groupNameDataList\"]);\r\n        Object.freeze(this.in);\r\n        return contentWrapper;\r\n    }\r\n}\r\n_state = new WeakMap(), _clientIsGroupHost = new WeakMap();\r\n(function (GroupJoinerScreen) {\r\n    let State;\r\n    (function (State) {\r\n        State[\"CHOOSING_HOST\"] = \"choosing-host\";\r\n        State[\"CHOOSING_GROUP\"] = \"choosing-group\";\r\n        State[\"IN_GROUP\"] = \"in-group\";\r\n    })(State = GroupJoinerScreen.State || (GroupJoinerScreen.State = {}));\r\n    ;\r\n    /**\r\n     *\r\n     */\r\n    function SUGGEST_HOST(webpageHostType) {\r\n        switch (webpageHostType) {\r\n            case \"github\":\r\n                // Use case: production. Load page resources from GitHub\r\n                // Pages to reduce load on the game server, which is on\r\n                // on the LAN. Only use the server for game management.\r\n                return undefined;\r\n            case \"filesystem\":\r\n                // Use case: development. Load page resources directly from\r\n                // the local filesystem. Server only used as a game manager.\r\n                // In this case, suggest connecting to `localhost`.\r\n                return {\r\n                    value: \"localhost:\" + defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_0__.SkServer.DEFAULT_PORT,\r\n                    description: \"dev shortcut :)\",\r\n                };\r\n            case \"sk-server\":\r\n                // Use case: production. Page resources are probably being\r\n                // served by the LAN server already. Suggest connecting\r\n                // Socket.IO to that same host. Just give origin (exclude\r\n                // the URI's path, since Socket.IO interprets the path as\r\n                // a namespace specifier).\r\n                return {\r\n                    value: window.location.origin,\r\n                    description: \"this page's server\",\r\n                };\r\n            default:\r\n                return undefined;\r\n        }\r\n    }\r\n    GroupJoinerScreen.SUGGEST_HOST = SUGGEST_HOST;\r\n})(GroupJoinerScreen || (GroupJoinerScreen = {}));\r\nconst State = GroupJoinerScreen.State;\r\nObject.freeze(GroupJoinerScreen);\r\nObject.freeze(GroupJoinerScreen.prototype);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L3NjcmVlbi9pbXBsL0dyb3VwSm9pbmVyLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc25ha2V5My8uL3NyYy9jbGllbnQvc2NyZWVuL2ltcGwvR3JvdXBKb2luZXIudHM/MTgyMSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX3N0YXRlLCBfY2xpZW50SXNHcm91cEhvc3Q7XHJcbmltcG9ydCB7IF9fYXdhaXRlciwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCwgX19jbGFzc1ByaXZhdGVGaWVsZFNldCB9IGZyb20gXCJ0c2xpYlwiO1xyXG5pbXBvcnQgeyBHcm91cCB9IGZyb20gXCJkZWZzL09ubGluZURlZnNcIjtcclxuaW1wb3J0IHsgU2tTZXJ2ZXIgfSBmcm9tIFwiZGVmcy9PbmxpbmVEZWZzXCI7XHJcbmltcG9ydCB7IEpzVXRpbHMsIE9tSG9va3MsIFNrU2NyZWVuLCBTdG9yYWdlSG9va3MgfSBmcm9tIFwiLi4vU2tTY3JlZW5cIjtcclxuLyoqXHJcbiAqIFRoaXMgc2NyZWVuIGlzIGxpa2UgYSBmb3JtIGZvciBqb2luaW5nIGEgc2Vzc2lvbiBvbiBhIHJlbW90ZSBob3N0LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEdyb3VwSm9pbmVyU2NyZWVuIGV4dGVuZHMgU2tTY3JlZW4ge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICBfc3RhdGUuc2V0KHRoaXMsIHZvaWQgMCk7XHJcbiAgICAgICAgX2NsaWVudElzR3JvdXBIb3N0LnNldCh0aGlzLCBmYWxzZSk7XHJcbiAgICB9XHJcbiAgICBnZXQgY2xpZW50SXNHcm91cEhvc3QoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX2NsaWVudElzR3JvdXBIb3N0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQG92ZXJyaWRlXHJcbiAgICAgKi9cclxuICAgIF9sYXp5TG9hZCgpIHtcclxuICAgICAgICB0aGlzLmJhc2VFbGVtLmNsYXNzTGlzdC5hZGQoT21Ib29rcy5HZW5lcmFsLkNsYXNzLkNFTlRFUl9DT05URU5UUywgT21Ib29rcy5TY3JlZW4uSW1wbC5Hcm91cEpvaW5lci5DbGFzcy5CQVNFKTtcclxuICAgICAgICBjb25zdCBjb250ZW50V3JhcHBlciA9IHRoaXMuX2luaXRpYWxpemVGb3JtQ29udGVudHMoKTtcclxuICAgICAgICBjb25zdCBodWlTdWJtaXQgPSB0aGlzLl9pbml0aWFsaXplSG9zdFVybEhhbmRsZXJzKCk7XHJcbiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZUdyb3VwTmFtZUhhbmRsZXJzKGh1aVN1Ym1pdCk7XHJcbiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZVBhc3NwaHJhc2VIYW5kbGVycygpO1xyXG4gICAgICAgIC8vIE5vdGU6IGV4dGVybmFsaXplZCBmcm9tIGBfaW5pdGlhbGl6ZUZvcm1Db250ZW50c2AgZm9yIHZpc2liaWxpdHkuXHJcbiAgICAgICAgdGhpcy5uYXYubmV4dC5vbmNsaWNrID0gKGV2KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIFVzaW5nIGEgcGxhaW4gYnV0dG9uIGluc3RlYWQgb2YgPGlucHV0IHR5cGU9XCJzdWJtaXRcIj4gaXNcclxuICAgICAgICAgICAgLy8gYmV0dGVyIGhlcmUgc2luY2Ugd2UgZG9uJ3Qgd2FudCBhbnkgbWFnaWNhbCBmb3JtIGJlaGF2aW91ci5cclxuICAgICAgICAgICAgY29udGVudFdyYXBwZXJTdWJtaXQoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IGNvbnRlbnRXcmFwcGVyU3VibWl0ID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBldi5wcmV2ZW50RGVmYXVsdCgpOyAvLyBEb24ndCBwZXJmb3JtIGFueSBmb3JtIGFjdGlvblxyXG4gICAgICAgICAgICAvLyBObyB2YWxpZGF0aW9uIG5lZWRlZC4gVGhlIG5leHQgYnV0dG9uIGlzIG9ubHkgZW5hYmxlZCBpZiBpbnB1dHMgYXJlIHZhbGlkLlxyXG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RHb1RvU2NyZWVuKFNrU2NyZWVuLklkLkdST1VQX0xPQkJZLCB7XHJcbiAgICAgICAgICAgICAgICBncm91cE5hbWU6IHRoaXMuaW4uZ3JvdXBOYW1lLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgZ3JvdXBQYXNzcGhyYXNlOiB0aGlzLmluLnBhc3NwaHJhc2UudmFsdWUsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5fc2V0Rm9ybVN0YXRlKFN0YXRlLkNIT09TSU5HX0hPU1QpO1xyXG4gICAgICAgIHRoaXMuYmFzZUVsZW0uYXBwZW5kQ2hpbGQoY29udGVudFdyYXBwZXIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAb3ZlcnJpZGVcclxuICAgICAqL1xyXG4gICAgZ2V0UmVjb21tZW5kZWRGb2N1c0VsZW0oKSB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLmdyb3VwU29ja2V0ICE9PSB1bmRlZmluZWQpID8gdGhpcy5pbi5ncm91cE5hbWUgOiB0aGlzLmluLmhvc3RVcmw7XHJcbiAgICB9XHJcbiAgICBnZXQgc3RhdGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX3N0YXRlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogX0RvZXMgbm90aGluZyBpZiB0aGUgYG5ld1N0YXRlYCBhcmd1bWVudCBpcyB0aGUgc2FtZSBhcyB0aGVcclxuICAgICAqIGN1cnJlbnQgc3RhdGUuXyBEb2Vzbid0IHRvdWNoIHNvY2tldHMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5ld1N0YXRlIC1cclxuICAgICAqL1xyXG4gICAgX3NldEZvcm1TdGF0ZShuZXdTdGF0ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSBuZXdTdGF0ZSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGlmIChuZXdTdGF0ZSA9PT0gU3RhdGUuSU5fR1JPVVApIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IFN0YXRlLkNIT09TSU5HX0dST1VQKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJuZXZlclwiKTsgLy8gSWxsZWdhbCBzdGF0ZSB0cmFuc2l0aW9uLlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuaW4ucGFzc3BocmFzZS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMubmF2Lm5leHQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5uYXYubmV4dC5mb2N1cygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5uYXYubmV4dC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChuZXdTdGF0ZSA9PT0gU3RhdGUuQ0hPT1NJTkdfSE9TVCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbi5ncm91cE5hbWUuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbi5ncm91cE5hbWUudmFsdWUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgLy8gRnVuIGZhY3Qgb24gYW4gYWx0ZXJuYXRpdmUgZm9yIGNsZWFyaW5nIGNoaWxkcmVuOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjI5NjY2MzcvMTExMDc1NDFcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3JvdXBOYW1lRGF0YUxpc3QuaW5uZXJUZXh0ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW4ucGFzc3BocmFzZS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluLnBhc3NwaHJhc2UudmFsdWUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbi5ob3N0VXJsLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAobmV3U3RhdGUgPT09IFN0YXRlLkNIT09TSU5HX0dST1VQKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluLmdyb3VwTmFtZS5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbi5wYXNzcGhyYXNlLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluLmdyb3VwTmFtZS5mb2N1cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX3N0YXRlLCBuZXdTdGF0ZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqL1xyXG4gICAgX2luaXRpYWxpemVIb3N0VXJsSGFuZGxlcnMoKSB7XHJcbiAgICAgICAgY29uc3QgdG9wID0gdGhpcy50b3A7XHJcbiAgICAgICAgY29uc3QgaW5wdXQgPSB0aGlzLmluLmhvc3RVcmw7XHJcbiAgICAgICAgY29uc3Qgc3VibWl0SW5wdXQgPSAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XHJcbiAgICAgICAgICAgIC8vIFNob3J0LWNpcmN1aXQgb24gaW52YWxpZCBpbnB1dDpcclxuICAgICAgICAgICAgaWYgKCFpbnB1dC52YWx1ZSB8fCAhaW5wdXQudmFsaWRpdHkudmFsaWQpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIC8vIE1pbm9yIGNsZWFuaW5nOiBkZWZhdWx0IHRoZSBwcm90b2NvbCBhbmQgb25seSB1c2UgdGhlIG9yaWdpbjpcclxuICAgICAgICAgICAgaWYgKCFpbnB1dC52YWx1ZS5zdGFydHNXaXRoKFNrU2VydmVyLlBST1RPQ09MKSkge1xyXG4gICAgICAgICAgICAgICAgaW5wdXQudmFsdWUgPSBuZXcgd2luZG93LlVSTChTa1NlcnZlci5QUk9UT0NPTCArIGlucHV0LnZhbHVlKS5vcmlnaW47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gU2hvcnQtY2lyY3VpdCB3aGVuIG5vIGNoYW5nZSBoYXMgb2NjdXJyZWQ6XHJcbiAgICAgICAgICAgIGNvbnN0IGdhbWVTZXJ2ZXJVcmwgPSBuZXcgd2luZG93LlVSTChpbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgICAgIGlmICgoKF9hID0gdGhpcy5ncm91cFNvY2tldCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlvLm9wdHMuaG9zdG5hbWUpID09PSBnYW1lU2VydmVyVXJsLmhvc3RuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ncm91cFNvY2tldC5jb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXRGb3JtU3RhdGUoU3RhdGUuQ0hPT1NJTkdfR1JPVVApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW4uZ3JvdXBOYW1lLmZvY3VzKCk7IC8vIE5vIGNoYW5nZXMgaGF2ZSBvY2N1cnJlZC5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEltcGF0aWVudCBjbGllbnQgaXMgc3BhbW1pbmcuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKF9iID0gdGhpcy5qb2luZXJTb2NrZXQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jbG9zZSgpO1xyXG4gICAgICAgICAgICBjb25zdCBzb2NrID0geWllbGQgdGhpcy50b3Auc29ja2V0cy5qb2luZXJTb2NrZXRDb25uZWN0KHtcclxuICAgICAgICAgICAgICAgIHNlcnZlclVybDogZ2FtZVNlcnZlclVybCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNvY2tcclxuICAgICAgICAgICAgICAgIC5vbihcImNvbm5lY3RcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0Rm9ybVN0YXRlKFN0YXRlLkNIT09TSU5HX0dST1VQKTtcclxuICAgICAgICAgICAgICAgIC8vIExpc3RlbiBmb3IgZ3JvdXAgY3JlYXRpb24gLyBkZWxldGlvbiBldmVudHMuXHJcbiAgICAgICAgICAgICAgICBzb2NrLm9uKEdyb3VwLkV4aXN0LkVWRU5UX05BTUUsIHRoaXMuX29uTm90aWZ5R3JvdXBFeGlzdC5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5vbihcImNvbm5lY3RfZXJyb3JcIiwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvcC50b2FzdChcIlVuYWJsZSB0byBjb25uZWN0ZWQgdG8gdGhlIHNwZWNpZmllZCBzZXJ2ZXIuXCIpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLm9uKFwiZGlzY29ubmVjdFwiLCAocmVhc29uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVhc29uID09PSBcImlvIHNlcnZlciBkaXNjb25uZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXRGb3JtU3RhdGUoU3RhdGUuQ0hPT1NJTkdfSE9TVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQudmFsdWUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvcC50b2FzdChcIlRoZSBzZXJ2ZXIgZGlzY29ubmVjdGVkIHlvdSBmcm9tIHRoZSBncm91cCBqb2luZXIuXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBMaW5rIGhhbmRsZXIgdG8gZXZlbnRzOlxyXG4gICAgICAgIGlucHV0Lm9uaW5wdXQgPSAoZXYpID0+IHRoaXMuX3NldEZvcm1TdGF0ZShTdGF0ZS5DSE9PU0lOR19IT1NUKTtcclxuICAgICAgICBpbnB1dC5vbmtleWRvd24gPSAoZXYpID0+IHtcclxuICAgICAgICAgICAgaWYgKGV2LmtleSA9PT0gXCJFbnRlclwiKSB7XHJcbiAgICAgICAgICAgICAgICBzdWJtaXRJbnB1dCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpbnB1dC5vbnBhc3RlID0gKGV2KSA9PiB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHN1Ym1pdElucHV0KCksIDApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHN1Ym1pdElucHV0KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gc3VibWl0SW5wdXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqL1xyXG4gICAgX29uTm90aWZ5R3JvdXBFeGlzdChyZXNwb25zZSkge1xyXG4gICAgICAgIGlmIChyZXNwb25zZSA9PT0gR3JvdXAuRXhpc3QuUmVxdWVzdENyZWF0ZS5SZXNwb25zZS5OT1BFKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG9wLnRvYXN0KGBUaGUgc2VydmVyIHJlamVjdGVkIHlvdXIgcmVxdWVzdCB0b2BcclxuICAgICAgICAgICAgICAgICsgYCBjcmVhdGUgYSBuZXcgZ3JvdXAgXFxcIiR7dGhpcy5pbi5ncm91cE5hbWUudmFsdWV9XFxcIi5gKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVzcG9uc2UgPT09IEdyb3VwLkV4aXN0LlJlcXVlc3RDcmVhdGUuUmVzcG9uc2UuT0tBWSkge1xyXG4gICAgICAgICAgICB0aGlzLnRvcC50b2FzdChgc2VydmVyIGFjY2VwdGVkIHJlcXVlc3QgdG8gY3JlYXRlIG5ldyBncm91cCBcXFwiJHt0aGlzLmluLmdyb3VwTmFtZS52YWx1ZX1cXFwiLmApO1xyXG4gICAgICAgICAgICB0aGlzLnRvcC50b2FzdChcImNvbm5lY3RpbmcgdG8gbmV3IGdyb3VwLi4uXCIpO1xyXG4gICAgICAgICAgICB0aGlzLl9hdHRlbXB0VG9Kb2luRXhpc3RpbmdHcm91cCgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG1ha2VPcHRpb24gPSAoZ3JvdXBOYW1lKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIElmIHdlIGRpZG4ndCBrbm93IGFib3V0IHRoaXMgZ3JvdXAgeWV0LCBjcmVhdGUgYSBuZXdcclxuICAgICAgICAgICAgLy8gb3B0aW9uIGZvciBpdCAoSW5zZXJ0IGludG8gbGlzdCBpbiBhbHBoYWJldGljYWwgb3JkZXIpOlxyXG4gICAgICAgICAgICBjb25zdCBuZXdPcHQgPSBKc1V0aWxzLm1rRWwoXCJvcHRpb25cIiwgW10sIHsgdmFsdWU6IGdyb3VwTmFtZSB9KTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBvdGhlck9wdCBvZiBkYXRhTGlzdEFycikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5ld09wdC52YWx1ZS5sb2NhbGVDb21wYXJlKG90aGVyT3B0LnZhbHVlKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhTGlzdC5pbnNlcnRCZWZvcmUobmV3T3B0LCBvdGhlck9wdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFuZXdPcHQucGFyZW50RWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgZGF0YUxpc3QuYXBwZW5kQ2hpbGQobmV3T3B0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbmV3T3B0O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgZGF0YUxpc3QgPSB0aGlzLmdyb3VwTmFtZURhdGFMaXN0O1xyXG4gICAgICAgIGNvbnN0IGRhdGFMaXN0QXJyID0gQXJyYXkuZnJvbShkYXRhTGlzdC5jaGlsZHJlbik7XHJcbiAgICAgICAgT2JqZWN0LmVudHJpZXMocmVzcG9uc2UpLmZvckVhY2goKFtncm91cE5hbWUsIHN0YXR1c10pID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3B0RWxlbSA9IGRhdGFMaXN0QXJyLmZpbmQoKG9wdCkgPT4gb3B0LnZhbHVlID09PSBncm91cE5hbWUpXHJcbiAgICAgICAgICAgICAgICB8fCBtYWtlT3B0aW9uKGdyb3VwTmFtZSk7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoc3RhdHVzKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEdyb3VwLkV4aXN0LlN0YXR1cy5JTl9MT0JCWTpcclxuICAgICAgICAgICAgICAgICAgICBvcHRFbGVtLnRleHRDb250ZW50ID0gXCJJbiBMb2JieVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBHcm91cC5FeGlzdC5TdGF0dXMuSU5fR0FNRTpcclxuICAgICAgICAgICAgICAgICAgICBvcHRFbGVtLnRleHRDb250ZW50ID0gXCJJbiBHYW1lXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEdyb3VwLkV4aXN0LlN0YXR1cy5ERUxFVEU6XHJcbiAgICAgICAgICAgICAgICAgICAgb3B0RWxlbS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKi9cclxuICAgIF9pbml0aWFsaXplR3JvdXBOYW1lSGFuZGxlcnMoaHVpU3VibWl0KSB7XHJcbiAgICAgICAgY29uc3QgaW5wdXQgPSB0aGlzLmluLmdyb3VwTmFtZTtcclxuICAgICAgICBjb25zdCBzdWJtaXRJbnB1dCA9ICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFpbnB1dC52YWx1ZSB8fCAhaW5wdXQudmFsaWRpdHkudmFsaWQpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlID09PSBTdGF0ZS5JTl9HUk9VUCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5uYXYubmV4dC5mb2N1cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbi5wYXNzcGhyYXNlLmZvY3VzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuaW4uZ3JvdXBOYW1lLm9uaW5wdXQgPSAoZXYpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IFN0YXRlLklOX0dST1VQKSB7XHJcbiAgICAgICAgICAgICAgICB5aWVsZCBodWlTdWJtaXQoKTtcclxuICAgICAgICAgICAgICAgIC8vIF5UaGlzIHdpbGwgdGFrZSB1cyBiYWNrIHRvIHRoZSBzdGF0ZSBgQ0hPT1NJTkdfR1JPVVBgLlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuaW4ucGFzc3BocmFzZS52YWx1ZSA9IFwiXCI7XHJcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX2NsaWVudElzR3JvdXBIb3N0LCBmYWxzZSk7IC8vIDwtLSBOb3QgbmVjZXNzYXJ5LiBKdXN0IGZlZWxzIG5pY2UgdG8gZG8uXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaW5wdXQub25rZXlkb3duID0gKGV2KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldi5rZXkgPT09IFwiRW50ZXJcIikge1xyXG4gICAgICAgICAgICAgICAgc3VibWl0SW5wdXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaW5wdXQub25jaGFuZ2UgPSAoZXYpID0+IHtcclxuICAgICAgICAgICAgc3VibWl0SW5wdXQoKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKi9cclxuICAgIF9pbml0aWFsaXplUGFzc3BocmFzZUhhbmRsZXJzKCkge1xyXG4gICAgICAgIGNvbnN0IHN1Ym1pdElucHV0ID0gKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaW4ucGFzc3BocmFzZS52YWxpZGl0eS52YWxpZClcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgLy8gU2hvcnQtY2lyY3VpdCB3aGVuIG5vIGNoYW5nZSBoYXMgb2NjdXJyZWQ6XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdyb3VwU29ja2V0ICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICYmIHRoaXMuZ3JvdXBTb2NrZXQubnNwID09PSBTa1NlcnZlci5Oc3BzLkdST1VQX0xPQkJZX1BSRUZJWCArIHRoaXMuaW4uZ3JvdXBOYW1lLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ncm91cFNvY2tldC5jb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXRGb3JtU3RhdGUoU3RhdGUuSU5fR1JPVVApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmF2Lm5leHQuZm9jdXMoKTsgLy8gTm8gY2hhbmdlcyBoYXZlIG9jY3VycmVkLlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gSW1wYXRpZW50IGNsaWVudCBpcyBzcGFtbWluZy5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBncm91cEV4aXN0cyA9IEFycmF5LmZyb20odGhpcy5ncm91cE5hbWVEYXRhTGlzdC5jaGlsZHJlbilcclxuICAgICAgICAgICAgICAgIC5zb21lKChvcHQpID0+IG9wdC52YWx1ZSA9PT0gdGhpcy5pbi5ncm91cE5hbWUudmFsdWUpO1xyXG4gICAgICAgICAgICBpZiAoZ3JvdXBFeGlzdHMpIHtcclxuICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX2NsaWVudElzR3JvdXBIb3N0LCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9hdHRlbXB0VG9Kb2luRXhpc3RpbmdHcm91cCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfY2xpZW50SXNHcm91cEhvc3QsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5qb2luZXJTb2NrZXQuZW1pdChHcm91cC5FeGlzdC5FVkVOVF9OQU1FLCBuZXcgR3JvdXAuRXhpc3QuUmVxdWVzdENyZWF0ZSh0aGlzLmluLmdyb3VwTmFtZS52YWx1ZSwgdGhpcy5pbi5wYXNzcGhyYXNlLnZhbHVlKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmluLnBhc3NwaHJhc2Uub25rZXlkb3duID0gKGV2KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldi5rZXkgPT09IFwiRW50ZXJcIikge1xyXG4gICAgICAgICAgICAgICAgc3VibWl0SW5wdXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqL1xyXG4gICAgX2F0dGVtcHRUb0pvaW5FeGlzdGluZ0dyb3VwKCkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICAoX2EgPSB0aGlzLmdyb3VwU29ja2V0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2xvc2UoKTtcclxuICAgICAgICBjb25zdCB0b3AgPSB0aGlzLnRvcDtcclxuICAgICAgICBjb25zdCB1c2VySW5mbyA9IFN0b3JhZ2VIb29rcy5nZXRMYXN0VXNlckluZm8oKTtcclxuICAgICAgICBjb25zdCBzb2NrID0gdGhpcy50b3Auc29ja2V0cy5ncm91cFNvY2tldENvbm5lY3QodGhpcy5pbi5ncm91cE5hbWUudmFsdWUsIHtcclxuICAgICAgICAgICAgcGFzc3BocmFzZTogdGhpcy5pbi5wYXNzcGhyYXNlLnZhbHVlLFxyXG4gICAgICAgICAgICB1c2VySW5mbyxcclxuICAgICAgICB9KTtcclxuICAgICAgICBzb2NrXHJcbiAgICAgICAgICAgIC5vbihcImNvbm5lY3RcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9zZXRGb3JtU3RhdGUoU3RhdGUuSU5fR1JPVVApO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbihcImNvbm5lY3RfZXJyb3JcIiwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgIHRvcC50b2FzdChcIlVuYWJsZSB0byBjb25uZWN0IHRvIHRoZSBzcGVjaWZpZWQgZ3JvdXAuXCIpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbihcImRpc2Nvbm5lY3RcIiwgKHJlYXNvbikgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVhc29uID09PSBcImlvIHNlcnZlciBkaXNjb25uZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgIHRvcC50b2FzdChcIlRoZSBzZXJ2ZXIgZGlzY29ubmVjdGVkIHlvdSBmcm9tIHlvdXIgZ3JvdXAuXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0R29Ub1NjcmVlbihTa1NjcmVlbi5JZC5HUk9VUF9KT0lORVIsIHt9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZ2V0IGpvaW5lclNvY2tldCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50b3Auc29ja2V0cy5qb2luZXJTb2NrZXQ7XHJcbiAgICB9XHJcbiAgICBnZXQgZ3JvdXBTb2NrZXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudG9wLnNvY2tldHMuZ3JvdXBTb2NrZXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEEgaGVscGVyIGZvciBgX2xhenlMb2FkYC4gRG9lcyBub3QgaG9vayB1cCBldmVudCBwcm9jZXNzb3JzLlxyXG4gICAgICovXHJcbiAgICBfaW5pdGlhbGl6ZUZvcm1Db250ZW50cygpIHtcclxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIDogUk89XHJcbiAgICAgICAgdGhpcy5pbiA9IHt9O1xyXG4gICAgICAgIGNvbnN0IE9NSEMgPSBPbUhvb2tzLlNjcmVlbi5JbXBsLkdyb3VwSm9pbmVyLkNsYXNzO1xyXG4gICAgICAgIGNvbnN0IGNvbnRlbnRXcmFwcGVyID0gSnNVdGlscy5ta0VsKFwiZGl2XCIgLypcImZvcm1cIiovLCBbXHJcbiAgICAgICAgICAgIE9tSG9va3MuR2VuZXJhbC5DbGFzcy5JTlBVVF9HUk9VUCxcclxuICAgICAgICAgICAgT01IQy5DT05URU5UX1dSQVBQRVIsXHJcbiAgICAgICAgXSwge1xyXG4gICAgICAgIC8vIGNvbnRlbnRXcmFwcGVyLm1ldGhvZCA9IFwiUE9TVFwiOyAvLyBOb3QgYWN0dWFsbHkgdXNlZCwgc2luY2UgdGhlIGRlZmF1bHQgb25zdWJtaXQgYmVoYXZpb3VyIGlzIHByZXZlbnRlZC5cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm5hdi5wcmV2LmNsYXNzTGlzdC5hZGQoT21Ib29rcy5HZW5lcmFsLkNsYXNzLklOUFVUX0dST1VQX0lURU0pO1xyXG4gICAgICAgIGNvbnRlbnRXcmFwcGVyLmFwcGVuZENoaWxkKHRoaXMubmF2LnByZXYpO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUdlbmVyaWNUZXh0SW5wdXQobGFiZWxUZXh0LCBjbGFzc1N0cikge1xyXG4gICAgICAgICAgICBjb25zdCBpbnB1dCA9IEpzVXRpbHMubWtFbChcImlucHV0XCIsIFtPbUhvb2tzLkdlbmVyYWwuQ2xhc3MuSU5QVVRfR1JPVVBfSVRFTSwgY2xhc3NTdHJdLCB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcclxuICAgICAgICAgICAgICAgIGF1dG9jb21wbGV0ZTogXCJvZmZcIixcclxuICAgICAgICAgICAgICAgIHNwZWxsY2hlY2s6IGZhbHNlLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gTGFiZWw6XHJcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gSnNVdGlscy5ta0VsKFwibGFiZWxcIiwgW10sIHsgdGV4dENvbnRlbnQ6IGxhYmVsVGV4dCB9KTtcclxuICAgICAgICAgICAgbGFiZWwuYXBwZW5kQ2hpbGQoaW5wdXQpO1xyXG4gICAgICAgICAgICBjb250ZW50V3JhcHBlci5hcHBlbmRDaGlsZChsYWJlbCk7XHJcbiAgICAgICAgICAgIHJldHVybiBpbnB1dDtcclxuICAgICAgICB9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIDogUk89XHJcbiAgICAgICAgICAgIGNvbnN0IGhvc3RVcmwgPSB0aGlzLmluLmhvc3RVcmxcclxuICAgICAgICAgICAgICAgID0gT2JqZWN0LmFzc2lnbihjcmVhdGVHZW5lcmljVGV4dElucHV0KFwiSG9zdCBVUkxcIiwgT01IQy5IT1NUX1VSTCksIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInVybFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIG1heExlbmd0aDogMTI4LFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9jb21wbGV0ZTogXCJvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHN1Z2dlc3RlZEhvc3REZXNjID0gR3JvdXBKb2luZXJTY3JlZW4uU1VHR0VTVF9IT1NUKHRoaXMudG9wLndlYnBhZ2VIb3N0VHlwZSk7XHJcbiAgICAgICAgICAgIGlmIChzdWdnZXN0ZWRIb3N0RGVzYykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3VnZ2VzdE9wdCA9IEpzVXRpbHMubWtFbChcIm9wdGlvblwiLCBbXSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzdWdnZXN0ZWRIb3N0RGVzYy52YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0Q29udGVudDogc3VnZ2VzdGVkSG9zdERlc2MuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKE9tSG9va3MuR0xPQkFMX0lEUy5QVUJMSUNfR0FNRV9IT1NUX1VSTFMpXHJcbiAgICAgICAgICAgICAgICAgICAgLmluc2VydEFkamFjZW50RWxlbWVudChcImFmdGVyYmVnaW5cIiwgc3VnZ2VzdE9wdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaG9zdFVybC5zZXRBdHRyaWJ1dGUoXCJsaXN0XCIsIE9tSG9va3MuR0xPQkFMX0lEUy5QVUJMSUNfR0FNRV9IT1NUX1VSTFMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgOiBSTz1cclxuICAgICAgICAgICAgY29uc3QgbnNwc05hbWUgPSB0aGlzLmluLmdyb3VwTmFtZVxyXG4gICAgICAgICAgICAgICAgPSBPYmplY3QuYXNzaWduKGNyZWF0ZUdlbmVyaWNUZXh0SW5wdXQoXCJHcm91cCBOYW1lXCIsIE9NSEMuR1JPVVBfTkFNRSksIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuOiBHcm91cC5OYW1lLlJFR0VYUC5zb3VyY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgbWluTGVuZ3RoOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIG1heExlbmd0aDogR3JvdXAuTmFtZS5NYXhMZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b2NvbXBsZXRlOiBcIm9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc3QgbnNwc0xpc3QgXHJcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgOiBSTz1cclxuICAgICAgICAgICAgPSB0aGlzLmdyb3VwTmFtZURhdGFMaXN0XHJcbiAgICAgICAgICAgICAgICA9IEpzVXRpbHMubWtFbChcImRhdGFsaXN0XCIsIFtdLCB7IGlkOiBPbUhvb2tzLkdMT0JBTF9JRFMuQ1VSUkVOVF9IT1NUX0dST1VQUyB9KTtcclxuICAgICAgICAgICAgdGhpcy5iYXNlRWxlbS5hcHBlbmRDaGlsZChuc3BzTGlzdCk7XHJcbiAgICAgICAgICAgIG5zcHNOYW1lLnNldEF0dHJpYnV0ZShcImxpc3RcIiwgbnNwc0xpc3QuaWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhc3MgXHJcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgOiBSTz1cclxuICAgICAgICAgICAgPSB0aGlzLmluLnBhc3NwaHJhc2VcclxuICAgICAgICAgICAgICAgID0gY3JlYXRlR2VuZXJpY1RleHRJbnB1dChcIkdyb3VwIFBhc3NwaHJhc2VcIiwgT01IQy5QQVNTUEhSQVNFKTtcclxuICAgICAgICAgICAgcGFzcy5wYXR0ZXJuID0gR3JvdXAuUGFzc3BocmFzZS5SRUdFWFAuc291cmNlO1xyXG4gICAgICAgICAgICBwYXNzLm1heExlbmd0aCA9IEdyb3VwLlBhc3NwaHJhc2UuTWF4TGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMubmF2Lm5leHQuY2xhc3NMaXN0LmFkZChPbUhvb2tzLkdlbmVyYWwuQ2xhc3MuSU5QVVRfR1JPVVBfSVRFTSk7XHJcbiAgICAgICAgICAgIGNvbnRlbnRXcmFwcGVyLmFwcGVuZENoaWxkKHRoaXMubmF2Lm5leHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBKc1V0aWxzLnByb3BOb1dyaXRlKHRoaXMsIFtcImluXCIsIFwiZ3JvdXBOYW1lRGF0YUxpc3RcIl0pO1xyXG4gICAgICAgIE9iamVjdC5mcmVlemUodGhpcy5pbik7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRlbnRXcmFwcGVyO1xyXG4gICAgfVxyXG59XHJcbl9zdGF0ZSA9IG5ldyBXZWFrTWFwKCksIF9jbGllbnRJc0dyb3VwSG9zdCA9IG5ldyBXZWFrTWFwKCk7XHJcbihmdW5jdGlvbiAoR3JvdXBKb2luZXJTY3JlZW4pIHtcclxuICAgIGxldCBTdGF0ZTtcclxuICAgIChmdW5jdGlvbiAoU3RhdGUpIHtcclxuICAgICAgICBTdGF0ZVtcIkNIT09TSU5HX0hPU1RcIl0gPSBcImNob29zaW5nLWhvc3RcIjtcclxuICAgICAgICBTdGF0ZVtcIkNIT09TSU5HX0dST1VQXCJdID0gXCJjaG9vc2luZy1ncm91cFwiO1xyXG4gICAgICAgIFN0YXRlW1wiSU5fR1JPVVBcIl0gPSBcImluLWdyb3VwXCI7XHJcbiAgICB9KShTdGF0ZSA9IEdyb3VwSm9pbmVyU2NyZWVuLlN0YXRlIHx8IChHcm91cEpvaW5lclNjcmVlbi5TdGF0ZSA9IHt9KSk7XHJcbiAgICA7XHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIFNVR0dFU1RfSE9TVCh3ZWJwYWdlSG9zdFR5cGUpIHtcclxuICAgICAgICBzd2l0Y2ggKHdlYnBhZ2VIb3N0VHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiZ2l0aHViXCI6XHJcbiAgICAgICAgICAgICAgICAvLyBVc2UgY2FzZTogcHJvZHVjdGlvbi4gTG9hZCBwYWdlIHJlc291cmNlcyBmcm9tIEdpdEh1YlxyXG4gICAgICAgICAgICAgICAgLy8gUGFnZXMgdG8gcmVkdWNlIGxvYWQgb24gdGhlIGdhbWUgc2VydmVyLCB3aGljaCBpcyBvblxyXG4gICAgICAgICAgICAgICAgLy8gb24gdGhlIExBTi4gT25seSB1c2UgdGhlIHNlcnZlciBmb3IgZ2FtZSBtYW5hZ2VtZW50LlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgY2FzZSBcImZpbGVzeXN0ZW1cIjpcclxuICAgICAgICAgICAgICAgIC8vIFVzZSBjYXNlOiBkZXZlbG9wbWVudC4gTG9hZCBwYWdlIHJlc291cmNlcyBkaXJlY3RseSBmcm9tXHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgbG9jYWwgZmlsZXN5c3RlbS4gU2VydmVyIG9ubHkgdXNlZCBhcyBhIGdhbWUgbWFuYWdlci5cclxuICAgICAgICAgICAgICAgIC8vIEluIHRoaXMgY2FzZSwgc3VnZ2VzdCBjb25uZWN0aW5nIHRvIGBsb2NhbGhvc3RgLlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJsb2NhbGhvc3Q6XCIgKyBTa1NlcnZlci5ERUZBVUxUX1BPUlQsXHJcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiZGV2IHNob3J0Y3V0IDopXCIsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjYXNlIFwic2stc2VydmVyXCI6XHJcbiAgICAgICAgICAgICAgICAvLyBVc2UgY2FzZTogcHJvZHVjdGlvbi4gUGFnZSByZXNvdXJjZXMgYXJlIHByb2JhYmx5IGJlaW5nXHJcbiAgICAgICAgICAgICAgICAvLyBzZXJ2ZWQgYnkgdGhlIExBTiBzZXJ2ZXIgYWxyZWFkeS4gU3VnZ2VzdCBjb25uZWN0aW5nXHJcbiAgICAgICAgICAgICAgICAvLyBTb2NrZXQuSU8gdG8gdGhhdCBzYW1lIGhvc3QuIEp1c3QgZ2l2ZSBvcmlnaW4gKGV4Y2x1ZGVcclxuICAgICAgICAgICAgICAgIC8vIHRoZSBVUkkncyBwYXRoLCBzaW5jZSBTb2NrZXQuSU8gaW50ZXJwcmV0cyB0aGUgcGF0aCBhc1xyXG4gICAgICAgICAgICAgICAgLy8gYSBuYW1lc3BhY2Ugc3BlY2lmaWVyKS5cclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4sXHJcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwidGhpcyBwYWdlJ3Mgc2VydmVyXCIsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBHcm91cEpvaW5lclNjcmVlbi5TVUdHRVNUX0hPU1QgPSBTVUdHRVNUX0hPU1Q7XHJcbn0pKEdyb3VwSm9pbmVyU2NyZWVuIHx8IChHcm91cEpvaW5lclNjcmVlbiA9IHt9KSk7XHJcbmNvbnN0IFN0YXRlID0gR3JvdXBKb2luZXJTY3JlZW4uU3RhdGU7XHJcbk9iamVjdC5mcmVlemUoR3JvdXBKb2luZXJTY3JlZW4pO1xyXG5PYmplY3QuZnJlZXplKEdyb3VwSm9pbmVyU2NyZWVuLnByb3RvdHlwZSk7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/client/screen/impl/GroupJoiner.ts\n");

/***/ }),

/***/ "./src/client/screen/impl/GroupLobby.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GroupLobbyScreen\": () => /* binding */ GroupLobbyScreen\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var defs_TypeDefs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/base/defs/TypeDefs.ts\");\n/* harmony import */ var defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/base/defs/OnlineDefs.ts\");\n/* harmony import */ var _SkScreen__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/client/screen/SkScreen.ts\");\n\r\n\r\n\r\n\r\nconst OMHC = _SkScreen__WEBPACK_IMPORTED_MODULE_2__.OmHooks.Screen.Impl.GroupLobby.Class;\r\n/**\r\n *\r\n */\r\nclass GroupLobbyScreen extends _SkScreen__WEBPACK_IMPORTED_MODULE_2__.SkScreen {\r\n    get socket() {\r\n        return this.top.sockets.groupSocket;\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    _lazyLoad() {\r\n        // @ts-expect-error : RO=\r\n        this._players = new Map();\r\n        this._createInputs();\r\n        this.nav.prev.textContent = \"Return To Joiner\";\r\n        /* @ts-expect-error : RO= */\r\n        this.teamsElem = _SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.mkEl(\"div\", [OMHC.SEC_TEAMS]);\r\n        this.baseElem.appendChild(this.teamsElem);\r\n        // @ts-expect-error : RO=\r\n        this.teamElems = new Map();\r\n        _SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.propNoWrite(this, [\r\n            \"_players\", \"teamsElem\", \"teamElems\", \"in\",\r\n        ]);\r\n        {\r\n            const goSetup = this.nav.next;\r\n            goSetup.textContent = \"Setup Game\";\r\n            goSetup.onclick = () => {\r\n                this.requestGoToScreen(_SkScreen__WEBPACK_IMPORTED_MODULE_2__.SkScreen.Id.SETUP_ONLINE, {});\r\n            };\r\n            this.baseElem.appendChild(goSetup);\r\n        }\r\n    }\r\n    /**\r\n     */\r\n    _createInputs() {\r\n        var _a;\r\n        const base = _SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.mkEl(\"div\", [\r\n            _SkScreen__WEBPACK_IMPORTED_MODULE_2__.OmHooks.General.Class.INPUT_GROUP,\r\n            OMHC.SEC_CLIENT_INFO,\r\n        ]);\r\n        const uname = _SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.mkEl(\"input\", [_SkScreen__WEBPACK_IMPORTED_MODULE_2__.OmHooks.General.Class.INPUT_GROUP_ITEM], {\r\n            type: \"text\",\r\n            minLength: 1,\r\n            maxLength: defs_TypeDefs__WEBPACK_IMPORTED_MODULE_0__.Player.Username.MAX_LENGTH,\r\n            pattern: defs_TypeDefs__WEBPACK_IMPORTED_MODULE_0__.Player.Username.REGEXP.source,\r\n            spellcheck: false,\r\n            value: (_a = this.top.storage.Local.username) !== null && _a !== void 0 ? _a : \"\",\r\n            onchange: this._submitInputs.bind(this),\r\n        });\r\n        base.appendChild(uname);\r\n        const teamId = _SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.mkEl(\"input\", [_SkScreen__WEBPACK_IMPORTED_MODULE_2__.OmHooks.General.Class.INPUT_GROUP_ITEM], {\r\n            type: \"number\", inputMode: \"numeric\",\r\n            min: \"0\", max: \"0\", step: \"1\", value: \"0\",\r\n            onchange: this._submitInputs.bind(this),\r\n        });\r\n        teamId.classList.add();\r\n        base.appendChild(teamId);\r\n        const avatar = _SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.mkEl(\"select\", []);\r\n        // TODO.impl avatar selection element\r\n        // @ts-expect-error : RO=\r\n        this.in = Object.freeze({\r\n            username: uname,\r\n            teamId,\r\n            avatar,\r\n        });\r\n        this.baseElem.appendChild(base);\r\n    }\r\n    _submitInputs() {\r\n        if (!this.in.username.validity.valid || !this.in.teamId.validity.valid) {\r\n            return;\r\n        }\r\n        this.top.storage.Local.username = this.in.username.value;\r\n        this.top.storage.Local.avatar = this.in.avatar.value;\r\n        this.socket.emit(defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_1__.Group.Socket.UserInfoChange.EVENT_NAME, {\r\n            username: this.in.username.value,\r\n            teamId: parseInt(this.in.teamId.value),\r\n            avatar: defs_TypeDefs__WEBPACK_IMPORTED_MODULE_0__.Player.Avatar.LOREM_IPSUM,\r\n        });\r\n    }\r\n    ;\r\n    /**\r\n     * @override\r\n     */\r\n    _abstractOnBeforeEnter(navDir, args) {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__awaiter)(this, void 0, void 0, function* () {\r\n            if (navDir === \"forward\") {\r\n                this.nav.next.disabled = !this.top.clientIsGroupHost;\r\n                this._players.clear();\r\n                this.teamElems.clear();\r\n                this.teamsElem.textContent = \"\";\r\n                this._submitInputs();\r\n                this.socket.on(defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_1__.Group.Socket.UserInfoChange.EVENT_NAME, this._onUserInfoChange.bind(this));\r\n            }\r\n            // Listen for when the server sends the game constructor arguments:\r\n            this.socket.once(defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_1__.GroupEv.CREATE_GAME, () => {\r\n                console.log(\"group create game socket. now waiting for ctor args\");\r\n                const sock = this.top.sockets.gameSocketConnect(args.groupName, { passphrase: args.groupPassphrase });\r\n                sock.once(defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_1__.GameEv.CREATE_GAME, (gameCtorArgs) => {\r\n                    this.requestGoToScreen(_SkScreen__WEBPACK_IMPORTED_MODULE_2__.SkScreen.Id.PLAY_ONLINE, gameCtorArgs);\r\n                });\r\n            });\r\n        });\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    getRecommendedFocusElem() {\r\n        let elemToFocus = (!this.in.username.validity.valid) ? this.in.username\r\n            : (!this.in.teamId.validity.valid) ? this.in.teamId\r\n                : undefined;\r\n        if (elemToFocus === undefined) {\r\n            elemToFocus = (this.top.clientIsGroupHost) ? this.nav.next : this.in.teamId;\r\n        }\r\n        return elemToFocus;\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    _abstractOnBeforeLeave(navDir) {\r\n        // Make sure we stop listening for the game to start\r\n        // in case it hasn't started yet:\r\n        if (navDir === _SkScreen__WEBPACK_IMPORTED_MODULE_2__.SkScreen.NavDir.BACKWARD) {\r\n            this.socket.removeListener(defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_1__.GroupEv.CREATE_GAME);\r\n        }\r\n        return true;\r\n    }\r\n    /**\r\n     */\r\n    _onUserInfoChange(res) {\r\n        Object.entries(res).forEach(([socketId, desc]) => {\r\n            const userInfo = this._players.get(socketId);\r\n            // If player is in a team on their own and they are leaving it:\r\n            if (userInfo\r\n                && this.teamElems.get(userInfo.teamId).childElementCount === 1\r\n                && (desc === undefined || desc.teamId !== userInfo.teamId)) {\r\n                this.teamElems.get(userInfo.teamId).remove();\r\n                this.teamElems.delete(userInfo.teamId);\r\n            }\r\n            // If player is joining a team that has no HTML element yet:\r\n            if (desc && !this.teamElems.has(desc.teamId)) {\r\n                const teamElem = _SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.mkEl(\"div\", [OMHC.TEAM]);\r\n                this.teamElems.set(desc.teamId, teamElem);\r\n                teamElem.onclick = (ev) => {\r\n                    this.in.teamId.value = desc.teamId.toString();\r\n                };\r\n                this.teamsElem.appendChild(teamElem);\r\n            }\r\n            if (desc === undefined) {\r\n                // Player has left the group:\r\n                userInfo.base.remove();\r\n                this._players.delete(socketId);\r\n            }\r\n            else if (userInfo === undefined) {\r\n                // New player has joined the group:\r\n                const userInfo = new GroupLobbyScreen.UserInfo(desc);\r\n                this._players.set(socketId, userInfo);\r\n                this.teamElems.get(desc.teamId).appendChild(userInfo.base);\r\n            }\r\n            else {\r\n                // Player changed their user information:\r\n                userInfo.update(desc);\r\n            }\r\n        });\r\n        this.in.teamId.max = Object.keys(this._players).length.toString();\r\n    }\r\n}\r\n(function (GroupLobbyScreen) {\r\n    var _username, _teamId, _avatar;\r\n    /**\r\n     */\r\n    class UserInfo {\r\n        constructor(desc) {\r\n            _username.set(this, void 0);\r\n            _teamId.set(this, void 0);\r\n            _avatar.set(this, void 0);\r\n            this.base = _SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.mkEl(\"div\", [OMHC.PLAYER]);\r\n            const mkDiv = () => {\r\n                const div = _SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.mkEl(\"div\", []);\r\n                this.base.appendChild(div);\r\n                return div;\r\n            };\r\n            this.el = Object.freeze({\r\n                username: mkDiv(),\r\n                teamId: mkDiv(),\r\n                avatar: mkDiv(),\r\n            });\r\n            this.el.username.classList.add(OMHC.PLAYER_NAME);\r\n            this.username = desc.username;\r\n            this.teamId = desc.teamId;\r\n            _SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.propNoWrite(this, [\"base\", \"el\"]);\r\n        }\r\n        update(desc) {\r\n            this.username = desc.username;\r\n            this.teamId = desc.teamId;\r\n            this.avatar = desc.avatar;\r\n        }\r\n        ;\r\n        get username() {\r\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__classPrivateFieldGet)(this, _username);\r\n        }\r\n        set username(newUsername) {\r\n            this.el.username.textContent = newUsername;\r\n            (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__classPrivateFieldSet)(this, _username, newUsername);\r\n        }\r\n        get teamId() {\r\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__classPrivateFieldGet)(this, _teamId);\r\n        }\r\n        set teamId(newTeamId) {\r\n            this.el.teamId.textContent = newTeamId.toString();\r\n            (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__classPrivateFieldSet)(this, _teamId, newTeamId);\r\n        }\r\n        get avatar() {\r\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__classPrivateFieldGet)(this, _avatar);\r\n        }\r\n        set avatar(newAvatar) {\r\n            (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__classPrivateFieldSet)(this, _avatar, newAvatar);\r\n            this.el.avatar; // TODO.impl set the avatar image.\r\n        }\r\n    }\r\n    _username = new WeakMap(), _teamId = new WeakMap(), _avatar = new WeakMap();\r\n    GroupLobbyScreen.UserInfo = UserInfo;\r\n})(GroupLobbyScreen || (GroupLobbyScreen = {}));\r\n_SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.protoNoEnum(GroupLobbyScreen, [\"_createInputs\", \"_submitInputs\"]);\r\nObject.freeze(GroupLobbyScreen);\r\nObject.freeze(GroupLobbyScreen.prototype);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L3NjcmVlbi9pbXBsL0dyb3VwTG9iYnkudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbmFrZXkzLy4vc3JjL2NsaWVudC9zY3JlZW4vaW1wbC9Hcm91cExvYmJ5LnRzPzA5MzciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19hd2FpdGVyLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0LCBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0IH0gZnJvbSBcInRzbGliXCI7XHJcbmltcG9ydCB7IFBsYXllciB9IGZyb20gXCJkZWZzL1R5cGVEZWZzXCI7XHJcbmltcG9ydCB7IEdyb3VwLCBHcm91cEV2LCBHYW1lRXYgfSBmcm9tIFwiZGVmcy9PbmxpbmVEZWZzXCI7XHJcbmltcG9ydCB7IEpzVXRpbHMsIE9tSG9va3MsIFNrU2NyZWVuIH0gZnJvbSBcIi4uL1NrU2NyZWVuXCI7XHJcbmNvbnN0IE9NSEMgPSBPbUhvb2tzLlNjcmVlbi5JbXBsLkdyb3VwTG9iYnkuQ2xhc3M7XHJcbi8qKlxyXG4gKlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEdyb3VwTG9iYnlTY3JlZW4gZXh0ZW5kcyBTa1NjcmVlbiB7XHJcbiAgICBnZXQgc29ja2V0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRvcC5zb2NrZXRzLmdyb3VwU29ja2V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAb3ZlcnJpZGVcclxuICAgICAqL1xyXG4gICAgX2xhenlMb2FkKCkge1xyXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgOiBSTz1cclxuICAgICAgICB0aGlzLl9wbGF5ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuX2NyZWF0ZUlucHV0cygpO1xyXG4gICAgICAgIHRoaXMubmF2LnByZXYudGV4dENvbnRlbnQgPSBcIlJldHVybiBUbyBKb2luZXJcIjtcclxuICAgICAgICAvKiBAdHMtZXhwZWN0LWVycm9yIDogUk89ICovXHJcbiAgICAgICAgdGhpcy50ZWFtc0VsZW0gPSBKc1V0aWxzLm1rRWwoXCJkaXZcIiwgW09NSEMuU0VDX1RFQU1TXSk7XHJcbiAgICAgICAgdGhpcy5iYXNlRWxlbS5hcHBlbmRDaGlsZCh0aGlzLnRlYW1zRWxlbSk7XHJcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciA6IFJPPVxyXG4gICAgICAgIHRoaXMudGVhbUVsZW1zID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIEpzVXRpbHMucHJvcE5vV3JpdGUodGhpcywgW1xyXG4gICAgICAgICAgICBcIl9wbGF5ZXJzXCIsIFwidGVhbXNFbGVtXCIsIFwidGVhbUVsZW1zXCIsIFwiaW5cIixcclxuICAgICAgICBdKTtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IGdvU2V0dXAgPSB0aGlzLm5hdi5uZXh0O1xyXG4gICAgICAgICAgICBnb1NldHVwLnRleHRDb250ZW50ID0gXCJTZXR1cCBHYW1lXCI7XHJcbiAgICAgICAgICAgIGdvU2V0dXAub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdEdvVG9TY3JlZW4oU2tTY3JlZW4uSWQuU0VUVVBfT05MSU5FLCB7fSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuYmFzZUVsZW0uYXBwZW5kQ2hpbGQoZ29TZXR1cCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKi9cclxuICAgIF9jcmVhdGVJbnB1dHMoKSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIGNvbnN0IGJhc2UgPSBKc1V0aWxzLm1rRWwoXCJkaXZcIiwgW1xyXG4gICAgICAgICAgICBPbUhvb2tzLkdlbmVyYWwuQ2xhc3MuSU5QVVRfR1JPVVAsXHJcbiAgICAgICAgICAgIE9NSEMuU0VDX0NMSUVOVF9JTkZPLFxyXG4gICAgICAgIF0pO1xyXG4gICAgICAgIGNvbnN0IHVuYW1lID0gSnNVdGlscy5ta0VsKFwiaW5wdXRcIiwgW09tSG9va3MuR2VuZXJhbC5DbGFzcy5JTlBVVF9HUk9VUF9JVEVNXSwge1xyXG4gICAgICAgICAgICB0eXBlOiBcInRleHRcIixcclxuICAgICAgICAgICAgbWluTGVuZ3RoOiAxLFxyXG4gICAgICAgICAgICBtYXhMZW5ndGg6IFBsYXllci5Vc2VybmFtZS5NQVhfTEVOR1RILFxyXG4gICAgICAgICAgICBwYXR0ZXJuOiBQbGF5ZXIuVXNlcm5hbWUuUkVHRVhQLnNvdXJjZSxcclxuICAgICAgICAgICAgc3BlbGxjaGVjazogZmFsc2UsXHJcbiAgICAgICAgICAgIHZhbHVlOiAoX2EgPSB0aGlzLnRvcC5zdG9yYWdlLkxvY2FsLnVzZXJuYW1lKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBcIlwiLFxyXG4gICAgICAgICAgICBvbmNoYW5nZTogdGhpcy5fc3VibWl0SW5wdXRzLmJpbmQodGhpcyksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYmFzZS5hcHBlbmRDaGlsZCh1bmFtZSk7XHJcbiAgICAgICAgY29uc3QgdGVhbUlkID0gSnNVdGlscy5ta0VsKFwiaW5wdXRcIiwgW09tSG9va3MuR2VuZXJhbC5DbGFzcy5JTlBVVF9HUk9VUF9JVEVNXSwge1xyXG4gICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLCBpbnB1dE1vZGU6IFwibnVtZXJpY1wiLFxyXG4gICAgICAgICAgICBtaW46IFwiMFwiLCBtYXg6IFwiMFwiLCBzdGVwOiBcIjFcIiwgdmFsdWU6IFwiMFwiLFxyXG4gICAgICAgICAgICBvbmNoYW5nZTogdGhpcy5fc3VibWl0SW5wdXRzLmJpbmQodGhpcyksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGVhbUlkLmNsYXNzTGlzdC5hZGQoKTtcclxuICAgICAgICBiYXNlLmFwcGVuZENoaWxkKHRlYW1JZCk7XHJcbiAgICAgICAgY29uc3QgYXZhdGFyID0gSnNVdGlscy5ta0VsKFwic2VsZWN0XCIsIFtdKTtcclxuICAgICAgICAvLyBUT0RPLmltcGwgYXZhdGFyIHNlbGVjdGlvbiBlbGVtZW50XHJcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciA6IFJPPVxyXG4gICAgICAgIHRoaXMuaW4gPSBPYmplY3QuZnJlZXplKHtcclxuICAgICAgICAgICAgdXNlcm5hbWU6IHVuYW1lLFxyXG4gICAgICAgICAgICB0ZWFtSWQsXHJcbiAgICAgICAgICAgIGF2YXRhcixcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmJhc2VFbGVtLmFwcGVuZENoaWxkKGJhc2UpO1xyXG4gICAgfVxyXG4gICAgX3N1Ym1pdElucHV0cygpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaW4udXNlcm5hbWUudmFsaWRpdHkudmFsaWQgfHwgIXRoaXMuaW4udGVhbUlkLnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50b3Auc3RvcmFnZS5Mb2NhbC51c2VybmFtZSA9IHRoaXMuaW4udXNlcm5hbWUudmFsdWU7XHJcbiAgICAgICAgdGhpcy50b3Auc3RvcmFnZS5Mb2NhbC5hdmF0YXIgPSB0aGlzLmluLmF2YXRhci52YWx1ZTtcclxuICAgICAgICB0aGlzLnNvY2tldC5lbWl0KEdyb3VwLlNvY2tldC5Vc2VySW5mb0NoYW5nZS5FVkVOVF9OQU1FLCB7XHJcbiAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLmluLnVzZXJuYW1lLnZhbHVlLFxyXG4gICAgICAgICAgICB0ZWFtSWQ6IHBhcnNlSW50KHRoaXMuaW4udGVhbUlkLnZhbHVlKSxcclxuICAgICAgICAgICAgYXZhdGFyOiBQbGF5ZXIuQXZhdGFyLkxPUkVNX0lQU1VNLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAb3ZlcnJpZGVcclxuICAgICAqL1xyXG4gICAgX2Fic3RyYWN0T25CZWZvcmVFbnRlcihuYXZEaXIsIGFyZ3MpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBpZiAobmF2RGlyID09PSBcImZvcndhcmRcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5uYXYubmV4dC5kaXNhYmxlZCA9ICF0aGlzLnRvcC5jbGllbnRJc0dyb3VwSG9zdDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3BsYXllcnMuY2xlYXIoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGVhbUVsZW1zLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRlYW1zRWxlbS50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zdWJtaXRJbnB1dHMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc29ja2V0Lm9uKEdyb3VwLlNvY2tldC5Vc2VySW5mb0NoYW5nZS5FVkVOVF9OQU1FLCB0aGlzLl9vblVzZXJJbmZvQ2hhbmdlLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIExpc3RlbiBmb3Igd2hlbiB0aGUgc2VydmVyIHNlbmRzIHRoZSBnYW1lIGNvbnN0cnVjdG9yIGFyZ3VtZW50czpcclxuICAgICAgICAgICAgdGhpcy5zb2NrZXQub25jZShHcm91cEV2LkNSRUFURV9HQU1FLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImdyb3VwIGNyZWF0ZSBnYW1lIHNvY2tldC4gbm93IHdhaXRpbmcgZm9yIGN0b3IgYXJnc1wiKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNvY2sgPSB0aGlzLnRvcC5zb2NrZXRzLmdhbWVTb2NrZXRDb25uZWN0KGFyZ3MuZ3JvdXBOYW1lLCB7IHBhc3NwaHJhc2U6IGFyZ3MuZ3JvdXBQYXNzcGhyYXNlIH0pO1xyXG4gICAgICAgICAgICAgICAgc29jay5vbmNlKEdhbWVFdi5DUkVBVEVfR0FNRSwgKGdhbWVDdG9yQXJncykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdEdvVG9TY3JlZW4oU2tTY3JlZW4uSWQuUExBWV9PTkxJTkUsIGdhbWVDdG9yQXJncyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBvdmVycmlkZVxyXG4gICAgICovXHJcbiAgICBnZXRSZWNvbW1lbmRlZEZvY3VzRWxlbSgpIHtcclxuICAgICAgICBsZXQgZWxlbVRvRm9jdXMgPSAoIXRoaXMuaW4udXNlcm5hbWUudmFsaWRpdHkudmFsaWQpID8gdGhpcy5pbi51c2VybmFtZVxyXG4gICAgICAgICAgICA6ICghdGhpcy5pbi50ZWFtSWQudmFsaWRpdHkudmFsaWQpID8gdGhpcy5pbi50ZWFtSWRcclxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmIChlbGVtVG9Gb2N1cyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGVsZW1Ub0ZvY3VzID0gKHRoaXMudG9wLmNsaWVudElzR3JvdXBIb3N0KSA/IHRoaXMubmF2Lm5leHQgOiB0aGlzLmluLnRlYW1JZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGVsZW1Ub0ZvY3VzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAb3ZlcnJpZGVcclxuICAgICAqL1xyXG4gICAgX2Fic3RyYWN0T25CZWZvcmVMZWF2ZShuYXZEaXIpIHtcclxuICAgICAgICAvLyBNYWtlIHN1cmUgd2Ugc3RvcCBsaXN0ZW5pbmcgZm9yIHRoZSBnYW1lIHRvIHN0YXJ0XHJcbiAgICAgICAgLy8gaW4gY2FzZSBpdCBoYXNuJ3Qgc3RhcnRlZCB5ZXQ6XHJcbiAgICAgICAgaWYgKG5hdkRpciA9PT0gU2tTY3JlZW4uTmF2RGlyLkJBQ0tXQVJEKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc29ja2V0LnJlbW92ZUxpc3RlbmVyKEdyb3VwRXYuQ1JFQVRFX0dBTUUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICovXHJcbiAgICBfb25Vc2VySW5mb0NoYW5nZShyZXMpIHtcclxuICAgICAgICBPYmplY3QuZW50cmllcyhyZXMpLmZvckVhY2goKFtzb2NrZXRJZCwgZGVzY10pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdXNlckluZm8gPSB0aGlzLl9wbGF5ZXJzLmdldChzb2NrZXRJZCk7XHJcbiAgICAgICAgICAgIC8vIElmIHBsYXllciBpcyBpbiBhIHRlYW0gb24gdGhlaXIgb3duIGFuZCB0aGV5IGFyZSBsZWF2aW5nIGl0OlxyXG4gICAgICAgICAgICBpZiAodXNlckluZm9cclxuICAgICAgICAgICAgICAgICYmIHRoaXMudGVhbUVsZW1zLmdldCh1c2VySW5mby50ZWFtSWQpLmNoaWxkRWxlbWVudENvdW50ID09PSAxXHJcbiAgICAgICAgICAgICAgICAmJiAoZGVzYyA9PT0gdW5kZWZpbmVkIHx8IGRlc2MudGVhbUlkICE9PSB1c2VySW5mby50ZWFtSWQpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRlYW1FbGVtcy5nZXQodXNlckluZm8udGVhbUlkKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGVhbUVsZW1zLmRlbGV0ZSh1c2VySW5mby50ZWFtSWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIElmIHBsYXllciBpcyBqb2luaW5nIGEgdGVhbSB0aGF0IGhhcyBubyBIVE1MIGVsZW1lbnQgeWV0OlxyXG4gICAgICAgICAgICBpZiAoZGVzYyAmJiAhdGhpcy50ZWFtRWxlbXMuaGFzKGRlc2MudGVhbUlkKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGVhbUVsZW0gPSBKc1V0aWxzLm1rRWwoXCJkaXZcIiwgW09NSEMuVEVBTV0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZWFtRWxlbXMuc2V0KGRlc2MudGVhbUlkLCB0ZWFtRWxlbSk7XHJcbiAgICAgICAgICAgICAgICB0ZWFtRWxlbS5vbmNsaWNrID0gKGV2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbi50ZWFtSWQudmFsdWUgPSBkZXNjLnRlYW1JZC50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGVhbXNFbGVtLmFwcGVuZENoaWxkKHRlYW1FbGVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBQbGF5ZXIgaGFzIGxlZnQgdGhlIGdyb3VwOlxyXG4gICAgICAgICAgICAgICAgdXNlckluZm8uYmFzZS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3BsYXllcnMuZGVsZXRlKHNvY2tldElkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh1c2VySW5mbyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBOZXcgcGxheWVyIGhhcyBqb2luZWQgdGhlIGdyb3VwOlxyXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlckluZm8gPSBuZXcgR3JvdXBMb2JieVNjcmVlbi5Vc2VySW5mbyhkZXNjKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3BsYXllcnMuc2V0KHNvY2tldElkLCB1c2VySW5mbyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRlYW1FbGVtcy5nZXQoZGVzYy50ZWFtSWQpLmFwcGVuZENoaWxkKHVzZXJJbmZvLmJhc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gUGxheWVyIGNoYW5nZWQgdGhlaXIgdXNlciBpbmZvcm1hdGlvbjpcclxuICAgICAgICAgICAgICAgIHVzZXJJbmZvLnVwZGF0ZShkZXNjKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuaW4udGVhbUlkLm1heCA9IE9iamVjdC5rZXlzKHRoaXMuX3BsYXllcnMpLmxlbmd0aC50b1N0cmluZygpO1xyXG4gICAgfVxyXG59XHJcbihmdW5jdGlvbiAoR3JvdXBMb2JieVNjcmVlbikge1xyXG4gICAgdmFyIF91c2VybmFtZSwgX3RlYW1JZCwgX2F2YXRhcjtcclxuICAgIC8qKlxyXG4gICAgICovXHJcbiAgICBjbGFzcyBVc2VySW5mbyB7XHJcbiAgICAgICAgY29uc3RydWN0b3IoZGVzYykge1xyXG4gICAgICAgICAgICBfdXNlcm5hbWUuc2V0KHRoaXMsIHZvaWQgMCk7XHJcbiAgICAgICAgICAgIF90ZWFtSWQuc2V0KHRoaXMsIHZvaWQgMCk7XHJcbiAgICAgICAgICAgIF9hdmF0YXIuc2V0KHRoaXMsIHZvaWQgMCk7XHJcbiAgICAgICAgICAgIHRoaXMuYmFzZSA9IEpzVXRpbHMubWtFbChcImRpdlwiLCBbT01IQy5QTEFZRVJdKTtcclxuICAgICAgICAgICAgY29uc3QgbWtEaXYgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkaXYgPSBKc1V0aWxzLm1rRWwoXCJkaXZcIiwgW10pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlLmFwcGVuZENoaWxkKGRpdik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGl2O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLmVsID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogbWtEaXYoKSxcclxuICAgICAgICAgICAgICAgIHRlYW1JZDogbWtEaXYoKSxcclxuICAgICAgICAgICAgICAgIGF2YXRhcjogbWtEaXYoKSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuZWwudXNlcm5hbWUuY2xhc3NMaXN0LmFkZChPTUhDLlBMQVlFUl9OQU1FKTtcclxuICAgICAgICAgICAgdGhpcy51c2VybmFtZSA9IGRlc2MudXNlcm5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMudGVhbUlkID0gZGVzYy50ZWFtSWQ7XHJcbiAgICAgICAgICAgIEpzVXRpbHMucHJvcE5vV3JpdGUodGhpcywgW1wiYmFzZVwiLCBcImVsXCJdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXBkYXRlKGRlc2MpIHtcclxuICAgICAgICAgICAgdGhpcy51c2VybmFtZSA9IGRlc2MudXNlcm5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMudGVhbUlkID0gZGVzYy50ZWFtSWQ7XHJcbiAgICAgICAgICAgIHRoaXMuYXZhdGFyID0gZGVzYy5hdmF0YXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIDtcclxuICAgICAgICBnZXQgdXNlcm5hbWUoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF91c2VybmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNldCB1c2VybmFtZShuZXdVc2VybmFtZSkge1xyXG4gICAgICAgICAgICB0aGlzLmVsLnVzZXJuYW1lLnRleHRDb250ZW50ID0gbmV3VXNlcm5hbWU7XHJcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX3VzZXJuYW1lLCBuZXdVc2VybmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdldCB0ZWFtSWQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF90ZWFtSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXQgdGVhbUlkKG5ld1RlYW1JZCkge1xyXG4gICAgICAgICAgICB0aGlzLmVsLnRlYW1JZC50ZXh0Q29udGVudCA9IG5ld1RlYW1JZC50b1N0cmluZygpO1xyXG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF90ZWFtSWQsIG5ld1RlYW1JZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdldCBhdmF0YXIoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9hdmF0YXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXQgYXZhdGFyKG5ld0F2YXRhcikge1xyXG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9hdmF0YXIsIG5ld0F2YXRhcik7XHJcbiAgICAgICAgICAgIHRoaXMuZWwuYXZhdGFyOyAvLyBUT0RPLmltcGwgc2V0IHRoZSBhdmF0YXIgaW1hZ2UuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3VzZXJuYW1lID0gbmV3IFdlYWtNYXAoKSwgX3RlYW1JZCA9IG5ldyBXZWFrTWFwKCksIF9hdmF0YXIgPSBuZXcgV2Vha01hcCgpO1xyXG4gICAgR3JvdXBMb2JieVNjcmVlbi5Vc2VySW5mbyA9IFVzZXJJbmZvO1xyXG59KShHcm91cExvYmJ5U2NyZWVuIHx8IChHcm91cExvYmJ5U2NyZWVuID0ge30pKTtcclxuSnNVdGlscy5wcm90b05vRW51bShHcm91cExvYmJ5U2NyZWVuLCBbXCJfY3JlYXRlSW5wdXRzXCIsIFwiX3N1Ym1pdElucHV0c1wiXSk7XHJcbk9iamVjdC5mcmVlemUoR3JvdXBMb2JieVNjcmVlbik7XHJcbk9iamVjdC5mcmVlemUoR3JvdXBMb2JieVNjcmVlbi5wcm90b3R5cGUpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/client/screen/impl/GroupLobby.ts\n");

/***/ }),

/***/ "./src/client/screen/impl/Home.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"HomeScreen\": () => /* binding */ HomeScreen\n/* harmony export */ });\n/* harmony import */ var _SkScreen__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/client/screen/SkScreen.ts\");\n\r\n/**\r\n *\r\n */\r\nclass HomeScreen extends _SkScreen__WEBPACK_IMPORTED_MODULE_0__.SkScreen {\r\n    /**\r\n     * @override\r\n     */\r\n    _lazyLoad() {\r\n        const OMHC = _SkScreen__WEBPACK_IMPORTED_MODULE_0__.OmHooks.Screen.Impl.Home.Class;\r\n        this.baseElem.classList.add(_SkScreen__WEBPACK_IMPORTED_MODULE_0__.OmHooks.General.Class.CENTER_CONTENTS, OMHC.BASE);\r\n        const nav \r\n        // @ts-expect-error : RO=\r\n        = this.navElem\r\n            = _SkScreen__WEBPACK_IMPORTED_MODULE_0__.JsUtils.mkEl(\"div\", [\r\n                _SkScreen__WEBPACK_IMPORTED_MODULE_0__.OmHooks.General.Class.TEXT_SELECT_DISABLED,\r\n                _SkScreen__WEBPACK_IMPORTED_MODULE_0__.OmHooks.General.Class.INPUT_GROUP,\r\n                OMHC.NAV,\r\n            ]);\r\n        nav.setAttribute(\"role\", \"navigation\");\r\n        nav.addEventListener(\"pointerleave\", () => {\r\n            var _a;\r\n            if (((_a = document.activeElement) === null || _a === void 0 ? void 0 : _a.parentElement) === nav) {\r\n                document.activeElement.blur();\r\n            }\r\n        });\r\n        const addToNav = (elem, desc) => {\r\n            elem.classList.add(_SkScreen__WEBPACK_IMPORTED_MODULE_0__.OmHooks.General.Class.CENTER_CONTENTS, _SkScreen__WEBPACK_IMPORTED_MODULE_0__.OmHooks.General.Class.INPUT_GROUP_ITEM, desc.cssClass);\r\n            elem.textContent = desc.text;\r\n            elem.addEventListener(\"pointerenter\", () => {\r\n                window.requestAnimationFrame((time) => {\r\n                    elem.focus();\r\n                });\r\n                // TODO.impl play a keyboard click sound.\r\n                // this.top.sfx;\r\n            });\r\n            nav.appendChild(elem);\r\n        };\r\n        // NOTE: Define array entries in order that their\r\n        // buttons should be tabbed through via keyboard.\r\n        [{\r\n                text: \"Offline Single-player\",\r\n                cssClass: OMHC.NAV_PLAY_OFFLINE,\r\n                screenId: _SkScreen__WEBPACK_IMPORTED_MODULE_0__.SkScreen.Id.SETUP_OFFLINE,\r\n            }, {\r\n                text: \"Online Multi-player\",\r\n                cssClass: OMHC.NAV_PLAY_ONLINE,\r\n                screenId: _SkScreen__WEBPACK_IMPORTED_MODULE_0__.SkScreen.Id.GROUP_JOINER,\r\n            }, {\r\n                text: \"How To Play\",\r\n                cssClass: OMHC.NAV_HOW_TO_PLAY,\r\n                screenId: _SkScreen__WEBPACK_IMPORTED_MODULE_0__.SkScreen.Id.HOW_TO_PLAY,\r\n            }, {\r\n                text: \"How To Host\",\r\n                cssClass: OMHC.NAV_HOW_TO_HOST,\r\n                screenId: _SkScreen__WEBPACK_IMPORTED_MODULE_0__.SkScreen.Id.HOW_TO_HOST,\r\n            }, {\r\n                text: \"Colour Schemes\",\r\n                cssClass: OMHC.NAV_COLOURS,\r\n                screenId: _SkScreen__WEBPACK_IMPORTED_MODULE_0__.SkScreen.Id.COLOUR_CTRL,\r\n            }]\r\n            .map((desc) => Object.freeze(desc))\r\n            .forEach((desc) => {\r\n            const button = _SkScreen__WEBPACK_IMPORTED_MODULE_0__.JsUtils.mkEl(\"button\", []);\r\n            button.onclick = (desc.screenId instanceof Function) ? desc.screenId : () => {\r\n                // TODO.impl play a health-up sound.\r\n                // this.top.sfx.;\r\n                this.requestGoToScreen(desc.screenId, {});\r\n            };\r\n            addToNav(button, desc);\r\n        });\r\n        [{\r\n                text: \"Visit\\nRepo\",\r\n                cssClass: OMHC.NAV_VIEW_REPO,\r\n                href: new window.URL(\"https://github.com/david-fong/SnaKey-NTS\"),\r\n            }, {\r\n                text: \"Report\\nIssue\",\r\n                cssClass: OMHC.NAV_RPT_ISSUE,\r\n                href: new window.URL(\"https://github.com/david-fong/SnaKey-NTS/issues\"),\r\n            }]\r\n            .map((desc) => Object.freeze(desc))\r\n            .forEach((desc) => {\r\n            const a = _SkScreen__WEBPACK_IMPORTED_MODULE_0__.JsUtils.mkEl(\"a\", [], {\r\n                href: (desc.href).toString(),\r\n                //referrerPolicy: \"strict-origin-when-cross-origin\",\r\n                target: \"_blank\",\r\n            });\r\n            addToNav(a, desc);\r\n        });\r\n        this.baseElem.appendChild(nav);\r\n    }\r\n}\r\nObject.freeze(HomeScreen);\r\nObject.freeze(HomeScreen.prototype);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L3NjcmVlbi9pbXBsL0hvbWUudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbmFrZXkzLy4vc3JjL2NsaWVudC9zY3JlZW4vaW1wbC9Ib21lLnRzP2EzNTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSnNVdGlscywgT21Ib29rcywgU2tTY3JlZW4gfSBmcm9tIFwiLi4vU2tTY3JlZW5cIjtcclxuLyoqXHJcbiAqXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSG9tZVNjcmVlbiBleHRlbmRzIFNrU2NyZWVuIHtcclxuICAgIC8qKlxyXG4gICAgICogQG92ZXJyaWRlXHJcbiAgICAgKi9cclxuICAgIF9sYXp5TG9hZCgpIHtcclxuICAgICAgICBjb25zdCBPTUhDID0gT21Ib29rcy5TY3JlZW4uSW1wbC5Ib21lLkNsYXNzO1xyXG4gICAgICAgIHRoaXMuYmFzZUVsZW0uY2xhc3NMaXN0LmFkZChPbUhvb2tzLkdlbmVyYWwuQ2xhc3MuQ0VOVEVSX0NPTlRFTlRTLCBPTUhDLkJBU0UpO1xyXG4gICAgICAgIGNvbnN0IG5hdiBcclxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIDogUk89XHJcbiAgICAgICAgPSB0aGlzLm5hdkVsZW1cclxuICAgICAgICAgICAgPSBKc1V0aWxzLm1rRWwoXCJkaXZcIiwgW1xyXG4gICAgICAgICAgICAgICAgT21Ib29rcy5HZW5lcmFsLkNsYXNzLlRFWFRfU0VMRUNUX0RJU0FCTEVELFxyXG4gICAgICAgICAgICAgICAgT21Ib29rcy5HZW5lcmFsLkNsYXNzLklOUFVUX0dST1VQLFxyXG4gICAgICAgICAgICAgICAgT01IQy5OQVYsXHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgIG5hdi5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwibmF2aWdhdGlvblwiKTtcclxuICAgICAgICBuYXYuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJsZWF2ZVwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBfYTtcclxuICAgICAgICAgICAgaWYgKCgoX2EgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucGFyZW50RWxlbWVudCkgPT09IG5hdikge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCBhZGRUb05hdiA9IChlbGVtLCBkZXNjKSA9PiB7XHJcbiAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZChPbUhvb2tzLkdlbmVyYWwuQ2xhc3MuQ0VOVEVSX0NPTlRFTlRTLCBPbUhvb2tzLkdlbmVyYWwuQ2xhc3MuSU5QVVRfR1JPVVBfSVRFTSwgZGVzYy5jc3NDbGFzcyk7XHJcbiAgICAgICAgICAgIGVsZW0udGV4dENvbnRlbnQgPSBkZXNjLnRleHQ7XHJcbiAgICAgICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJlbnRlclwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCh0aW1lKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPLmltcGwgcGxheSBhIGtleWJvYXJkIGNsaWNrIHNvdW5kLlxyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy50b3Auc2Z4O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbmF2LmFwcGVuZENoaWxkKGVsZW0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gTk9URTogRGVmaW5lIGFycmF5IGVudHJpZXMgaW4gb3JkZXIgdGhhdCB0aGVpclxyXG4gICAgICAgIC8vIGJ1dHRvbnMgc2hvdWxkIGJlIHRhYmJlZCB0aHJvdWdoIHZpYSBrZXlib2FyZC5cclxuICAgICAgICBbe1xyXG4gICAgICAgICAgICAgICAgdGV4dDogXCJPZmZsaW5lIFNpbmdsZS1wbGF5ZXJcIixcclxuICAgICAgICAgICAgICAgIGNzc0NsYXNzOiBPTUhDLk5BVl9QTEFZX09GRkxJTkUsXHJcbiAgICAgICAgICAgICAgICBzY3JlZW5JZDogU2tTY3JlZW4uSWQuU0VUVVBfT0ZGTElORSxcclxuICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgdGV4dDogXCJPbmxpbmUgTXVsdGktcGxheWVyXCIsXHJcbiAgICAgICAgICAgICAgICBjc3NDbGFzczogT01IQy5OQVZfUExBWV9PTkxJTkUsXHJcbiAgICAgICAgICAgICAgICBzY3JlZW5JZDogU2tTY3JlZW4uSWQuR1JPVVBfSk9JTkVSLFxyXG4gICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIkhvdyBUbyBQbGF5XCIsXHJcbiAgICAgICAgICAgICAgICBjc3NDbGFzczogT01IQy5OQVZfSE9XX1RPX1BMQVksXHJcbiAgICAgICAgICAgICAgICBzY3JlZW5JZDogU2tTY3JlZW4uSWQuSE9XX1RPX1BMQVksXHJcbiAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgIHRleHQ6IFwiSG93IFRvIEhvc3RcIixcclxuICAgICAgICAgICAgICAgIGNzc0NsYXNzOiBPTUhDLk5BVl9IT1dfVE9fSE9TVCxcclxuICAgICAgICAgICAgICAgIHNjcmVlbklkOiBTa1NjcmVlbi5JZC5IT1dfVE9fSE9TVCxcclxuICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgdGV4dDogXCJDb2xvdXIgU2NoZW1lc1wiLFxyXG4gICAgICAgICAgICAgICAgY3NzQ2xhc3M6IE9NSEMuTkFWX0NPTE9VUlMsXHJcbiAgICAgICAgICAgICAgICBzY3JlZW5JZDogU2tTY3JlZW4uSWQuQ09MT1VSX0NUUkwsXHJcbiAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICAgIC5tYXAoKGRlc2MpID0+IE9iamVjdC5mcmVlemUoZGVzYykpXHJcbiAgICAgICAgICAgIC5mb3JFYWNoKChkZXNjKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IEpzVXRpbHMubWtFbChcImJ1dHRvblwiLCBbXSk7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5vbmNsaWNrID0gKGRlc2Muc2NyZWVuSWQgaW5zdGFuY2VvZiBGdW5jdGlvbikgPyBkZXNjLnNjcmVlbklkIDogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gVE9ETy5pbXBsIHBsYXkgYSBoZWFsdGgtdXAgc291bmQuXHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLnRvcC5zZnguO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0R29Ub1NjcmVlbihkZXNjLnNjcmVlbklkLCB7fSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGFkZFRvTmF2KGJ1dHRvbiwgZGVzYyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgW3tcclxuICAgICAgICAgICAgICAgIHRleHQ6IFwiVmlzaXRcXG5SZXBvXCIsXHJcbiAgICAgICAgICAgICAgICBjc3NDbGFzczogT01IQy5OQVZfVklFV19SRVBPLFxyXG4gICAgICAgICAgICAgICAgaHJlZjogbmV3IHdpbmRvdy5VUkwoXCJodHRwczovL2dpdGh1Yi5jb20vZGF2aWQtZm9uZy9TbmFLZXktTlRTXCIpLFxyXG4gICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIlJlcG9ydFxcbklzc3VlXCIsXHJcbiAgICAgICAgICAgICAgICBjc3NDbGFzczogT01IQy5OQVZfUlBUX0lTU1VFLFxyXG4gICAgICAgICAgICAgICAgaHJlZjogbmV3IHdpbmRvdy5VUkwoXCJodHRwczovL2dpdGh1Yi5jb20vZGF2aWQtZm9uZy9TbmFLZXktTlRTL2lzc3Vlc1wiKSxcclxuICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgLm1hcCgoZGVzYykgPT4gT2JqZWN0LmZyZWV6ZShkZXNjKSlcclxuICAgICAgICAgICAgLmZvckVhY2goKGRlc2MpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYSA9IEpzVXRpbHMubWtFbChcImFcIiwgW10sIHtcclxuICAgICAgICAgICAgICAgIGhyZWY6IChkZXNjLmhyZWYpLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICAvL3JlZmVycmVyUG9saWN5OiBcInN0cmljdC1vcmlnaW4td2hlbi1jcm9zcy1vcmlnaW5cIixcclxuICAgICAgICAgICAgICAgIHRhcmdldDogXCJfYmxhbmtcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGFkZFRvTmF2KGEsIGRlc2MpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYmFzZUVsZW0uYXBwZW5kQ2hpbGQobmF2KTtcclxuICAgIH1cclxufVxyXG5PYmplY3QuZnJlZXplKEhvbWVTY3JlZW4pO1xyXG5PYmplY3QuZnJlZXplKEhvbWVTY3JlZW4ucHJvdG90eXBlKTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/client/screen/impl/Home.ts\n");

/***/ }),

/***/ "./src/client/screen/impl/HowToHost.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"HowToHostScreen\": () => /* binding */ HowToHostScreen\n/* harmony export */ });\n/* harmony import */ var _SkScreen__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/client/screen/SkScreen.ts\");\n\r\n/**\r\n *\r\n */\r\nclass HowToHostScreen extends _SkScreen__WEBPACK_IMPORTED_MODULE_0__.SkScreen {\r\n    /**\r\n     * @override\r\n     */\r\n    _lazyLoad() {\r\n        ;\r\n    }\r\n}\r\n(function (HowToHostScreen) {\r\n    // TODO.doc\r\n    HowToHostScreen.INSTRUCTIONS_STEPS = Object.freeze([\r\n        \"$ npm install \\'https://github.com/david-fong/SnaKey-NTS#gh-pages\\'\",\r\n        \"$ npm run start\",\r\n        \"send the url to your friends\",\r\n    ]);\r\n})(HowToHostScreen || (HowToHostScreen = {}));\r\nObject.freeze(HowToHostScreen);\r\nObject.freeze(HowToHostScreen.prototype);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L3NjcmVlbi9pbXBsL0hvd1RvSG9zdC50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL3NuYWtleTMvLi9zcmMvY2xpZW50L3NjcmVlbi9pbXBsL0hvd1RvSG9zdC50cz9iYzI5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNrU2NyZWVuIH0gZnJvbSBcIi4uL1NrU2NyZWVuXCI7XHJcbi8qKlxyXG4gKlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEhvd1RvSG9zdFNjcmVlbiBleHRlbmRzIFNrU2NyZWVuIHtcclxuICAgIC8qKlxyXG4gICAgICogQG92ZXJyaWRlXHJcbiAgICAgKi9cclxuICAgIF9sYXp5TG9hZCgpIHtcclxuICAgICAgICA7XHJcbiAgICB9XHJcbn1cclxuKGZ1bmN0aW9uIChIb3dUb0hvc3RTY3JlZW4pIHtcclxuICAgIC8vIFRPRE8uZG9jXHJcbiAgICBIb3dUb0hvc3RTY3JlZW4uSU5TVFJVQ1RJT05TX1NURVBTID0gT2JqZWN0LmZyZWV6ZShbXHJcbiAgICAgICAgXCIkIG5wbSBpbnN0YWxsIFxcJ2h0dHBzOi8vZ2l0aHViLmNvbS9kYXZpZC1mb25nL1NuYUtleS1OVFMjZ2gtcGFnZXNcXCdcIixcclxuICAgICAgICBcIiQgbnBtIHJ1biBzdGFydFwiLFxyXG4gICAgICAgIFwic2VuZCB0aGUgdXJsIHRvIHlvdXIgZnJpZW5kc1wiLFxyXG4gICAgXSk7XHJcbn0pKEhvd1RvSG9zdFNjcmVlbiB8fCAoSG93VG9Ib3N0U2NyZWVuID0ge30pKTtcclxuT2JqZWN0LmZyZWV6ZShIb3dUb0hvc3RTY3JlZW4pO1xyXG5PYmplY3QuZnJlZXplKEhvd1RvSG9zdFNjcmVlbi5wcm90b3R5cGUpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/client/screen/impl/HowToHost.ts\n");

/***/ }),

/***/ "./src/client/screen/impl/HowToPlay.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"HowToPlayScreen\": () => /* binding */ HowToPlayScreen\n/* harmony export */ });\n/* harmony import */ var _SkScreen__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/client/screen/SkScreen.ts\");\n\r\n/**\r\n *\r\n */\r\nclass HowToPlayScreen extends _SkScreen__WEBPACK_IMPORTED_MODULE_0__.SkScreen {\r\n    /**\r\n     * @override\r\n     */\r\n    _lazyLoad() {\r\n        ;\r\n    }\r\n}\r\nObject.freeze(HowToPlayScreen);\r\nObject.freeze(HowToPlayScreen.prototype);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L3NjcmVlbi9pbXBsL0hvd1RvUGxheS50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL3NuYWtleTMvLi9zcmMvY2xpZW50L3NjcmVlbi9pbXBsL0hvd1RvUGxheS50cz8zZTMxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNrU2NyZWVuIH0gZnJvbSAnLi4vU2tTY3JlZW4nO1xyXG4vKipcclxuICpcclxuICovXHJcbmV4cG9ydCBjbGFzcyBIb3dUb1BsYXlTY3JlZW4gZXh0ZW5kcyBTa1NjcmVlbiB7XHJcbiAgICAvKipcclxuICAgICAqIEBvdmVycmlkZVxyXG4gICAgICovXHJcbiAgICBfbGF6eUxvYWQoKSB7XHJcbiAgICAgICAgO1xyXG4gICAgfVxyXG59XHJcbk9iamVjdC5mcmVlemUoSG93VG9QbGF5U2NyZWVuKTtcclxuT2JqZWN0LmZyZWV6ZShIb3dUb1BsYXlTY3JlZW4ucHJvdG90eXBlKTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/client/screen/impl/HowToPlay.ts\n");

/***/ }),

/***/ "./src/client/screen/impl/Play.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Game\": () => /* reexport safe */ game_Game__WEBPACK_IMPORTED_MODULE_0__.Game,\n/* harmony export */   \"_PlayScreen\": () => /* binding */ _PlayScreen\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var game_Game__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/base/game/Game.ts\");\n/* harmony import */ var defs_TypeDefs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/base/defs/TypeDefs.ts\");\n/* harmony import */ var _SkScreen__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/client/screen/SkScreen.ts\");\nvar _currentGame, _onVisibilityChange, _gridOnKeyDown, _pauseReason;\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * If and only if this screen is the current screen, then its\r\n * `currentGame` property is defined, although it is not recommended\r\n * to manage its state except through this class' wrapper methods,\r\n * which are bound to buttons and maintain other invariants between\r\n * the game's state and the UI's state.\r\n */\r\n// TODO.impl Allow users to change the spotlight radius and grid zoom via slider.\r\nclass _PlayScreen extends _SkScreen__WEBPACK_IMPORTED_MODULE_2__.SkScreen {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * This field is defined when this is the current screen, and next\r\n         * to all code here will only run when this screen is the current\r\n         * screen, but I have annotated the type as possibly undefined just\r\n         * so there's no question that it can, under certain conditions be\r\n         * undefined.\r\n         */\r\n        _currentGame.set(this, void 0);\r\n        /**\r\n         * Automatically added and removed from listeners when entering\r\n         * and leaving this screen.\r\n         */\r\n        _onVisibilityChange.set(this, void 0);\r\n        /**\r\n         * Automatically added and removed from listeners when entering\r\n         * and leaving this screen.\r\n         */\r\n        _gridOnKeyDown.set(this, void 0);\r\n        /**\r\n         * Undefined when the game is playing.\r\n         */\r\n        _pauseReason.set(this, void 0);\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    _lazyLoad() {\r\n        this.baseElem.classList.add(_SkScreen__WEBPACK_IMPORTED_MODULE_2__.OmHooks.General.Class.CENTER_CONTENTS, _SkScreen__WEBPACK_IMPORTED_MODULE_2__.OmHooks.Screen.Impl.Play.Class.BASE);\r\n        const gridHtml = _PlayScreen.createCenterColElem();\r\n        // @ts-expect-error : RO=\r\n        this._gridBaseElem = gridHtml.grid;\r\n        // @ts-expect-error : RO=\r\n        this._gridImplHost = gridHtml.implHost;\r\n        this._gridImplHost.appendChild(document.createComment(\"grid impl host\"));\r\n        this.baseElem.appendChild(gridHtml.top);\r\n        gridHtml.pauseOl.addEventListener(\"click\", (ev) => {\r\n            const game = this.currentGame;\r\n            if (game !== undefined && game.status === game_Game__WEBPACK_IMPORTED_MODULE_0__.Game.Status.PAUSED) {\r\n                this._statusBecomePlaying();\r\n            }\r\n        });\r\n        // ^Purposely make the grid the first child so it gets tabbed to first.\r\n        _SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.propNoWrite(this, [\"_gridBaseElem\", \"_gridImplHost\"]);\r\n        // See below link for an illustrative guide on the intersection observer API:\r\n        // https://blog.arnellebalane.com/the-intersection-observer-api-d441be0b088d\r\n        // Unfortunately, it seems like intersection observer is not able to do what\r\n        // I want. It will no trigger when the target's position changes.\r\n        // // @ts-expect-error Assignment to readonly property: `_gridIsecObserver`:\r\n        // this._gridIsecObserver = new IntersectionObserver((entries, observer) => {\r\n        //     entries.forEach((value) => {\r\n        //         console.log(value.intersectionRatio);\r\n        //         if (!value.isIntersecting) {\r\n        //             value.target.scrollIntoView(SCROLL_INTO_CENTER);\r\n        //         }\r\n        //     });\r\n        // }, {\r\n        //     root: gridHtml.intersectionRoot,\r\n        //     rootMargin: \"-20%\",\r\n        // });\r\n        this._initializeControlsBar();\r\n        this._initializePlayersBar();\r\n        // @ts-expect-error : RO=\r\n        (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__classPrivateFieldSet)(this, _onVisibilityChange, () => {\r\n            if (!this.wantsAutoPause)\r\n                return;\r\n            if (document.hidden) {\r\n                if ((0,tslib__WEBPACK_IMPORTED_MODULE_3__.__classPrivateFieldGet)(this, _pauseReason) === undefined) {\r\n                    const game = this.currentGame;\r\n                    if (game === undefined || (game !== undefined && game.status !== game_Game__WEBPACK_IMPORTED_MODULE_0__.Game.Status.OVER)) {\r\n                        this._statusBecomePaused();\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if ((0,tslib__WEBPACK_IMPORTED_MODULE_3__.__classPrivateFieldGet)(this, _pauseReason) === \"page-hide\") {\r\n                    this._statusBecomePlaying();\r\n                }\r\n            }\r\n        });\r\n        // @ts-expect-error : RO=\r\n        (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__classPrivateFieldSet)(this, _gridOnKeyDown, this._gridKeyDownCallback.bind(this));\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    _abstractOnBeforeEnter(navDir, args) {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__awaiter)(this, void 0, void 0, function* () {\r\n            document.addEventListener(\"visibilitychange\", (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__classPrivateFieldGet)(this, _onVisibilityChange));\r\n            this.pauseButton.disabled = true;\r\n            this._statusBecomePaused(); // <-- Leverage some state initialization.\r\n            (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__classPrivateFieldSet)(// <-- Leverage some state initialization.\r\n            this, _currentGame, yield this._createNewGame(args));\r\n            this._gridBaseElem.addEventListener(\"keydown\", (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__classPrivateFieldGet)(this, _gridOnKeyDown), {\r\n                // the handler will call stopPropagation. As a result,\r\n                // nothing inside this element can ever receive keyboard events.\r\n                capture: true,\r\n            });\r\n            yield this.currentGame.reset();\r\n            // ^Wait until resetting has finished before attaching the\r\n            // grid element to the screen so that the DOM changes made\r\n            // by populating tiles with CSP's will be batched.\r\n            const html = this.currentGame.htmlElements;\r\n            this._gridImplHost.appendChild(html.gridImpl);\r\n            // ^The order of insertion does not matter (it used to).\r\n            this.playersBar.appendChild(html.playersBar);\r\n            this.pauseButton.onclick = this._statusBecomePlaying.bind(this);\r\n            this.pauseButton.disabled = false;\r\n            if (this.wantsAutoPause) {\r\n                setTimeout(() => {\r\n                    if (!document.hidden) {\r\n                        this._statusBecomePlaying();\r\n                    }\r\n                }, 500);\r\n                // ^This delay is for \"aesthetic\" purposes (not functional).\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    _abstractOnBeforeLeave(navDir) {\r\n        if (this.askConfirmBeforeLeave && !window.confirm(\"Are you sure you would like to leave?\")) {\r\n            return false;\r\n        }\r\n        document.removeEventListener(\"visibilitychange\", (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__classPrivateFieldGet)(this, _onVisibilityChange));\r\n        //this._gridIsecObserver.disconnect();\r\n        // Release the game:\r\n        // See docs in Game.ts : Pausing is done to cancel scheduled callbacks.\r\n        this.currentGame.statusBecomePaused();\r\n        for (const elem of Object.values(this.currentGame.htmlElements)) {\r\n            // IMPORTANT NOTE: For some reason, clearing children from the\r\n            // grid-impl element is necessary to allow for garbage collection\r\n            // of DOM nodes (at least on Chrome).\r\n            elem.textContent = \"\";\r\n            elem.remove();\r\n        }\r\n        this._gridBaseElem.removeEventListener(\"keydown\", (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__classPrivateFieldGet)(this, _gridOnKeyDown));\r\n        //// @ts-expect-error Experiment with freeing grid reference to speed up garbage collection?\r\n        //game.grid = undefined;\r\n        (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__classPrivateFieldSet)(this, _currentGame, undefined);\r\n        return true;\r\n    }\r\n    get currentGame() {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__classPrivateFieldGet)(this, _currentGame);\r\n    }\r\n    /**\r\n     * This class can use a protected alias that advertises the result\r\n     * as always being defined.\r\n     */\r\n    get probeCurrentGame() {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__classPrivateFieldGet)(this, _currentGame);\r\n    }\r\n    /**\r\n     * Do not use this directly. See `this.#gridOnKeyDown`.\r\n     *\r\n     * Note the uses of typescript `!` assertion instead of the nullish\r\n     * coalescing operator for `this.currentGame`. This is safe because\r\n     * this callback is managed by the screen-enter and leave hooks to\r\n     * only be registered when the current game is defined, since it\r\n     * doesn't make sense to be called when the game is not defined.\r\n     *\r\n     * @param ev -\r\n     */\r\n    _gridKeyDownCallback(ev) {\r\n        // console.log(`key: ${ev.key}, code: ${ev.code},`\r\n        // + ` keyCode: ${ev.keyCode}, char: ${ev.char},`\r\n        // + ` charCode: ${ev.charCode}`);\r\n        ev.stopPropagation();\r\n        const game = this.currentGame;\r\n        if (ev.ctrlKey && ev.key === \" \" && !ev.repeat) {\r\n            // If switching operator:\r\n            function getOperatorElem() {\r\n                return game.currentOperator.status.immigrantInfo.playerElem;\r\n            }\r\n            ;\r\n            //this._gridIsecObserver.unobserve(getOperatorElem());\r\n            const operators = game.operators;\r\n            game.setCurrentOperator((1 + operators.indexOf(game.currentOperator))\r\n                % operators.length);\r\n            //const operatorElem = getOperatorElem();\r\n            //this._gridIsecObserver.observe(operatorElem);\r\n        }\r\n        else {\r\n            // Process event as regular typing:\r\n            game.currentOperator.processKeyboardInput(ev);\r\n        }\r\n        // Disable scroll-down via spacebar:\r\n        if (ev.key === \" \") {\r\n            ev.preventDefault();\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    _statusBecomePlaying() {\r\n        var _a;\r\n        const OHGD = _SkScreen__WEBPACK_IMPORTED_MODULE_2__.OmHooks.Grid.Dataset.GAME_STATE;\r\n        (_a = this.probeCurrentGame) === null || _a === void 0 ? void 0 : _a.statusBecomePlaying();\r\n        this.pauseButton.textContent = \"Pause\";\r\n        (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__classPrivateFieldSet)(this, _pauseReason, undefined);\r\n        this._gridBaseElem.dataset[OHGD.KEY] = OHGD.VALUES.PLAYING;\r\n        this.pauseButton.onclick = this._statusBecomePaused.bind(this);\r\n        this.resetButton.disabled = true;\r\n        window.requestAnimationFrame((time) => {\r\n            this._gridBaseElem.focus();\r\n        });\r\n    }\r\n    _statusBecomePaused() {\r\n        var _a;\r\n        const OHGD = _SkScreen__WEBPACK_IMPORTED_MODULE_2__.OmHooks.Grid.Dataset.GAME_STATE;\r\n        (_a = this.probeCurrentGame) === null || _a === void 0 ? void 0 : _a.statusBecomePaused();\r\n        this.pauseButton.textContent = \"Unpause\";\r\n        (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__classPrivateFieldSet)(this, _pauseReason, document.hidden ? \"page-hide\" : \"other\");\r\n        this._gridBaseElem.dataset[OHGD.KEY] = OHGD.VALUES.PAUSED;\r\n        this.pauseButton.onclick = this._statusBecomePlaying.bind(this);\r\n        this.resetButton.disabled = false;\r\n    }\r\n    /**\r\n     * A callback passed to the constructed game to call when it ends.\r\n     */\r\n    _onGameBecomeOver() {\r\n        const OHGD = _SkScreen__WEBPACK_IMPORTED_MODULE_2__.OmHooks.Grid.Dataset.GAME_STATE;\r\n        this.pauseButton.disabled = true;\r\n        this.resetButton.disabled = false;\r\n        this._gridBaseElem.dataset[OHGD.KEY] = OHGD.VALUES.OVER;\r\n    }\r\n    /**\r\n     * Should only be called if all the following conditions are met:\r\n     * - The current game exists.\r\n     * - The current game is paused or it is over.\r\n     */\r\n    _resetGame() {\r\n        this.currentGame.reset();\r\n        this.pauseButton.disabled = false;\r\n        if (this.wantsAutoPause) {\r\n            this._statusBecomePlaying();\r\n        }\r\n    }\r\n    /**\r\n     *\r\n     */\r\n    _initializeControlsBar() {\r\n        const controlsBar = _SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.mkEl(\"div\", [\r\n            _SkScreen__WEBPACK_IMPORTED_MODULE_2__.OmHooks.General.Class.CENTER_CONTENTS,\r\n            _SkScreen__WEBPACK_IMPORTED_MODULE_2__.OmHooks.General.Class.INPUT_GROUP,\r\n            _SkScreen__WEBPACK_IMPORTED_MODULE_2__.OmHooks.Screen.Impl.Play.Class.CONTROLS_BAR,\r\n        ]);\r\n        controlsBar.setAttribute(\"role\", \"menu\");\r\n        function createControlButton(buttonText, button) {\r\n            button = button !== null && button !== void 0 ? button : _SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.mkEl(\"button\", []);\r\n            // Note that these below are set outside of mkEl, since they\r\n            // must apply if a button is provided as an argument.\r\n            button.classList.add(_SkScreen__WEBPACK_IMPORTED_MODULE_2__.OmHooks.General.Class.INPUT_GROUP_ITEM);\r\n            button.textContent = buttonText;\r\n            button.addEventListener(\"pointerenter\", (ev) => {\r\n                window.requestAnimationFrame((time) => {\r\n                    button.focus();\r\n                });\r\n            });\r\n            controlsBar.appendChild(button);\r\n            return button;\r\n        }\r\n        controlsBar.addEventListener(\"pointerleave\", (ev) => {\r\n            window.requestAnimationFrame((time) => {\r\n                this._gridBaseElem.focus();\r\n            });\r\n        });\r\n        {\r\n            const bth = createControlButton(\"<Back Button Text>\", this.nav.prev);\r\n        }\r\n        {\r\n            const pause \r\n            // @ts-expect-error : RO=\r\n            = this.pauseButton\r\n                = createControlButton(\"\");\r\n        }\r\n        {\r\n            const reset \r\n            // @ts-expect-error : RO=\r\n            = this.resetButton\r\n                = createControlButton(\"Reset\");\r\n            reset.onclick = this._resetGame.bind(this);\r\n        }\r\n        _SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.propNoWrite(this, [\"pauseButton\", \"resetButton\"]);\r\n        this.baseElem.appendChild(controlsBar);\r\n    }\r\n    _initializePlayersBar() {\r\n        const playersBar \r\n        // @ts-expect-error : RO=\r\n        = this.playersBar\r\n            = _SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.mkEl(\"div\", [_SkScreen__WEBPACK_IMPORTED_MODULE_2__.OmHooks.Screen.Impl.Play.Class.PLAYERS_BAR]);\r\n        _SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.propNoWrite(this, [\"playersBar\"]);\r\n        this.baseElem.appendChild(playersBar);\r\n    }\r\n}\r\n_currentGame = new WeakMap(), _onVisibilityChange = new WeakMap(), _gridOnKeyDown = new WeakMap(), _pauseReason = new WeakMap();\r\n(function (_PlayScreen) {\r\n    /**\r\n     */\r\n    function createCenterColElem() {\r\n        const OMHC = _SkScreen__WEBPACK_IMPORTED_MODULE_2__.OmHooks.Grid.Class;\r\n        const CSS_FX = _SkScreen__WEBPACK_IMPORTED_MODULE_2__.OmHooks.General.Class;\r\n        const base = _SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.mkEl(\"div\", [_SkScreen__WEBPACK_IMPORTED_MODULE_2__.OmHooks.Screen.Impl.Play.Class.GRID_WRAPPER]);\r\n        const grid = _SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.mkEl(\"div\", [\r\n            //CSS_FX.CENTER_CONTENTS,\r\n            CSS_FX.STACK_CONTENTS,\r\n            CSS_FX.TEXT_SELECT_DISABLED,\r\n            OMHC.GRID,\r\n        ], { tabIndex: 0 });\r\n        grid.setAttribute(\"role\", \"textbox\");\r\n        grid.setAttribute(\"aria-label\", \"Game Grid\");\r\n        // Grid Scroll Wrapper:\r\n        const scrollOuter = _SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.mkEl(\"div\", [\r\n            //CSS_FX.FILL_PARENT,\r\n            OMHC.SCROLL_OUTER,\r\n        ]);\r\n        scrollOuter.setAttribute(\"role\", \"presentation\");\r\n        {\r\n            // Add a \"keyboard-disconnected\" overlay if not added already:\r\n            const kbdDcBase = _SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.mkEl(\"div\", [\r\n                CSS_FX.FILL_PARENT,\r\n                CSS_FX.CENTER_CONTENTS,\r\n                OMHC.KBD_DC,\r\n            ]);\r\n            // TODO.impl Add an <svg> with icon instead please.\r\n            kbdDcBase.appendChild(_SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.mkEl(\"div\", [OMHC.KBD_DC_ICON], {\r\n                textContent: \"(click here to continue typing)\",\r\n            }));\r\n            scrollOuter.appendChild(kbdDcBase);\r\n        }\r\n        const pauseOl = _SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.mkEl(\"div\", [\r\n            CSS_FX.FILL_PARENT,\r\n            CSS_FX.CENTER_CONTENTS,\r\n            OMHC.PAUSE_OL,\r\n        ], {});\r\n        pauseOl.appendChild(_SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.mkEl(\"div\", [OMHC.PAUSE_OL_ICON], {\r\n            textContent: \"(Click to Unpause)\"\r\n        }));\r\n        scrollOuter.appendChild(pauseOl);\r\n        // const intersectionRoot = JsUtils.mkEl(\"div\", []);\r\n        // intersectionRoot.setAttribute(\"aria-hidden\", \"true\");\r\n        // intersectionRoot.classList.add(\r\n        //     CSS_FX.FILL_PARENT,\r\n        //     OMHC.PLAYER_IOB_ROOT,\r\n        // );\r\n        // scrollOuter.appendChild(intersectionRoot);\r\n        grid.appendChild(scrollOuter);\r\n        base.appendChild(grid);\r\n        return Object.freeze({\r\n            top: base,\r\n            grid,\r\n            intersectionRoot: scrollOuter,\r\n            implHost: scrollOuter,\r\n            pauseOl: pauseOl,\r\n        });\r\n    }\r\n    _PlayScreen.createCenterColElem = createCenterColElem;\r\n})(_PlayScreen || (_PlayScreen = {}));\r\n_SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.protoNoEnum(_PlayScreen, [\r\n    \"probeCurrentGame\",\r\n]);\r\n_SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.instNoEnum(_PlayScreen, [\r\n    \"createCenterColElem\",\r\n]);\r\nObject.freeze(_PlayScreen);\r\nObject.freeze(_PlayScreen.prototype);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L3NjcmVlbi9pbXBsL1BsYXkudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbmFrZXkzLy4vc3JjL2NsaWVudC9zY3JlZW4vaW1wbC9QbGF5LnRzP2FhMjciXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9jdXJyZW50R2FtZSwgX29uVmlzaWJpbGl0eUNoYW5nZSwgX2dyaWRPbktleURvd24sIF9wYXVzZVJlYXNvbjtcclxuaW1wb3J0IHsgX19hd2FpdGVyLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0LCBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0IH0gZnJvbSBcInRzbGliXCI7XHJcbmltcG9ydCB7IEdhbWUgfSBmcm9tIFwiZ2FtZS9HYW1lXCI7XHJcbmV4cG9ydCB7IEdhbWUgfTtcclxuaW1wb3J0IFwiZGVmcy9UeXBlRGVmc1wiO1xyXG5pbXBvcnQgeyBKc1V0aWxzLCBPbUhvb2tzLCBTa1NjcmVlbiB9IGZyb20gXCIuLi9Ta1NjcmVlblwiO1xyXG4vKipcclxuICogSWYgYW5kIG9ubHkgaWYgdGhpcyBzY3JlZW4gaXMgdGhlIGN1cnJlbnQgc2NyZWVuLCB0aGVuIGl0c1xyXG4gKiBgY3VycmVudEdhbWVgIHByb3BlcnR5IGlzIGRlZmluZWQsIGFsdGhvdWdoIGl0IGlzIG5vdCByZWNvbW1lbmRlZFxyXG4gKiB0byBtYW5hZ2UgaXRzIHN0YXRlIGV4Y2VwdCB0aHJvdWdoIHRoaXMgY2xhc3MnIHdyYXBwZXIgbWV0aG9kcyxcclxuICogd2hpY2ggYXJlIGJvdW5kIHRvIGJ1dHRvbnMgYW5kIG1haW50YWluIG90aGVyIGludmFyaWFudHMgYmV0d2VlblxyXG4gKiB0aGUgZ2FtZSdzIHN0YXRlIGFuZCB0aGUgVUkncyBzdGF0ZS5cclxuICovXHJcbi8vIFRPRE8uaW1wbCBBbGxvdyB1c2VycyB0byBjaGFuZ2UgdGhlIHNwb3RsaWdodCByYWRpdXMgYW5kIGdyaWQgem9vbSB2aWEgc2xpZGVyLlxyXG5leHBvcnQgY2xhc3MgX1BsYXlTY3JlZW4gZXh0ZW5kcyBTa1NjcmVlbiB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoaXMgZmllbGQgaXMgZGVmaW5lZCB3aGVuIHRoaXMgaXMgdGhlIGN1cnJlbnQgc2NyZWVuLCBhbmQgbmV4dFxyXG4gICAgICAgICAqIHRvIGFsbCBjb2RlIGhlcmUgd2lsbCBvbmx5IHJ1biB3aGVuIHRoaXMgc2NyZWVuIGlzIHRoZSBjdXJyZW50XHJcbiAgICAgICAgICogc2NyZWVuLCBidXQgSSBoYXZlIGFubm90YXRlZCB0aGUgdHlwZSBhcyBwb3NzaWJseSB1bmRlZmluZWQganVzdFxyXG4gICAgICAgICAqIHNvIHRoZXJlJ3Mgbm8gcXVlc3Rpb24gdGhhdCBpdCBjYW4sIHVuZGVyIGNlcnRhaW4gY29uZGl0aW9ucyBiZVxyXG4gICAgICAgICAqIHVuZGVmaW5lZC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBfY3VycmVudEdhbWUuc2V0KHRoaXMsIHZvaWQgMCk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQXV0b21hdGljYWxseSBhZGRlZCBhbmQgcmVtb3ZlZCBmcm9tIGxpc3RlbmVycyB3aGVuIGVudGVyaW5nXHJcbiAgICAgICAgICogYW5kIGxlYXZpbmcgdGhpcyBzY3JlZW4uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgX29uVmlzaWJpbGl0eUNoYW5nZS5zZXQodGhpcywgdm9pZCAwKTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBdXRvbWF0aWNhbGx5IGFkZGVkIGFuZCByZW1vdmVkIGZyb20gbGlzdGVuZXJzIHdoZW4gZW50ZXJpbmdcclxuICAgICAgICAgKiBhbmQgbGVhdmluZyB0aGlzIHNjcmVlbi5cclxuICAgICAgICAgKi9cclxuICAgICAgICBfZ3JpZE9uS2V5RG93bi5zZXQodGhpcywgdm9pZCAwKTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBVbmRlZmluZWQgd2hlbiB0aGUgZ2FtZSBpcyBwbGF5aW5nLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIF9wYXVzZVJlYXNvbi5zZXQodGhpcywgdm9pZCAwKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQG92ZXJyaWRlXHJcbiAgICAgKi9cclxuICAgIF9sYXp5TG9hZCgpIHtcclxuICAgICAgICB0aGlzLmJhc2VFbGVtLmNsYXNzTGlzdC5hZGQoT21Ib29rcy5HZW5lcmFsLkNsYXNzLkNFTlRFUl9DT05URU5UUywgT21Ib29rcy5TY3JlZW4uSW1wbC5QbGF5LkNsYXNzLkJBU0UpO1xyXG4gICAgICAgIGNvbnN0IGdyaWRIdG1sID0gX1BsYXlTY3JlZW4uY3JlYXRlQ2VudGVyQ29sRWxlbSgpO1xyXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgOiBSTz1cclxuICAgICAgICB0aGlzLl9ncmlkQmFzZUVsZW0gPSBncmlkSHRtbC5ncmlkO1xyXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgOiBSTz1cclxuICAgICAgICB0aGlzLl9ncmlkSW1wbEhvc3QgPSBncmlkSHRtbC5pbXBsSG9zdDtcclxuICAgICAgICB0aGlzLl9ncmlkSW1wbEhvc3QuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlQ29tbWVudChcImdyaWQgaW1wbCBob3N0XCIpKTtcclxuICAgICAgICB0aGlzLmJhc2VFbGVtLmFwcGVuZENoaWxkKGdyaWRIdG1sLnRvcCk7XHJcbiAgICAgICAgZ3JpZEh0bWwucGF1c2VPbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGdhbWUgPSB0aGlzLmN1cnJlbnRHYW1lO1xyXG4gICAgICAgICAgICBpZiAoZ2FtZSAhPT0gdW5kZWZpbmVkICYmIGdhbWUuc3RhdHVzID09PSBHYW1lLlN0YXR1cy5QQVVTRUQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1c0JlY29tZVBsYXlpbmcoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIF5QdXJwb3NlbHkgbWFrZSB0aGUgZ3JpZCB0aGUgZmlyc3QgY2hpbGQgc28gaXQgZ2V0cyB0YWJiZWQgdG8gZmlyc3QuXHJcbiAgICAgICAgSnNVdGlscy5wcm9wTm9Xcml0ZSh0aGlzLCBbXCJfZ3JpZEJhc2VFbGVtXCIsIFwiX2dyaWRJbXBsSG9zdFwiXSk7XHJcbiAgICAgICAgLy8gU2VlIGJlbG93IGxpbmsgZm9yIGFuIGlsbHVzdHJhdGl2ZSBndWlkZSBvbiB0aGUgaW50ZXJzZWN0aW9uIG9ic2VydmVyIEFQSTpcclxuICAgICAgICAvLyBodHRwczovL2Jsb2cuYXJuZWxsZWJhbGFuZS5jb20vdGhlLWludGVyc2VjdGlvbi1vYnNlcnZlci1hcGktZDQ0MWJlMGIwODhkXHJcbiAgICAgICAgLy8gVW5mb3J0dW5hdGVseSwgaXQgc2VlbXMgbGlrZSBpbnRlcnNlY3Rpb24gb2JzZXJ2ZXIgaXMgbm90IGFibGUgdG8gZG8gd2hhdFxyXG4gICAgICAgIC8vIEkgd2FudC4gSXQgd2lsbCBubyB0cmlnZ2VyIHdoZW4gdGhlIHRhcmdldCdzIHBvc2l0aW9uIGNoYW5nZXMuXHJcbiAgICAgICAgLy8gLy8gQHRzLWV4cGVjdC1lcnJvciBBc3NpZ25tZW50IHRvIHJlYWRvbmx5IHByb3BlcnR5OiBgX2dyaWRJc2VjT2JzZXJ2ZXJgOlxyXG4gICAgICAgIC8vIHRoaXMuX2dyaWRJc2VjT2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGVudHJpZXMsIG9ic2VydmVyKSA9PiB7XHJcbiAgICAgICAgLy8gICAgIGVudHJpZXMuZm9yRWFjaCgodmFsdWUpID0+IHtcclxuICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKHZhbHVlLmludGVyc2VjdGlvblJhdGlvKTtcclxuICAgICAgICAvLyAgICAgICAgIGlmICghdmFsdWUuaXNJbnRlcnNlY3RpbmcpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICB2YWx1ZS50YXJnZXQuc2Nyb2xsSW50b1ZpZXcoU0NST0xMX0lOVE9fQ0VOVEVSKTtcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgfSk7XHJcbiAgICAgICAgLy8gfSwge1xyXG4gICAgICAgIC8vICAgICByb290OiBncmlkSHRtbC5pbnRlcnNlY3Rpb25Sb290LFxyXG4gICAgICAgIC8vICAgICByb290TWFyZ2luOiBcIi0yMCVcIixcclxuICAgICAgICAvLyB9KTtcclxuICAgICAgICB0aGlzLl9pbml0aWFsaXplQ29udHJvbHNCYXIoKTtcclxuICAgICAgICB0aGlzLl9pbml0aWFsaXplUGxheWVyc0JhcigpO1xyXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgOiBSTz1cclxuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9vblZpc2liaWxpdHlDaGFuZ2UsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLndhbnRzQXV0b1BhdXNlKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQuaGlkZGVuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfcGF1c2VSZWFzb24pID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBnYW1lID0gdGhpcy5jdXJyZW50R2FtZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZSA9PT0gdW5kZWZpbmVkIHx8IChnYW1lICE9PSB1bmRlZmluZWQgJiYgZ2FtZS5zdGF0dXMgIT09IEdhbWUuU3RhdHVzLk9WRVIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1c0JlY29tZVBhdXNlZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9wYXVzZVJlYXNvbikgPT09IFwicGFnZS1oaWRlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGF0dXNCZWNvbWVQbGF5aW5nKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIDogUk89XHJcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfZ3JpZE9uS2V5RG93biwgdGhpcy5fZ3JpZEtleURvd25DYWxsYmFjay5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQG92ZXJyaWRlXHJcbiAgICAgKi9cclxuICAgIF9hYnN0cmFjdE9uQmVmb3JlRW50ZXIobmF2RGlyLCBhcmdzKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfb25WaXNpYmlsaXR5Q2hhbmdlKSk7XHJcbiAgICAgICAgICAgIHRoaXMucGF1c2VCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGF0dXNCZWNvbWVQYXVzZWQoKTsgLy8gPC0tIExldmVyYWdlIHNvbWUgc3RhdGUgaW5pdGlhbGl6YXRpb24uXHJcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQoLy8gPC0tIExldmVyYWdlIHNvbWUgc3RhdGUgaW5pdGlhbGl6YXRpb24uXHJcbiAgICAgICAgICAgIHRoaXMsIF9jdXJyZW50R2FtZSwgeWllbGQgdGhpcy5fY3JlYXRlTmV3R2FtZShhcmdzKSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2dyaWRCYXNlRWxlbS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ncmlkT25LZXlEb3duKSwge1xyXG4gICAgICAgICAgICAgICAgLy8gdGhlIGhhbmRsZXIgd2lsbCBjYWxsIHN0b3BQcm9wYWdhdGlvbi4gQXMgYSByZXN1bHQsXHJcbiAgICAgICAgICAgICAgICAvLyBub3RoaW5nIGluc2lkZSB0aGlzIGVsZW1lbnQgY2FuIGV2ZXIgcmVjZWl2ZSBrZXlib2FyZCBldmVudHMuXHJcbiAgICAgICAgICAgICAgICBjYXB0dXJlOiB0cnVlLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgeWllbGQgdGhpcy5jdXJyZW50R2FtZS5yZXNldCgpO1xyXG4gICAgICAgICAgICAvLyBeV2FpdCB1bnRpbCByZXNldHRpbmcgaGFzIGZpbmlzaGVkIGJlZm9yZSBhdHRhY2hpbmcgdGhlXHJcbiAgICAgICAgICAgIC8vIGdyaWQgZWxlbWVudCB0byB0aGUgc2NyZWVuIHNvIHRoYXQgdGhlIERPTSBjaGFuZ2VzIG1hZGVcclxuICAgICAgICAgICAgLy8gYnkgcG9wdWxhdGluZyB0aWxlcyB3aXRoIENTUCdzIHdpbGwgYmUgYmF0Y2hlZC5cclxuICAgICAgICAgICAgY29uc3QgaHRtbCA9IHRoaXMuY3VycmVudEdhbWUuaHRtbEVsZW1lbnRzO1xyXG4gICAgICAgICAgICB0aGlzLl9ncmlkSW1wbEhvc3QuYXBwZW5kQ2hpbGQoaHRtbC5ncmlkSW1wbCk7XHJcbiAgICAgICAgICAgIC8vIF5UaGUgb3JkZXIgb2YgaW5zZXJ0aW9uIGRvZXMgbm90IG1hdHRlciAoaXQgdXNlZCB0bykuXHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyc0Jhci5hcHBlbmRDaGlsZChodG1sLnBsYXllcnNCYXIpO1xyXG4gICAgICAgICAgICB0aGlzLnBhdXNlQnV0dG9uLm9uY2xpY2sgPSB0aGlzLl9zdGF0dXNCZWNvbWVQbGF5aW5nLmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMucGF1c2VCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKHRoaXMud2FudHNBdXRvUGF1c2UpIHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuaGlkZGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1c0JlY29tZVBsYXlpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCA1MDApO1xyXG4gICAgICAgICAgICAgICAgLy8gXlRoaXMgZGVsYXkgaXMgZm9yIFwiYWVzdGhldGljXCIgcHVycG9zZXMgKG5vdCBmdW5jdGlvbmFsKS5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAb3ZlcnJpZGVcclxuICAgICAqL1xyXG4gICAgX2Fic3RyYWN0T25CZWZvcmVMZWF2ZShuYXZEaXIpIHtcclxuICAgICAgICBpZiAodGhpcy5hc2tDb25maXJtQmVmb3JlTGVhdmUgJiYgIXdpbmRvdy5jb25maXJtKFwiQXJlIHlvdSBzdXJlIHlvdSB3b3VsZCBsaWtlIHRvIGxlYXZlP1wiKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX29uVmlzaWJpbGl0eUNoYW5nZSkpO1xyXG4gICAgICAgIC8vdGhpcy5fZ3JpZElzZWNPYnNlcnZlci5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgLy8gUmVsZWFzZSB0aGUgZ2FtZTpcclxuICAgICAgICAvLyBTZWUgZG9jcyBpbiBHYW1lLnRzIDogUGF1c2luZyBpcyBkb25lIHRvIGNhbmNlbCBzY2hlZHVsZWQgY2FsbGJhY2tzLlxyXG4gICAgICAgIHRoaXMuY3VycmVudEdhbWUuc3RhdHVzQmVjb21lUGF1c2VkKCk7XHJcbiAgICAgICAgZm9yIChjb25zdCBlbGVtIG9mIE9iamVjdC52YWx1ZXModGhpcy5jdXJyZW50R2FtZS5odG1sRWxlbWVudHMpKSB7XHJcbiAgICAgICAgICAgIC8vIElNUE9SVEFOVCBOT1RFOiBGb3Igc29tZSByZWFzb24sIGNsZWFyaW5nIGNoaWxkcmVuIGZyb20gdGhlXHJcbiAgICAgICAgICAgIC8vIGdyaWQtaW1wbCBlbGVtZW50IGlzIG5lY2Vzc2FyeSB0byBhbGxvdyBmb3IgZ2FyYmFnZSBjb2xsZWN0aW9uXHJcbiAgICAgICAgICAgIC8vIG9mIERPTSBub2RlcyAoYXQgbGVhc3Qgb24gQ2hyb21lKS5cclxuICAgICAgICAgICAgZWxlbS50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICAgICAgICAgIGVsZW0ucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2dyaWRCYXNlRWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9ncmlkT25LZXlEb3duKSk7XHJcbiAgICAgICAgLy8vLyBAdHMtZXhwZWN0LWVycm9yIEV4cGVyaW1lbnQgd2l0aCBmcmVlaW5nIGdyaWQgcmVmZXJlbmNlIHRvIHNwZWVkIHVwIGdhcmJhZ2UgY29sbGVjdGlvbj9cclxuICAgICAgICAvL2dhbWUuZ3JpZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9jdXJyZW50R2FtZSwgdW5kZWZpbmVkKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGdldCBjdXJyZW50R2FtZSgpIHtcclxuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfY3VycmVudEdhbWUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGNsYXNzIGNhbiB1c2UgYSBwcm90ZWN0ZWQgYWxpYXMgdGhhdCBhZHZlcnRpc2VzIHRoZSByZXN1bHRcclxuICAgICAqIGFzIGFsd2F5cyBiZWluZyBkZWZpbmVkLlxyXG4gICAgICovXHJcbiAgICBnZXQgcHJvYmVDdXJyZW50R2FtZSgpIHtcclxuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfY3VycmVudEdhbWUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEbyBub3QgdXNlIHRoaXMgZGlyZWN0bHkuIFNlZSBgdGhpcy4jZ3JpZE9uS2V5RG93bmAuXHJcbiAgICAgKlxyXG4gICAgICogTm90ZSB0aGUgdXNlcyBvZiB0eXBlc2NyaXB0IGAhYCBhc3NlcnRpb24gaW5zdGVhZCBvZiB0aGUgbnVsbGlzaFxyXG4gICAgICogY29hbGVzY2luZyBvcGVyYXRvciBmb3IgYHRoaXMuY3VycmVudEdhbWVgLiBUaGlzIGlzIHNhZmUgYmVjYXVzZVxyXG4gICAgICogdGhpcyBjYWxsYmFjayBpcyBtYW5hZ2VkIGJ5IHRoZSBzY3JlZW4tZW50ZXIgYW5kIGxlYXZlIGhvb2tzIHRvXHJcbiAgICAgKiBvbmx5IGJlIHJlZ2lzdGVyZWQgd2hlbiB0aGUgY3VycmVudCBnYW1lIGlzIGRlZmluZWQsIHNpbmNlIGl0XHJcbiAgICAgKiBkb2Vzbid0IG1ha2Ugc2Vuc2UgdG8gYmUgY2FsbGVkIHdoZW4gdGhlIGdhbWUgaXMgbm90IGRlZmluZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGV2IC1cclxuICAgICAqL1xyXG4gICAgX2dyaWRLZXlEb3duQ2FsbGJhY2soZXYpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhga2V5OiAke2V2LmtleX0sIGNvZGU6ICR7ZXYuY29kZX0sYFxyXG4gICAgICAgIC8vICsgYCBrZXlDb2RlOiAke2V2LmtleUNvZGV9LCBjaGFyOiAke2V2LmNoYXJ9LGBcclxuICAgICAgICAvLyArIGAgY2hhckNvZGU6ICR7ZXYuY2hhckNvZGV9YCk7XHJcbiAgICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgY29uc3QgZ2FtZSA9IHRoaXMuY3VycmVudEdhbWU7XHJcbiAgICAgICAgaWYgKGV2LmN0cmxLZXkgJiYgZXYua2V5ID09PSBcIiBcIiAmJiAhZXYucmVwZWF0KSB7XHJcbiAgICAgICAgICAgIC8vIElmIHN3aXRjaGluZyBvcGVyYXRvcjpcclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0T3BlcmF0b3JFbGVtKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdhbWUuY3VycmVudE9wZXJhdG9yLnN0YXR1cy5pbW1pZ3JhbnRJbmZvLnBsYXllckVsZW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgO1xyXG4gICAgICAgICAgICAvL3RoaXMuX2dyaWRJc2VjT2JzZXJ2ZXIudW5vYnNlcnZlKGdldE9wZXJhdG9yRWxlbSgpKTtcclxuICAgICAgICAgICAgY29uc3Qgb3BlcmF0b3JzID0gZ2FtZS5vcGVyYXRvcnM7XHJcbiAgICAgICAgICAgIGdhbWUuc2V0Q3VycmVudE9wZXJhdG9yKCgxICsgb3BlcmF0b3JzLmluZGV4T2YoZ2FtZS5jdXJyZW50T3BlcmF0b3IpKVxyXG4gICAgICAgICAgICAgICAgJSBvcGVyYXRvcnMubGVuZ3RoKTtcclxuICAgICAgICAgICAgLy9jb25zdCBvcGVyYXRvckVsZW0gPSBnZXRPcGVyYXRvckVsZW0oKTtcclxuICAgICAgICAgICAgLy90aGlzLl9ncmlkSXNlY09ic2VydmVyLm9ic2VydmUob3BlcmF0b3JFbGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFByb2Nlc3MgZXZlbnQgYXMgcmVndWxhciB0eXBpbmc6XHJcbiAgICAgICAgICAgIGdhbWUuY3VycmVudE9wZXJhdG9yLnByb2Nlc3NLZXlib2FyZElucHV0KGV2KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRGlzYWJsZSBzY3JvbGwtZG93biB2aWEgc3BhY2ViYXI6XHJcbiAgICAgICAgaWYgKGV2LmtleSA9PT0gXCIgXCIpIHtcclxuICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIF9zdGF0dXNCZWNvbWVQbGF5aW5nKCkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICBjb25zdCBPSEdEID0gT21Ib29rcy5HcmlkLkRhdGFzZXQuR0FNRV9TVEFURTtcclxuICAgICAgICAoX2EgPSB0aGlzLnByb2JlQ3VycmVudEdhbWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdGF0dXNCZWNvbWVQbGF5aW5nKCk7XHJcbiAgICAgICAgdGhpcy5wYXVzZUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiUGF1c2VcIjtcclxuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9wYXVzZVJlYXNvbiwgdW5kZWZpbmVkKTtcclxuICAgICAgICB0aGlzLl9ncmlkQmFzZUVsZW0uZGF0YXNldFtPSEdELktFWV0gPSBPSEdELlZBTFVFUy5QTEFZSU5HO1xyXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24ub25jbGljayA9IHRoaXMuX3N0YXR1c0JlY29tZVBhdXNlZC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucmVzZXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKHRpbWUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fZ3JpZEJhc2VFbGVtLmZvY3VzKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfc3RhdHVzQmVjb21lUGF1c2VkKCkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICBjb25zdCBPSEdEID0gT21Ib29rcy5HcmlkLkRhdGFzZXQuR0FNRV9TVEFURTtcclxuICAgICAgICAoX2EgPSB0aGlzLnByb2JlQ3VycmVudEdhbWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdGF0dXNCZWNvbWVQYXVzZWQoKTtcclxuICAgICAgICB0aGlzLnBhdXNlQnV0dG9uLnRleHRDb250ZW50ID0gXCJVbnBhdXNlXCI7XHJcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfcGF1c2VSZWFzb24sIGRvY3VtZW50LmhpZGRlbiA/IFwicGFnZS1oaWRlXCIgOiBcIm90aGVyXCIpO1xyXG4gICAgICAgIHRoaXMuX2dyaWRCYXNlRWxlbS5kYXRhc2V0W09IR0QuS0VZXSA9IE9IR0QuVkFMVUVTLlBBVVNFRDtcclxuICAgICAgICB0aGlzLnBhdXNlQnV0dG9uLm9uY2xpY2sgPSB0aGlzLl9zdGF0dXNCZWNvbWVQbGF5aW5nLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5yZXNldEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBIGNhbGxiYWNrIHBhc3NlZCB0byB0aGUgY29uc3RydWN0ZWQgZ2FtZSB0byBjYWxsIHdoZW4gaXQgZW5kcy5cclxuICAgICAqL1xyXG4gICAgX29uR2FtZUJlY29tZU92ZXIoKSB7XHJcbiAgICAgICAgY29uc3QgT0hHRCA9IE9tSG9va3MuR3JpZC5EYXRhc2V0LkdBTUVfU1RBVEU7XHJcbiAgICAgICAgdGhpcy5wYXVzZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5yZXNldEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX2dyaWRCYXNlRWxlbS5kYXRhc2V0W09IR0QuS0VZXSA9IE9IR0QuVkFMVUVTLk9WRVI7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNob3VsZCBvbmx5IGJlIGNhbGxlZCBpZiBhbGwgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XHJcbiAgICAgKiAtIFRoZSBjdXJyZW50IGdhbWUgZXhpc3RzLlxyXG4gICAgICogLSBUaGUgY3VycmVudCBnYW1lIGlzIHBhdXNlZCBvciBpdCBpcyBvdmVyLlxyXG4gICAgICovXHJcbiAgICBfcmVzZXRHYW1lKCkge1xyXG4gICAgICAgIHRoaXMuY3VycmVudEdhbWUucmVzZXQoKTtcclxuICAgICAgICB0aGlzLnBhdXNlQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMud2FudHNBdXRvUGF1c2UpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3RhdHVzQmVjb21lUGxheWluZygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgX2luaXRpYWxpemVDb250cm9sc0JhcigpIHtcclxuICAgICAgICBjb25zdCBjb250cm9sc0JhciA9IEpzVXRpbHMubWtFbChcImRpdlwiLCBbXHJcbiAgICAgICAgICAgIE9tSG9va3MuR2VuZXJhbC5DbGFzcy5DRU5URVJfQ09OVEVOVFMsXHJcbiAgICAgICAgICAgIE9tSG9va3MuR2VuZXJhbC5DbGFzcy5JTlBVVF9HUk9VUCxcclxuICAgICAgICAgICAgT21Ib29rcy5TY3JlZW4uSW1wbC5QbGF5LkNsYXNzLkNPTlRST0xTX0JBUixcclxuICAgICAgICBdKTtcclxuICAgICAgICBjb250cm9sc0Jhci5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwibWVudVwiKTtcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVDb250cm9sQnV0dG9uKGJ1dHRvblRleHQsIGJ1dHRvbikge1xyXG4gICAgICAgICAgICBidXR0b24gPSBidXR0b24gIT09IG51bGwgJiYgYnV0dG9uICE9PSB2b2lkIDAgPyBidXR0b24gOiBKc1V0aWxzLm1rRWwoXCJidXR0b25cIiwgW10pO1xyXG4gICAgICAgICAgICAvLyBOb3RlIHRoYXQgdGhlc2UgYmVsb3cgYXJlIHNldCBvdXRzaWRlIG9mIG1rRWwsIHNpbmNlIHRoZXlcclxuICAgICAgICAgICAgLy8gbXVzdCBhcHBseSBpZiBhIGJ1dHRvbiBpcyBwcm92aWRlZCBhcyBhbiBhcmd1bWVudC5cclxuICAgICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoT21Ib29rcy5HZW5lcmFsLkNsYXNzLklOUFVUX0dST1VQX0lURU0pO1xyXG4gICAgICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSBidXR0b25UZXh0O1xyXG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJlbnRlclwiLCAoZXYpID0+IHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKHRpbWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBidXR0b24uZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29udHJvbHNCYXIuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcclxuICAgICAgICAgICAgcmV0dXJuIGJ1dHRvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29udHJvbHNCYXIuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJsZWF2ZVwiLCAoZXYpID0+IHtcclxuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgodGltZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZ3JpZEJhc2VFbGVtLmZvY3VzKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgYnRoID0gY3JlYXRlQ29udHJvbEJ1dHRvbihcIjxCYWNrIEJ1dHRvbiBUZXh0PlwiLCB0aGlzLm5hdi5wcmV2KTtcclxuICAgICAgICB9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBwYXVzZSBcclxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciA6IFJPPVxyXG4gICAgICAgICAgICA9IHRoaXMucGF1c2VCdXR0b25cclxuICAgICAgICAgICAgICAgID0gY3JlYXRlQ29udHJvbEJ1dHRvbihcIlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCByZXNldCBcclxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciA6IFJPPVxyXG4gICAgICAgICAgICA9IHRoaXMucmVzZXRCdXR0b25cclxuICAgICAgICAgICAgICAgID0gY3JlYXRlQ29udHJvbEJ1dHRvbihcIlJlc2V0XCIpO1xyXG4gICAgICAgICAgICByZXNldC5vbmNsaWNrID0gdGhpcy5fcmVzZXRHYW1lLmJpbmQodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEpzVXRpbHMucHJvcE5vV3JpdGUodGhpcywgW1wicGF1c2VCdXR0b25cIiwgXCJyZXNldEJ1dHRvblwiXSk7XHJcbiAgICAgICAgdGhpcy5iYXNlRWxlbS5hcHBlbmRDaGlsZChjb250cm9sc0Jhcik7XHJcbiAgICB9XHJcbiAgICBfaW5pdGlhbGl6ZVBsYXllcnNCYXIoKSB7XHJcbiAgICAgICAgY29uc3QgcGxheWVyc0JhciBcclxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIDogUk89XHJcbiAgICAgICAgPSB0aGlzLnBsYXllcnNCYXJcclxuICAgICAgICAgICAgPSBKc1V0aWxzLm1rRWwoXCJkaXZcIiwgW09tSG9va3MuU2NyZWVuLkltcGwuUGxheS5DbGFzcy5QTEFZRVJTX0JBUl0pO1xyXG4gICAgICAgIEpzVXRpbHMucHJvcE5vV3JpdGUodGhpcywgW1wicGxheWVyc0JhclwiXSk7XHJcbiAgICAgICAgdGhpcy5iYXNlRWxlbS5hcHBlbmRDaGlsZChwbGF5ZXJzQmFyKTtcclxuICAgIH1cclxufVxyXG5fY3VycmVudEdhbWUgPSBuZXcgV2Vha01hcCgpLCBfb25WaXNpYmlsaXR5Q2hhbmdlID0gbmV3IFdlYWtNYXAoKSwgX2dyaWRPbktleURvd24gPSBuZXcgV2Vha01hcCgpLCBfcGF1c2VSZWFzb24gPSBuZXcgV2Vha01hcCgpO1xyXG4oZnVuY3Rpb24gKF9QbGF5U2NyZWVuKSB7XHJcbiAgICAvKipcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gY3JlYXRlQ2VudGVyQ29sRWxlbSgpIHtcclxuICAgICAgICBjb25zdCBPTUhDID0gT21Ib29rcy5HcmlkLkNsYXNzO1xyXG4gICAgICAgIGNvbnN0IENTU19GWCA9IE9tSG9va3MuR2VuZXJhbC5DbGFzcztcclxuICAgICAgICBjb25zdCBiYXNlID0gSnNVdGlscy5ta0VsKFwiZGl2XCIsIFtPbUhvb2tzLlNjcmVlbi5JbXBsLlBsYXkuQ2xhc3MuR1JJRF9XUkFQUEVSXSk7XHJcbiAgICAgICAgY29uc3QgZ3JpZCA9IEpzVXRpbHMubWtFbChcImRpdlwiLCBbXHJcbiAgICAgICAgICAgIC8vQ1NTX0ZYLkNFTlRFUl9DT05URU5UUyxcclxuICAgICAgICAgICAgQ1NTX0ZYLlNUQUNLX0NPTlRFTlRTLFxyXG4gICAgICAgICAgICBDU1NfRlguVEVYVF9TRUxFQ1RfRElTQUJMRUQsXHJcbiAgICAgICAgICAgIE9NSEMuR1JJRCxcclxuICAgICAgICBdLCB7IHRhYkluZGV4OiAwIH0pO1xyXG4gICAgICAgIGdyaWQuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcInRleHRib3hcIik7XHJcbiAgICAgICAgZ3JpZC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIFwiR2FtZSBHcmlkXCIpO1xyXG4gICAgICAgIC8vIEdyaWQgU2Nyb2xsIFdyYXBwZXI6XHJcbiAgICAgICAgY29uc3Qgc2Nyb2xsT3V0ZXIgPSBKc1V0aWxzLm1rRWwoXCJkaXZcIiwgW1xyXG4gICAgICAgICAgICAvL0NTU19GWC5GSUxMX1BBUkVOVCxcclxuICAgICAgICAgICAgT01IQy5TQ1JPTExfT1VURVIsXHJcbiAgICAgICAgXSk7XHJcbiAgICAgICAgc2Nyb2xsT3V0ZXIuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcInByZXNlbnRhdGlvblwiKTtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIEFkZCBhIFwia2V5Ym9hcmQtZGlzY29ubmVjdGVkXCIgb3ZlcmxheSBpZiBub3QgYWRkZWQgYWxyZWFkeTpcclxuICAgICAgICAgICAgY29uc3Qga2JkRGNCYXNlID0gSnNVdGlscy5ta0VsKFwiZGl2XCIsIFtcclxuICAgICAgICAgICAgICAgIENTU19GWC5GSUxMX1BBUkVOVCxcclxuICAgICAgICAgICAgICAgIENTU19GWC5DRU5URVJfQ09OVEVOVFMsXHJcbiAgICAgICAgICAgICAgICBPTUhDLktCRF9EQyxcclxuICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIC8vIFRPRE8uaW1wbCBBZGQgYW4gPHN2Zz4gd2l0aCBpY29uIGluc3RlYWQgcGxlYXNlLlxyXG4gICAgICAgICAgICBrYmREY0Jhc2UuYXBwZW5kQ2hpbGQoSnNVdGlscy5ta0VsKFwiZGl2XCIsIFtPTUhDLktCRF9EQ19JQ09OXSwge1xyXG4gICAgICAgICAgICAgICAgdGV4dENvbnRlbnQ6IFwiKGNsaWNrIGhlcmUgdG8gY29udGludWUgdHlwaW5nKVwiLFxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIHNjcm9sbE91dGVyLmFwcGVuZENoaWxkKGtiZERjQmFzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHBhdXNlT2wgPSBKc1V0aWxzLm1rRWwoXCJkaXZcIiwgW1xyXG4gICAgICAgICAgICBDU1NfRlguRklMTF9QQVJFTlQsXHJcbiAgICAgICAgICAgIENTU19GWC5DRU5URVJfQ09OVEVOVFMsXHJcbiAgICAgICAgICAgIE9NSEMuUEFVU0VfT0wsXHJcbiAgICAgICAgXSwge30pO1xyXG4gICAgICAgIHBhdXNlT2wuYXBwZW5kQ2hpbGQoSnNVdGlscy5ta0VsKFwiZGl2XCIsIFtPTUhDLlBBVVNFX09MX0lDT05dLCB7XHJcbiAgICAgICAgICAgIHRleHRDb250ZW50OiBcIihDbGljayB0byBVbnBhdXNlKVwiXHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIHNjcm9sbE91dGVyLmFwcGVuZENoaWxkKHBhdXNlT2wpO1xyXG4gICAgICAgIC8vIGNvbnN0IGludGVyc2VjdGlvblJvb3QgPSBKc1V0aWxzLm1rRWwoXCJkaXZcIiwgW10pO1xyXG4gICAgICAgIC8vIGludGVyc2VjdGlvblJvb3Quc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xyXG4gICAgICAgIC8vIGludGVyc2VjdGlvblJvb3QuY2xhc3NMaXN0LmFkZChcclxuICAgICAgICAvLyAgICAgQ1NTX0ZYLkZJTExfUEFSRU5ULFxyXG4gICAgICAgIC8vICAgICBPTUhDLlBMQVlFUl9JT0JfUk9PVCxcclxuICAgICAgICAvLyApO1xyXG4gICAgICAgIC8vIHNjcm9sbE91dGVyLmFwcGVuZENoaWxkKGludGVyc2VjdGlvblJvb3QpO1xyXG4gICAgICAgIGdyaWQuYXBwZW5kQ2hpbGQoc2Nyb2xsT3V0ZXIpO1xyXG4gICAgICAgIGJhc2UuYXBwZW5kQ2hpbGQoZ3JpZCk7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xyXG4gICAgICAgICAgICB0b3A6IGJhc2UsXHJcbiAgICAgICAgICAgIGdyaWQsXHJcbiAgICAgICAgICAgIGludGVyc2VjdGlvblJvb3Q6IHNjcm9sbE91dGVyLFxyXG4gICAgICAgICAgICBpbXBsSG9zdDogc2Nyb2xsT3V0ZXIsXHJcbiAgICAgICAgICAgIHBhdXNlT2w6IHBhdXNlT2wsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfUGxheVNjcmVlbi5jcmVhdGVDZW50ZXJDb2xFbGVtID0gY3JlYXRlQ2VudGVyQ29sRWxlbTtcclxufSkoX1BsYXlTY3JlZW4gfHwgKF9QbGF5U2NyZWVuID0ge30pKTtcclxuSnNVdGlscy5wcm90b05vRW51bShfUGxheVNjcmVlbiwgW1xyXG4gICAgXCJwcm9iZUN1cnJlbnRHYW1lXCIsXHJcbl0pO1xyXG5Kc1V0aWxzLmluc3ROb0VudW0oX1BsYXlTY3JlZW4sIFtcclxuICAgIFwiY3JlYXRlQ2VudGVyQ29sRWxlbVwiLFxyXG5dKTtcclxuT2JqZWN0LmZyZWV6ZShfUGxheVNjcmVlbik7XHJcbk9iamVjdC5mcmVlemUoX1BsYXlTY3JlZW4ucHJvdG90eXBlKTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/client/screen/impl/Play.ts\n");

/***/ }),

/***/ "./src/client/screen/impl/PlayOffline.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PlayOfflineScreen\": () => /* binding */ PlayOfflineScreen\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _SkScreen__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/client/screen/SkScreen.ts\");\n/* harmony import */ var _Play__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/client/screen/impl/Play.ts\");\n\r\n\r\n\r\n/**\r\n *\r\n */\r\nclass PlayOfflineScreen extends _Play__WEBPACK_IMPORTED_MODULE_1__._PlayScreen {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * @override\r\n         */\r\n        this.wantsAutoPause = true;\r\n        /**\r\n         * @override\r\n         */\r\n        this.askConfirmBeforeLeave = true;\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    _lazyLoad() {\r\n        super._lazyLoad();\r\n        this.nav.prev.innerHTML = \"Return To&nbsp;Setup\";\r\n        // ^Prevent jank due to pointer hover animation.\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    _createNewGame(ctorArgs) {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__awaiter)(this, void 0, void 0, function* () {\r\n            // TODO.impl use game-setup args passed in from _abstractOnBeforeEnter\r\n            return new (yield Promise.all(/* import() | game/offline */[__webpack_require__.e(\"src_base_game_gameparts_GamepartEvents_ts-src_client_game_BrowserGame_ts\"), __webpack_require__.e(\"game/offline\")]).then(__webpack_require__.bind(__webpack_require__, \"./src/client/game/OfflineGame.ts\"))).OfflineGame(this._onGameBecomeOver.bind(this), ctorArgs);\r\n        });\r\n    }\r\n}\r\nObject.freeze(PlayOfflineScreen);\r\nObject.freeze(PlayOfflineScreen.prototype);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L3NjcmVlbi9pbXBsL1BsYXlPZmZsaW5lLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc25ha2V5My8uL3NyYy9jbGllbnQvc2NyZWVuL2ltcGwvUGxheU9mZmxpbmUudHM/ZTU1OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2F3YWl0ZXIgfSBmcm9tIFwidHNsaWJcIjtcclxuaW1wb3J0IFwiLi4vU2tTY3JlZW5cIjtcclxuaW1wb3J0IHsgX1BsYXlTY3JlZW4gfSBmcm9tIFwiLi9QbGF5XCI7XHJcbi8qKlxyXG4gKlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFBsYXlPZmZsaW5lU2NyZWVuIGV4dGVuZHMgX1BsYXlTY3JlZW4ge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAb3ZlcnJpZGVcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLndhbnRzQXV0b1BhdXNlID0gdHJ1ZTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAb3ZlcnJpZGVcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmFza0NvbmZpcm1CZWZvcmVMZWF2ZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBvdmVycmlkZVxyXG4gICAgICovXHJcbiAgICBfbGF6eUxvYWQoKSB7XHJcbiAgICAgICAgc3VwZXIuX2xhenlMb2FkKCk7XHJcbiAgICAgICAgdGhpcy5uYXYucHJldi5pbm5lckhUTUwgPSBcIlJldHVybiBUbyZuYnNwO1NldHVwXCI7XHJcbiAgICAgICAgLy8gXlByZXZlbnQgamFuayBkdWUgdG8gcG9pbnRlciBob3ZlciBhbmltYXRpb24uXHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBvdmVycmlkZVxyXG4gICAgICovXHJcbiAgICBfY3JlYXRlTmV3R2FtZShjdG9yQXJncykge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFRPRE8uaW1wbCB1c2UgZ2FtZS1zZXR1cCBhcmdzIHBhc3NlZCBpbiBmcm9tIF9hYnN0cmFjdE9uQmVmb3JlRW50ZXJcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyAoeWllbGQgaW1wb3J0KFxyXG4gICAgICAgICAgICAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcImdhbWUvb2ZmbGluZVwiICovXHJcbiAgICAgICAgICAgIFwiLi4vLi4vZ2FtZS9PZmZsaW5lR2FtZVwiKSkuT2ZmbGluZUdhbWUodGhpcy5fb25HYW1lQmVjb21lT3Zlci5iaW5kKHRoaXMpLCBjdG9yQXJncyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmZyZWV6ZShQbGF5T2ZmbGluZVNjcmVlbik7XHJcbk9iamVjdC5mcmVlemUoUGxheU9mZmxpbmVTY3JlZW4ucHJvdG90eXBlKTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBTQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/client/screen/impl/PlayOffline.ts\n");

/***/ }),

/***/ "./src/client/screen/impl/PlayOnline.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PlayOnlineScreen\": () => /* binding */ PlayOnlineScreen\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/base/defs/OnlineDefs.ts\");\n/* harmony import */ var _SkScreen__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/client/screen/SkScreen.ts\");\n/* harmony import */ var _Play__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/client/screen/impl/Play.ts\");\n\r\n\r\n\r\n\r\n/**\r\n *\r\n */\r\nclass PlayOnlineScreen extends _Play__WEBPACK_IMPORTED_MODULE_2__._PlayScreen {\r\n    constructor() {\r\n        super(...arguments);\r\n        /**\r\n         * @override\r\n         */\r\n        this.askConfirmBeforeLeave = false;\r\n        /**\r\n         * @override\r\n         */\r\n        this.wantsAutoPause = false;\r\n    }\r\n    get socket() {\r\n        return this.top.sockets.gameSocket;\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    _lazyLoad() {\r\n        super._lazyLoad();\r\n        this.nav.prev.innerHTML = \"Return To&nbsp;Lobby\";\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    _abstractOnBeforeLeave(navDir) {\r\n        const leaveConfirmed = super._abstractOnBeforeLeave(navDir);\r\n        if (leaveConfirmed) {\r\n            this.socket.emit(defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_0__.GameEv.RETURN_TO_LOBBY);\r\n            this.socket.removeAllListeners();\r\n        }\r\n        return leaveConfirmed;\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    _createNewGame(ctorArgs) {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__awaiter)(this, void 0, void 0, function* () {\r\n            const game = new (yield Promise.all(/* import() | game/online */[__webpack_require__.e(\"src_base_game_gameparts_GamepartEvents_ts-src_client_game_BrowserGame_ts\"), __webpack_require__.e(\"game/online\")]).then(__webpack_require__.bind(__webpack_require__, \"./src/client/game/OnlineGame.ts\"))).OnlineGame(this._onGameBecomeOver.bind(this), this.top.sockets.gameSocket, ctorArgs);\r\n            this.top.sockets.gameSocket\r\n                .on(defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_0__.GameEv.UNPAUSE, () => {\r\n                this._statusBecomePlaying();\r\n            })\r\n                .on(defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_0__.GameEv.PAUSE, () => {\r\n                this._statusBecomePaused();\r\n            })\r\n                .on(defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_0__.GameEv.RETURN_TO_LOBBY, (socketId) => {\r\n                if (socketId === undefined) {\r\n                    // Everyone is being sent back to the lobby:\r\n                    // this.currentGame.statusBecomeOver(); <- This is handled by `super._onBeforeLeave`.\r\n                    this.nav.prev.click();\r\n                }\r\n                else {\r\n                    // Handle a player leaving:\r\n                }\r\n            });\r\n            return Promise.resolve(game);\r\n        });\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    _onGameBecomeOver() {\r\n        super._onGameBecomeOver();\r\n    }\r\n}\r\nObject.freeze(PlayOnlineScreen);\r\nObject.freeze(PlayOnlineScreen.prototype);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L3NjcmVlbi9pbXBsL1BsYXlPbmxpbmUudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbmFrZXkzLy4vc3JjL2NsaWVudC9zY3JlZW4vaW1wbC9QbGF5T25saW5lLnRzPzI2Y2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSBcInRzbGliXCI7XHJcbmltcG9ydCB7IEdhbWVFdiB9IGZyb20gXCJkZWZzL09ubGluZURlZnNcIjtcclxuaW1wb3J0IFwiLi4vU2tTY3JlZW5cIjtcclxuaW1wb3J0IHsgX1BsYXlTY3JlZW4gfSBmcm9tIFwiLi9QbGF5XCI7XHJcbi8qKlxyXG4gKlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFBsYXlPbmxpbmVTY3JlZW4gZXh0ZW5kcyBfUGxheVNjcmVlbiB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBvdmVycmlkZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuYXNrQ29uZmlybUJlZm9yZUxlYXZlID0gZmFsc2U7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQG92ZXJyaWRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy53YW50c0F1dG9QYXVzZSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgZ2V0IHNvY2tldCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50b3Auc29ja2V0cy5nYW1lU29ja2V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAb3ZlcnJpZGVcclxuICAgICAqL1xyXG4gICAgX2xhenlMb2FkKCkge1xyXG4gICAgICAgIHN1cGVyLl9sYXp5TG9hZCgpO1xyXG4gICAgICAgIHRoaXMubmF2LnByZXYuaW5uZXJIVE1MID0gXCJSZXR1cm4gVG8mbmJzcDtMb2JieVwiO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAb3ZlcnJpZGVcclxuICAgICAqL1xyXG4gICAgX2Fic3RyYWN0T25CZWZvcmVMZWF2ZShuYXZEaXIpIHtcclxuICAgICAgICBjb25zdCBsZWF2ZUNvbmZpcm1lZCA9IHN1cGVyLl9hYnN0cmFjdE9uQmVmb3JlTGVhdmUobmF2RGlyKTtcclxuICAgICAgICBpZiAobGVhdmVDb25maXJtZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zb2NrZXQuZW1pdChHYW1lRXYuUkVUVVJOX1RPX0xPQkJZKTtcclxuICAgICAgICAgICAgdGhpcy5zb2NrZXQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBsZWF2ZUNvbmZpcm1lZDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQG92ZXJyaWRlXHJcbiAgICAgKi9cclxuICAgIF9jcmVhdGVOZXdHYW1lKGN0b3JBcmdzKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgY29uc3QgZ2FtZSA9IG5ldyAoeWllbGQgaW1wb3J0KFxyXG4gICAgICAgICAgICAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcImdhbWUvb25saW5lXCIgKi9cclxuICAgICAgICAgICAgXCIuLi8uLi9nYW1lL09ubGluZUdhbWVcIikpLk9ubGluZUdhbWUodGhpcy5fb25HYW1lQmVjb21lT3Zlci5iaW5kKHRoaXMpLCB0aGlzLnRvcC5zb2NrZXRzLmdhbWVTb2NrZXQsIGN0b3JBcmdzKTtcclxuICAgICAgICAgICAgdGhpcy50b3Auc29ja2V0cy5nYW1lU29ja2V0XHJcbiAgICAgICAgICAgICAgICAub24oR2FtZUV2LlVOUEFVU0UsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1c0JlY29tZVBsYXlpbmcoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5vbihHYW1lRXYuUEFVU0UsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1c0JlY29tZVBhdXNlZCgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLm9uKEdhbWVFdi5SRVRVUk5fVE9fTE9CQlksIChzb2NrZXRJZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNvY2tldElkID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBFdmVyeW9uZSBpcyBiZWluZyBzZW50IGJhY2sgdG8gdGhlIGxvYmJ5OlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuY3VycmVudEdhbWUuc3RhdHVzQmVjb21lT3ZlcigpOyA8LSBUaGlzIGlzIGhhbmRsZWQgYnkgYHN1cGVyLl9vbkJlZm9yZUxlYXZlYC5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5hdi5wcmV2LmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgYSBwbGF5ZXIgbGVhdmluZzpcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZ2FtZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBvdmVycmlkZVxyXG4gICAgICovXHJcbiAgICBfb25HYW1lQmVjb21lT3ZlcigpIHtcclxuICAgICAgICBzdXBlci5fb25HYW1lQmVjb21lT3ZlcigpO1xyXG4gICAgfVxyXG59XHJcbk9iamVjdC5mcmVlemUoUGxheU9ubGluZVNjcmVlbik7XHJcbk9iamVjdC5mcmVlemUoUGxheU9ubGluZVNjcmVlbi5wcm90b3R5cGUpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNlNBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/client/screen/impl/PlayOnline.ts\n");

/***/ }),

/***/ "./src/client/screen/impl/Setup.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"_SetupScreen\": () => /* binding */ _SetupScreen\n/* harmony export */ });\n/* harmony import */ var defs_TypeDefs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/base/defs/TypeDefs.ts\");\n/* harmony import */ var _utils_SkPickOne__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/client/utils/SkPickOne.ts\");\n/* harmony import */ var _SkScreen__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/client/screen/SkScreen.ts\");\n\r\n\r\n\r\nconst OMHC = _SkScreen__WEBPACK_IMPORTED_MODULE_2__.OmHooks.Screen.Impl.Setup.Class;\r\n/**\r\n * What coordinate systems are available will depend on what language\r\n * the user chooses.\r\n *\r\n * Implementation Note: subclasses must implement the `onClick`\r\n * behaviour of the `_nextBtn` and `_prevBtn` buttons.\r\n */\r\n// TODO.learn how to use the IndexDB web API.\r\nclass _SetupScreen extends _SkScreen__WEBPACK_IMPORTED_MODULE_2__.SkScreen {\r\n    /**\r\n     * @override\r\n     */\r\n    _lazyLoad() {\r\n        this.baseElem.classList.add(OMHC.BASE);\r\n        this.baseElem.appendChild(this.nav.prev);\r\n        // Language selection component:\r\n        // @ts-expect-error : RO=\r\n        this.langSel = new _SetupScreen.LangPickOne();\r\n        this.baseElem.appendChild(this.langSel.baseElem);\r\n        this._createLangWeightExaggerationInput();\r\n        _SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.propNoWrite(this, [\"langSel\", \"langWeightExaggeration\"]);\r\n        this.baseElem.appendChild(this.nav.next);\r\n        this._loadLastUsedPreset();\r\n    }\r\n    _createLangWeightExaggerationInput() {\r\n        const lwe \r\n        // @ts-expect-error : RO=\r\n        = this.langWeightExaggeration\r\n            = _SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.mkEl(\"input\", [OMHC.LANG_WEIGHT_EXAGG], {\r\n                type: \"range\",\r\n                min: \"0\",\r\n                max: defs_TypeDefs__WEBPACK_IMPORTED_MODULE_0__.Lang.WeightExaggeration.MAX.toString(),\r\n                step: \"any\",\r\n                value: \"1\",\r\n            });\r\n        {\r\n            const list = _SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.mkEl(\"datalist\", []);\r\n            list.id = _SkScreen__WEBPACK_IMPORTED_MODULE_2__.OmHooks.Screen.Impl.Setup.Id.LANG_WEIGHT_EXAGGERATION_LIST;\r\n            [{ val: 0, label: \"0\" }, { val: 1, label: \"1\" }].forEach((tickDesc) => {\r\n                list.appendChild(_SkScreen__WEBPACK_IMPORTED_MODULE_2__.JsUtils.mkEl(\"option\", [], {\r\n                    value: tickDesc.val.toString(),\r\n                    label: tickDesc.label,\r\n                }));\r\n            });\r\n            this.baseElem.appendChild(list);\r\n        }\r\n        lwe.setAttribute(\"list\", _SkScreen__WEBPACK_IMPORTED_MODULE_2__.OmHooks.Screen.Impl.Setup.Id.LANG_WEIGHT_EXAGGERATION_LIST);\r\n        this.baseElem.appendChild(lwe);\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    getRecommendedFocusElem() {\r\n        return this.nav.next;\r\n    }\r\n    /**\r\n     * Load the user's last used preset to the gui controls.\r\n     */\r\n    _loadLastUsedPreset() {\r\n        // TODO.impl\r\n        const lastUsedPresetId = this.top.storage.Local.gamePresetId;\r\n    }\r\n    /**\r\n     * A helper for going to the next screen.\r\n     */\r\n    parseArgsFromGui() {\r\n        // TODO.impl\r\n        const args = Object.assign({}, _SetupScreen.DEFAULT_PRESET());\r\n        // ^temporary default until _loadLastUsedPreset is implemented.\r\n        args.langId = this.langSel.confirmedOpt.desc.id;\r\n        args.langWeightExaggeration = parseFloat(this.langWeightExaggeration.value);\r\n        return args;\r\n    }\r\n}\r\n(function (_SetupScreen) {\r\n    _SetupScreen.DEFAULT_PRESET = () => {\r\n        return {\r\n            coordSys: \"EUCLID2\",\r\n            gridDimensions: {\r\n                height: 21,\r\n                width: 21,\r\n            },\r\n            averageFreeHealthPerTile: 1.0 / 45.0,\r\n            langWeightExaggeration: 1.0,\r\n            langId: \"engl-low\",\r\n            playerDescs: (() => [{\r\n                    isALocalOperator: false,\r\n                    familyId: \"CHASER\",\r\n                    teamId: 1,\r\n                    clientId: undefined,\r\n                    username: \"chaser1\",\r\n                    avatar: undefined,\r\n                    noCheckGameOver: true,\r\n                    familyArgs: { /* Uses all defaults. */},\r\n                }, {\r\n                    isALocalOperator: false,\r\n                    familyId: \"CHASER\",\r\n                    teamId: 1,\r\n                    clientId: undefined,\r\n                    username: \"chaser2\",\r\n                    avatar: undefined,\r\n                    noCheckGameOver: true,\r\n                    familyArgs: {\r\n                        fearDistance: 6,\r\n                        bloodThirstDistance: 5,\r\n                        healthReserve: 5.0,\r\n                        keyPressesPerSecond: 1.8,\r\n                    },\r\n                }])(),\r\n        };\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    class LangPickOne extends _utils_SkPickOne__WEBPACK_IMPORTED_MODULE_1__.SkPickOne {\r\n        constructor() {\r\n            super();\r\n            this.baseElem.classList.add(OMHC.LANG_SEL);\r\n            defs_TypeDefs__WEBPACK_IMPORTED_MODULE_0__.Lang.FrontendDescs.forEach((desc) => {\r\n                this.addOption(new LangPickOne.Option(desc));\r\n            });\r\n            this.selectOpt(this.options[0]);\r\n        }\r\n        _onHoverOpt(opt) {\r\n            ;\r\n        }\r\n        _onSelectOpt(opt) {\r\n            ;\r\n        }\r\n    }\r\n    _SetupScreen.LangPickOne = LangPickOne;\r\n    (function (LangPickOne) {\r\n        /**\r\n         *\r\n         */\r\n        class Option extends _utils_SkPickOne__WEBPACK_IMPORTED_MODULE_1__.SkPickOne._Option {\r\n            constructor(desc) {\r\n                super();\r\n                this.desc = desc;\r\n                this.baseElem.textContent = desc.displayName;\r\n            }\r\n        }\r\n        LangPickOne.Option = Option;\r\n        Object.freeze(Option);\r\n        Object.freeze(Option.prototype);\r\n    })(LangPickOne = _SetupScreen.LangPickOne || (_SetupScreen.LangPickOne = {}));\r\n})(_SetupScreen || (_SetupScreen = {}));\r\nObject.freeze(_SetupScreen);\r\nObject.freeze(_SetupScreen.prototype);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L3NjcmVlbi9pbXBsL1NldHVwLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc25ha2V5My8uL3NyYy9jbGllbnQvc2NyZWVuL2ltcGwvU2V0dXAudHM/NjgyMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMYW5nIH0gZnJvbSBcImRlZnMvVHlwZURlZnNcIjtcclxuaW1wb3J0IHsgU2tQaWNrT25lIH0gZnJvbSBcIi4uLy4uL3V0aWxzL1NrUGlja09uZVwiO1xyXG5pbXBvcnQgeyBKc1V0aWxzLCBPbUhvb2tzLCBTa1NjcmVlbiB9IGZyb20gXCIuLi9Ta1NjcmVlblwiO1xyXG5jb25zdCBPTUhDID0gT21Ib29rcy5TY3JlZW4uSW1wbC5TZXR1cC5DbGFzcztcclxuLyoqXHJcbiAqIFdoYXQgY29vcmRpbmF0ZSBzeXN0ZW1zIGFyZSBhdmFpbGFibGUgd2lsbCBkZXBlbmQgb24gd2hhdCBsYW5ndWFnZVxyXG4gKiB0aGUgdXNlciBjaG9vc2VzLlxyXG4gKlxyXG4gKiBJbXBsZW1lbnRhdGlvbiBOb3RlOiBzdWJjbGFzc2VzIG11c3QgaW1wbGVtZW50IHRoZSBgb25DbGlja2BcclxuICogYmVoYXZpb3VyIG9mIHRoZSBgX25leHRCdG5gIGFuZCBgX3ByZXZCdG5gIGJ1dHRvbnMuXHJcbiAqL1xyXG4vLyBUT0RPLmxlYXJuIGhvdyB0byB1c2UgdGhlIEluZGV4REIgd2ViIEFQSS5cclxuZXhwb3J0IGNsYXNzIF9TZXR1cFNjcmVlbiBleHRlbmRzIFNrU2NyZWVuIHtcclxuICAgIC8qKlxyXG4gICAgICogQG92ZXJyaWRlXHJcbiAgICAgKi9cclxuICAgIF9sYXp5TG9hZCgpIHtcclxuICAgICAgICB0aGlzLmJhc2VFbGVtLmNsYXNzTGlzdC5hZGQoT01IQy5CQVNFKTtcclxuICAgICAgICB0aGlzLmJhc2VFbGVtLmFwcGVuZENoaWxkKHRoaXMubmF2LnByZXYpO1xyXG4gICAgICAgIC8vIExhbmd1YWdlIHNlbGVjdGlvbiBjb21wb25lbnQ6XHJcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciA6IFJPPVxyXG4gICAgICAgIHRoaXMubGFuZ1NlbCA9IG5ldyBfU2V0dXBTY3JlZW4uTGFuZ1BpY2tPbmUoKTtcclxuICAgICAgICB0aGlzLmJhc2VFbGVtLmFwcGVuZENoaWxkKHRoaXMubGFuZ1NlbC5iYXNlRWxlbSk7XHJcbiAgICAgICAgdGhpcy5fY3JlYXRlTGFuZ1dlaWdodEV4YWdnZXJhdGlvbklucHV0KCk7XHJcbiAgICAgICAgSnNVdGlscy5wcm9wTm9Xcml0ZSh0aGlzLCBbXCJsYW5nU2VsXCIsIFwibGFuZ1dlaWdodEV4YWdnZXJhdGlvblwiXSk7XHJcbiAgICAgICAgdGhpcy5iYXNlRWxlbS5hcHBlbmRDaGlsZCh0aGlzLm5hdi5uZXh0KTtcclxuICAgICAgICB0aGlzLl9sb2FkTGFzdFVzZWRQcmVzZXQoKTtcclxuICAgIH1cclxuICAgIF9jcmVhdGVMYW5nV2VpZ2h0RXhhZ2dlcmF0aW9uSW5wdXQoKSB7XHJcbiAgICAgICAgY29uc3QgbHdlIFxyXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgOiBSTz1cclxuICAgICAgICA9IHRoaXMubGFuZ1dlaWdodEV4YWdnZXJhdGlvblxyXG4gICAgICAgICAgICA9IEpzVXRpbHMubWtFbChcImlucHV0XCIsIFtPTUhDLkxBTkdfV0VJR0hUX0VYQUdHXSwge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJyYW5nZVwiLFxyXG4gICAgICAgICAgICAgICAgbWluOiBcIjBcIixcclxuICAgICAgICAgICAgICAgIG1heDogTGFuZy5XZWlnaHRFeGFnZ2VyYXRpb24uTUFYLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICBzdGVwOiBcImFueVwiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiMVwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpc3QgPSBKc1V0aWxzLm1rRWwoXCJkYXRhbGlzdFwiLCBbXSk7XHJcbiAgICAgICAgICAgIGxpc3QuaWQgPSBPbUhvb2tzLlNjcmVlbi5JbXBsLlNldHVwLklkLkxBTkdfV0VJR0hUX0VYQUdHRVJBVElPTl9MSVNUO1xyXG4gICAgICAgICAgICBbeyB2YWw6IDAsIGxhYmVsOiBcIjBcIiB9LCB7IHZhbDogMSwgbGFiZWw6IFwiMVwiIH1dLmZvckVhY2goKHRpY2tEZXNjKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsaXN0LmFwcGVuZENoaWxkKEpzVXRpbHMubWtFbChcIm9wdGlvblwiLCBbXSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aWNrRGVzYy52YWwudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGlja0Rlc2MubGFiZWwsXHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmJhc2VFbGVtLmFwcGVuZENoaWxkKGxpc3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsd2Uuc2V0QXR0cmlidXRlKFwibGlzdFwiLCBPbUhvb2tzLlNjcmVlbi5JbXBsLlNldHVwLklkLkxBTkdfV0VJR0hUX0VYQUdHRVJBVElPTl9MSVNUKTtcclxuICAgICAgICB0aGlzLmJhc2VFbGVtLmFwcGVuZENoaWxkKGx3ZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBvdmVycmlkZVxyXG4gICAgICovXHJcbiAgICBnZXRSZWNvbW1lbmRlZEZvY3VzRWxlbSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5uYXYubmV4dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTG9hZCB0aGUgdXNlcidzIGxhc3QgdXNlZCBwcmVzZXQgdG8gdGhlIGd1aSBjb250cm9scy5cclxuICAgICAqL1xyXG4gICAgX2xvYWRMYXN0VXNlZFByZXNldCgpIHtcclxuICAgICAgICAvLyBUT0RPLmltcGxcclxuICAgICAgICBjb25zdCBsYXN0VXNlZFByZXNldElkID0gdGhpcy50b3Auc3RvcmFnZS5Mb2NhbC5nYW1lUHJlc2V0SWQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEEgaGVscGVyIGZvciBnb2luZyB0byB0aGUgbmV4dCBzY3JlZW4uXHJcbiAgICAgKi9cclxuICAgIHBhcnNlQXJnc0Zyb21HdWkoKSB7XHJcbiAgICAgICAgLy8gVE9ETy5pbXBsXHJcbiAgICAgICAgY29uc3QgYXJncyA9IE9iamVjdC5hc3NpZ24oe30sIF9TZXR1cFNjcmVlbi5ERUZBVUxUX1BSRVNFVCgpKTtcclxuICAgICAgICAvLyBedGVtcG9yYXJ5IGRlZmF1bHQgdW50aWwgX2xvYWRMYXN0VXNlZFByZXNldCBpcyBpbXBsZW1lbnRlZC5cclxuICAgICAgICBhcmdzLmxhbmdJZCA9IHRoaXMubGFuZ1NlbC5jb25maXJtZWRPcHQuZGVzYy5pZDtcclxuICAgICAgICBhcmdzLmxhbmdXZWlnaHRFeGFnZ2VyYXRpb24gPSBwYXJzZUZsb2F0KHRoaXMubGFuZ1dlaWdodEV4YWdnZXJhdGlvbi52YWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIGFyZ3M7XHJcbiAgICB9XHJcbn1cclxuKGZ1bmN0aW9uIChfU2V0dXBTY3JlZW4pIHtcclxuICAgIF9TZXR1cFNjcmVlbi5ERUZBVUxUX1BSRVNFVCA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBjb29yZFN5czogXCJFVUNMSUQyXCIsXHJcbiAgICAgICAgICAgIGdyaWREaW1lbnNpb25zOiB7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDIxLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDIxLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhdmVyYWdlRnJlZUhlYWx0aFBlclRpbGU6IDEuMCAvIDQ1LjAsXHJcbiAgICAgICAgICAgIGxhbmdXZWlnaHRFeGFnZ2VyYXRpb246IDEuMCxcclxuICAgICAgICAgICAgbGFuZ0lkOiBcImVuZ2wtbG93XCIsXHJcbiAgICAgICAgICAgIHBsYXllckRlc2NzOiAoKCkgPT4gW3tcclxuICAgICAgICAgICAgICAgICAgICBpc0FMb2NhbE9wZXJhdG9yOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBmYW1pbHlJZDogXCJDSEFTRVJcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZWFtSWQ6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50SWQ6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogXCJjaGFzZXIxXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgbm9DaGVja0dhbWVPdmVyOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGZhbWlseUFyZ3M6IHsgLyogVXNlcyBhbGwgZGVmYXVsdHMuICovfSxcclxuICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICBpc0FMb2NhbE9wZXJhdG9yOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBmYW1pbHlJZDogXCJDSEFTRVJcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZWFtSWQ6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50SWQ6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogXCJjaGFzZXIyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgbm9DaGVja0dhbWVPdmVyOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGZhbWlseUFyZ3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmVhckRpc3RhbmNlOiA2LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBibG9vZFRoaXJzdERpc3RhbmNlOiA1LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFsdGhSZXNlcnZlOiA1LjAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleVByZXNzZXNQZXJTZWNvbmQ6IDEuOCxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgfV0pKCksXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIGNsYXNzIExhbmdQaWNrT25lIGV4dGVuZHMgU2tQaWNrT25lIHtcclxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5iYXNlRWxlbS5jbGFzc0xpc3QuYWRkKE9NSEMuTEFOR19TRUwpO1xyXG4gICAgICAgICAgICBMYW5nLkZyb250ZW5kRGVzY3MuZm9yRWFjaCgoZGVzYykgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRPcHRpb24obmV3IExhbmdQaWNrT25lLk9wdGlvbihkZXNjKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdE9wdCh0aGlzLm9wdGlvbnNbMF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfb25Ib3Zlck9wdChvcHQpIHtcclxuICAgICAgICAgICAgO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfb25TZWxlY3RPcHQob3B0KSB7XHJcbiAgICAgICAgICAgIDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfU2V0dXBTY3JlZW4uTGFuZ1BpY2tPbmUgPSBMYW5nUGlja09uZTtcclxuICAgIChmdW5jdGlvbiAoTGFuZ1BpY2tPbmUpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNsYXNzIE9wdGlvbiBleHRlbmRzIFNrUGlja09uZS5fT3B0aW9uIHtcclxuICAgICAgICAgICAgY29uc3RydWN0b3IoZGVzYykge1xyXG4gICAgICAgICAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVzYyA9IGRlc2M7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VFbGVtLnRleHRDb250ZW50ID0gZGVzYy5kaXNwbGF5TmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBMYW5nUGlja09uZS5PcHRpb24gPSBPcHRpb247XHJcbiAgICAgICAgT2JqZWN0LmZyZWV6ZShPcHRpb24pO1xyXG4gICAgICAgIE9iamVjdC5mcmVlemUoT3B0aW9uLnByb3RvdHlwZSk7XHJcbiAgICB9KShMYW5nUGlja09uZSA9IF9TZXR1cFNjcmVlbi5MYW5nUGlja09uZSB8fCAoX1NldHVwU2NyZWVuLkxhbmdQaWNrT25lID0ge30pKTtcclxufSkoX1NldHVwU2NyZWVuIHx8IChfU2V0dXBTY3JlZW4gPSB7fSkpO1xyXG5PYmplY3QuZnJlZXplKF9TZXR1cFNjcmVlbik7XHJcbk9iamVjdC5mcmVlemUoX1NldHVwU2NyZWVuLnByb3RvdHlwZSk7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/client/screen/impl/Setup.ts\n");

/***/ }),

/***/ "./src/client/screen/impl/SetupOffline.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SetupOfflineScreen\": () => /* binding */ SetupOfflineScreen\n/* harmony export */ });\n/* harmony import */ var _SkScreen__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/client/screen/SkScreen.ts\");\n/* harmony import */ var _Setup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/client/screen/impl/Setup.ts\");\n\r\n\r\n/**\r\n *\r\n */\r\nclass SetupOfflineScreen extends _Setup__WEBPACK_IMPORTED_MODULE_1__._SetupScreen {\r\n    _lazyLoad() {\r\n        super._lazyLoad();\r\n        this.nav.next.onclick = (ev) => {\r\n            const args = this.parseArgsFromGui();\r\n            this.requestGoToScreen(_SkScreen__WEBPACK_IMPORTED_MODULE_0__.SkScreen.Id.PLAY_OFFLINE, args);\r\n        };\r\n    }\r\n    parseArgsFromGui() {\r\n        const args = super.parseArgsFromGui();\r\n        // TODO.impl get rid of this placeholder once this screen has inputs for\r\n        // the client to configure their own players.\r\n        args.playerDescs.splice(args.playerDescs.length, 0, {\r\n            isALocalOperator: true,\r\n            familyId: \"HUMAN\",\r\n            teamId: 0,\r\n            clientId: undefined,\r\n            username: \"hello1\",\r\n            avatar: undefined,\r\n            noCheckGameOver: false,\r\n            familyArgs: {},\r\n        }, {\r\n            isALocalOperator: true,\r\n            familyId: \"HUMAN\",\r\n            teamId: 1,\r\n            clientId: undefined,\r\n            username: \"hello2\",\r\n            avatar: undefined,\r\n            noCheckGameOver: false,\r\n            familyArgs: {},\r\n        });\r\n        return args;\r\n    }\r\n}\r\nObject.freeze(SetupOfflineScreen);\r\nObject.freeze(SetupOfflineScreen.prototype);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L3NjcmVlbi9pbXBsL1NldHVwT2ZmbGluZS50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL3NuYWtleTMvLi9zcmMvY2xpZW50L3NjcmVlbi9pbXBsL1NldHVwT2ZmbGluZS50cz9hYzlhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNrU2NyZWVuIH0gZnJvbSBcIi4uL1NrU2NyZWVuXCI7XHJcbmltcG9ydCB7IF9TZXR1cFNjcmVlbiB9IGZyb20gXCIuL1NldHVwXCI7XHJcbi8qKlxyXG4gKlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFNldHVwT2ZmbGluZVNjcmVlbiBleHRlbmRzIF9TZXR1cFNjcmVlbiB7XHJcbiAgICBfbGF6eUxvYWQoKSB7XHJcbiAgICAgICAgc3VwZXIuX2xhenlMb2FkKCk7XHJcbiAgICAgICAgdGhpcy5uYXYubmV4dC5vbmNsaWNrID0gKGV2KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSB0aGlzLnBhcnNlQXJnc0Zyb21HdWkoKTtcclxuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0R29Ub1NjcmVlbihTa1NjcmVlbi5JZC5QTEFZX09GRkxJTkUsIGFyZ3MpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBwYXJzZUFyZ3NGcm9tR3VpKCkge1xyXG4gICAgICAgIGNvbnN0IGFyZ3MgPSBzdXBlci5wYXJzZUFyZ3NGcm9tR3VpKCk7XHJcbiAgICAgICAgLy8gVE9ETy5pbXBsIGdldCByaWQgb2YgdGhpcyBwbGFjZWhvbGRlciBvbmNlIHRoaXMgc2NyZWVuIGhhcyBpbnB1dHMgZm9yXHJcbiAgICAgICAgLy8gdGhlIGNsaWVudCB0byBjb25maWd1cmUgdGhlaXIgb3duIHBsYXllcnMuXHJcbiAgICAgICAgYXJncy5wbGF5ZXJEZXNjcy5zcGxpY2UoYXJncy5wbGF5ZXJEZXNjcy5sZW5ndGgsIDAsIHtcclxuICAgICAgICAgICAgaXNBTG9jYWxPcGVyYXRvcjogdHJ1ZSxcclxuICAgICAgICAgICAgZmFtaWx5SWQ6IFwiSFVNQU5cIixcclxuICAgICAgICAgICAgdGVhbUlkOiAwLFxyXG4gICAgICAgICAgICBjbGllbnRJZDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICB1c2VybmFtZTogXCJoZWxsbzFcIixcclxuICAgICAgICAgICAgYXZhdGFyOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIG5vQ2hlY2tHYW1lT3ZlcjogZmFsc2UsXHJcbiAgICAgICAgICAgIGZhbWlseUFyZ3M6IHt9LFxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgaXNBTG9jYWxPcGVyYXRvcjogdHJ1ZSxcclxuICAgICAgICAgICAgZmFtaWx5SWQ6IFwiSFVNQU5cIixcclxuICAgICAgICAgICAgdGVhbUlkOiAxLFxyXG4gICAgICAgICAgICBjbGllbnRJZDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICB1c2VybmFtZTogXCJoZWxsbzJcIixcclxuICAgICAgICAgICAgYXZhdGFyOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIG5vQ2hlY2tHYW1lT3ZlcjogZmFsc2UsXHJcbiAgICAgICAgICAgIGZhbWlseUFyZ3M6IHt9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBhcmdzO1xyXG4gICAgfVxyXG59XHJcbk9iamVjdC5mcmVlemUoU2V0dXBPZmZsaW5lU2NyZWVuKTtcclxuT2JqZWN0LmZyZWV6ZShTZXR1cE9mZmxpbmVTY3JlZW4ucHJvdG90eXBlKTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/client/screen/impl/SetupOffline.ts\n");

/***/ }),

/***/ "./src/client/screen/impl/SetupOnline.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SetupOnlineScreen\": () => /* binding */ SetupOnlineScreen\n/* harmony export */ });\n/* harmony import */ var defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/base/defs/OnlineDefs.ts\");\n/* harmony import */ var game_Game__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/base/game/Game.ts\");\n/* harmony import */ var _SkScreen__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./src/client/screen/SkScreen.ts\");\n/* harmony import */ var _Setup__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./src/client/screen/impl/Setup.ts\");\n\r\n\r\n\r\n\r\n/**\r\n *\r\n */\r\nclass SetupOnlineScreen extends _Setup__WEBPACK_IMPORTED_MODULE_3__._SetupScreen {\r\n    /**\r\n     * @override\r\n     */\r\n    _lazyLoad() {\r\n        super._lazyLoad();\r\n        this.nav.next.textContent = \"Start Game\";\r\n        this.nav.next.onclick = (ev) => {\r\n            const args = this.parseArgsFromGui();\r\n            if (this.top.clientIsGroupHost) {\r\n                this.top.sockets.groupSocket.emit(defs_OnlineDefs__WEBPACK_IMPORTED_MODULE_0__.GroupEv.CREATE_GAME, args);\r\n            }\r\n        };\r\n    }\r\n}\r\nObject.freeze(SetupOnlineScreen);\r\nObject.freeze(SetupOnlineScreen.prototype);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L3NjcmVlbi9pbXBsL1NldHVwT25saW5lLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc25ha2V5My8uL3NyYy9jbGllbnQvc2NyZWVuL2ltcGwvU2V0dXBPbmxpbmUudHM/NjFmMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHcm91cEV2IH0gZnJvbSBcImRlZnMvT25saW5lRGVmc1wiO1xyXG5pbXBvcnQgXCJnYW1lL0dhbWVcIjtcclxuaW1wb3J0IFwiLi4vU2tTY3JlZW5cIjtcclxuaW1wb3J0IHsgX1NldHVwU2NyZWVuIH0gZnJvbSBcIi4vU2V0dXBcIjtcclxuLyoqXHJcbiAqXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU2V0dXBPbmxpbmVTY3JlZW4gZXh0ZW5kcyBfU2V0dXBTY3JlZW4ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAb3ZlcnJpZGVcclxuICAgICAqL1xyXG4gICAgX2xhenlMb2FkKCkge1xyXG4gICAgICAgIHN1cGVyLl9sYXp5TG9hZCgpO1xyXG4gICAgICAgIHRoaXMubmF2Lm5leHQudGV4dENvbnRlbnQgPSBcIlN0YXJ0IEdhbWVcIjtcclxuICAgICAgICB0aGlzLm5hdi5uZXh0Lm9uY2xpY2sgPSAoZXYpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYXJncyA9IHRoaXMucGFyc2VBcmdzRnJvbUd1aSgpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy50b3AuY2xpZW50SXNHcm91cEhvc3QpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9wLnNvY2tldHMuZ3JvdXBTb2NrZXQuZW1pdChHcm91cEV2LkNSRUFURV9HQU1FLCBhcmdzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuT2JqZWN0LmZyZWV6ZShTZXR1cE9ubGluZVNjcmVlbik7XHJcbk9iamVjdC5mcmVlemUoU2V0dXBPbmxpbmVTY3JlZW4ucHJvdG90eXBlKTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/client/screen/impl/SetupOnline.ts\n");

/***/ }),

/***/ "./src/client/utils/SkPickOne.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SkPickOne\": () => /* binding */ SkPickOne\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var defs_JsUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./src/base/defs/JsUtils.ts\");\n/* harmony import */ var defs_OmHooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./src/base/defs/OmHooks.ts\");\nvar _confirmedOpt, _hoveredOpt, _isValid_1;\r\n\r\n\r\n\r\n/**\r\n * **IMPORTANT:**\r\n * Consumers and implementers of this utility widget must ensure that\r\n * a call to `selectOpt` is made with valid arguments before it becomes\r\n * interfaceable to a browser user.\r\n *\r\n * https://www.w3.org/TR/wai-aria-1.1/#listbox\r\n */\r\n// TODO.learn https://www.w3.org/TR/wai-aria-1.1/#managingfocus\r\nclass SkPickOne {\r\n    constructor() {\r\n        _confirmedOpt.set(this, void 0);\r\n        _hoveredOpt.set(this, void 0);\r\n        _isValid_1.set(this, void 0);\r\n        const base = defs_JsUtils__WEBPACK_IMPORTED_MODULE_0__.JsUtils.mkEl(\"div\", [defs_OmHooks__WEBPACK_IMPORTED_MODULE_1__.OmHooks.SkPickOne.Class.BASE], {\r\n            tabIndex: 0,\r\n        });\r\n        base.setAttribute(\"role\", \"listbox\");\r\n        base.addEventListener(\"keydown\", this._onKeyDown.bind(this));\r\n        base.addEventListener(\"pointerenter\", (ev) => {\r\n            window.requestAnimationFrame((time) => {\r\n                // Autofocus on pointerenter to hear keyboard events:\r\n                base.focus();\r\n            });\r\n        });\r\n        this.baseElem = base;\r\n        this.options = [];\r\n    }\r\n    addOption(opt) {\r\n        this.options.push(opt);\r\n        this.baseElem.appendChild(opt.baseElem);\r\n        opt.baseElem.addEventListener(\"pointerenter\", this.hoverOpt.bind(this, opt));\r\n        opt.baseElem.addEventListener(\"click\", this.selectOpt.bind(this, opt, true));\r\n        opt._registerParent(this._onOptDisabledChange.bind(this));\r\n    }\r\n    hoverOpt(opt) {\r\n        var _a;\r\n        if (this.hoveredOpt !== opt) {\r\n            // nullish coalesce is for edge-case on adding first option.\r\n            (_a = this.hoveredOpt) === null || _a === void 0 ? void 0 : _a.baseElem.setAttribute(\"aria-active-descendant\", \"false\");\r\n            (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldSet)(this, _hoveredOpt, opt);\r\n            this.hoveredOpt.baseElem.setAttribute(\"aria-active-descendant\", \"true\");\r\n        }\r\n    }\r\n    selectOpt(opt, doCallback = true) {\r\n        var _a;\r\n        if (!opt)\r\n            throw new Error(\"opt must be defined\");\r\n        // We must ensure hovering before executing confirmation:\r\n        this.hoverOpt(opt);\r\n        // Now that hovering is done, execute confirmation of selection:\r\n        if (this.confirmedOpt !== opt) {\r\n            // nullish coalesce is for edge-case on adding first option.\r\n            (_a = this.confirmedOpt) === null || _a === void 0 ? void 0 : _a.baseElem.setAttribute(\"aria-selected\", \"false\");\r\n            (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldSet)(this, _confirmedOpt, opt);\r\n            this.confirmedOpt.baseElem.setAttribute(\"aria-selected\", \"true\");\r\n            if (doCallback) {\r\n                this._onSelectOpt(opt);\r\n            }\r\n        }\r\n    }\r\n    get confirmedOpt() {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldGet)(this, _confirmedOpt);\r\n    }\r\n    get hoveredOpt() {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldGet)(this, _hoveredOpt);\r\n    }\r\n    _onOptDisabledChange(opt) {\r\n        if (this.confirmedOpt === opt) {\r\n            this._isValid = !opt.disabled;\r\n        }\r\n    }\r\n    set _isValid(newIsValid) {\r\n        if (this._isValid !== newIsValid) {\r\n            this.baseElem.setAttribute(\"aria-invalid\", (newIsValid ? \"false\" : \"true\"));\r\n            (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldSet)(this, _isValid_1, newIsValid);\r\n            // TODO.impl styling.\r\n        }\r\n    }\r\n    get _isValid() {\r\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldGet)(this, _isValid_1);\r\n    }\r\n    _onKeyDown(ev) {\r\n        if (ev.key === \" \" || ev.key === \"Enter\") {\r\n            this.selectOpt(this.hoveredOpt);\r\n            ev.preventDefault();\r\n            return false;\r\n        }\r\n        else {\r\n            const hoverOptIndex = this.options.indexOf(this.hoveredOpt);\r\n            if (ev.key === \"ArrowDown\" || ev.key === \"Down\") {\r\n                for (let i = hoverOptIndex + 1; i < (this.options.length); i++) {\r\n                    const opt = this.options[i];\r\n                    if (opt.disabled)\r\n                        continue;\r\n                    this.hoverOpt(opt);\r\n                    ev.preventDefault();\r\n                    return false;\r\n                }\r\n            }\r\n            else if (ev.key === \"ArrowUp\" || ev.key === \"Up\") {\r\n                for (let i = hoverOptIndex - 1; i >= 0; i--) {\r\n                    const opt = this.options[i];\r\n                    if (opt.disabled)\r\n                        continue;\r\n                    this.hoverOpt(opt);\r\n                    ev.preventDefault();\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n_confirmedOpt = new WeakMap(), _hoveredOpt = new WeakMap(), _isValid_1 = new WeakMap();\r\n(function (SkPickOne) {\r\n    var _disabled, _notifyParentOfDisabledChange;\r\n    /**\r\n     *\r\n     * https://www.w3.org/TR/wai-aria-1.1/#option\r\n     */\r\n    class _Option {\r\n        constructor() {\r\n            _disabled.set(this, void 0);\r\n            _notifyParentOfDisabledChange.set(this, void 0);\r\n            const base = this.baseElem = defs_JsUtils__WEBPACK_IMPORTED_MODULE_0__.JsUtils.mkEl(\"div\", [defs_OmHooks__WEBPACK_IMPORTED_MODULE_1__.OmHooks.SkPickOne.Class.OPT_BASE]);\r\n            base.setAttribute(\"role\", \"option\");\r\n            (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldSet)(this, _disabled, false);\r\n        }\r\n        _registerParent(onDisabledChange) {\r\n            (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldSet)(this, _notifyParentOfDisabledChange, onDisabledChange);\r\n        }\r\n        get disabled() {\r\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldGet)(this, _disabled);\r\n        }\r\n        set disabled(newDisabled) {\r\n            if (this.disabled !== newDisabled) {\r\n                this.baseElem.setAttribute(\"aria-disabled\", (newDisabled ? \"true\" : \"false\"));\r\n                (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldSet)(this, _disabled, newDisabled);\r\n                (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__classPrivateFieldGet)(this, _notifyParentOfDisabledChange).call(this, this);\r\n            }\r\n        }\r\n    }\r\n    _disabled = new WeakMap(), _notifyParentOfDisabledChange = new WeakMap();\r\n    SkPickOne._Option = _Option;\r\n    Object.freeze(SkPickOne);\r\n    Object.freeze(SkPickOne.prototype);\r\n})(SkPickOne || (SkPickOne = {}));\r\nObject.freeze(SkPickOne);\r\nObject.freeze(SkPickOne.prototype);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L3V0aWxzL1NrUGlja09uZS50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL3NuYWtleTMvLi9zcmMvY2xpZW50L3V0aWxzL1NrUGlja09uZS50cz83NmRjIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfY29uZmlybWVkT3B0LCBfaG92ZXJlZE9wdCwgX2lzVmFsaWRfMTtcclxuaW1wb3J0IHsgX19jbGFzc1ByaXZhdGVGaWVsZEdldCwgX19jbGFzc1ByaXZhdGVGaWVsZFNldCB9IGZyb20gXCJ0c2xpYlwiO1xyXG5pbXBvcnQgeyBKc1V0aWxzIH0gZnJvbSBcImRlZnMvSnNVdGlsc1wiO1xyXG5pbXBvcnQgeyBPbUhvb2tzIH0gZnJvbSBcImRlZnMvT21Ib29rc1wiO1xyXG4vKipcclxuICogKipJTVBPUlRBTlQ6KipcclxuICogQ29uc3VtZXJzIGFuZCBpbXBsZW1lbnRlcnMgb2YgdGhpcyB1dGlsaXR5IHdpZGdldCBtdXN0IGVuc3VyZSB0aGF0XHJcbiAqIGEgY2FsbCB0byBgc2VsZWN0T3B0YCBpcyBtYWRlIHdpdGggdmFsaWQgYXJndW1lbnRzIGJlZm9yZSBpdCBiZWNvbWVzXHJcbiAqIGludGVyZmFjZWFibGUgdG8gYSBicm93c2VyIHVzZXIuXHJcbiAqXHJcbiAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi93YWktYXJpYS0xLjEvI2xpc3Rib3hcclxuICovXHJcbi8vIFRPRE8ubGVhcm4gaHR0cHM6Ly93d3cudzMub3JnL1RSL3dhaS1hcmlhLTEuMS8jbWFuYWdpbmdmb2N1c1xyXG5leHBvcnQgY2xhc3MgU2tQaWNrT25lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIF9jb25maXJtZWRPcHQuc2V0KHRoaXMsIHZvaWQgMCk7XHJcbiAgICAgICAgX2hvdmVyZWRPcHQuc2V0KHRoaXMsIHZvaWQgMCk7XHJcbiAgICAgICAgX2lzVmFsaWRfMS5zZXQodGhpcywgdm9pZCAwKTtcclxuICAgICAgICBjb25zdCBiYXNlID0gSnNVdGlscy5ta0VsKFwiZGl2XCIsIFtPbUhvb2tzLlNrUGlja09uZS5DbGFzcy5CQVNFXSwge1xyXG4gICAgICAgICAgICB0YWJJbmRleDogMCxcclxuICAgICAgICB9KTtcclxuICAgICAgICBiYXNlLnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJsaXN0Ym94XCIpO1xyXG4gICAgICAgIGJhc2UuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5fb25LZXlEb3duLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGJhc2UuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJlbnRlclwiLCAoZXYpID0+IHtcclxuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgodGltZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gQXV0b2ZvY3VzIG9uIHBvaW50ZXJlbnRlciB0byBoZWFyIGtleWJvYXJkIGV2ZW50czpcclxuICAgICAgICAgICAgICAgIGJhc2UuZm9jdXMoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5iYXNlRWxlbSA9IGJhc2U7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gW107XHJcbiAgICB9XHJcbiAgICBhZGRPcHRpb24ob3B0KSB7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zLnB1c2gob3B0KTtcclxuICAgICAgICB0aGlzLmJhc2VFbGVtLmFwcGVuZENoaWxkKG9wdC5iYXNlRWxlbSk7XHJcbiAgICAgICAgb3B0LmJhc2VFbGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZW50ZXJcIiwgdGhpcy5ob3Zlck9wdC5iaW5kKHRoaXMsIG9wdCkpO1xyXG4gICAgICAgIG9wdC5iYXNlRWxlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5zZWxlY3RPcHQuYmluZCh0aGlzLCBvcHQsIHRydWUpKTtcclxuICAgICAgICBvcHQuX3JlZ2lzdGVyUGFyZW50KHRoaXMuX29uT3B0RGlzYWJsZWRDaGFuZ2UuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcbiAgICBob3Zlck9wdChvcHQpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgaWYgKHRoaXMuaG92ZXJlZE9wdCAhPT0gb3B0KSB7XHJcbiAgICAgICAgICAgIC8vIG51bGxpc2ggY29hbGVzY2UgaXMgZm9yIGVkZ2UtY2FzZSBvbiBhZGRpbmcgZmlyc3Qgb3B0aW9uLlxyXG4gICAgICAgICAgICAoX2EgPSB0aGlzLmhvdmVyZWRPcHQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5iYXNlRWxlbS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWFjdGl2ZS1kZXNjZW5kYW50XCIsIFwiZmFsc2VcIik7XHJcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX2hvdmVyZWRPcHQsIG9wdCk7XHJcbiAgICAgICAgICAgIHRoaXMuaG92ZXJlZE9wdC5iYXNlRWxlbS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWFjdGl2ZS1kZXNjZW5kYW50XCIsIFwidHJ1ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzZWxlY3RPcHQob3B0LCBkb0NhbGxiYWNrID0gdHJ1ZSkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICBpZiAoIW9wdClcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwib3B0IG11c3QgYmUgZGVmaW5lZFwiKTtcclxuICAgICAgICAvLyBXZSBtdXN0IGVuc3VyZSBob3ZlcmluZyBiZWZvcmUgZXhlY3V0aW5nIGNvbmZpcm1hdGlvbjpcclxuICAgICAgICB0aGlzLmhvdmVyT3B0KG9wdCk7XHJcbiAgICAgICAgLy8gTm93IHRoYXQgaG92ZXJpbmcgaXMgZG9uZSwgZXhlY3V0ZSBjb25maXJtYXRpb24gb2Ygc2VsZWN0aW9uOlxyXG4gICAgICAgIGlmICh0aGlzLmNvbmZpcm1lZE9wdCAhPT0gb3B0KSB7XHJcbiAgICAgICAgICAgIC8vIG51bGxpc2ggY29hbGVzY2UgaXMgZm9yIGVkZ2UtY2FzZSBvbiBhZGRpbmcgZmlyc3Qgb3B0aW9uLlxyXG4gICAgICAgICAgICAoX2EgPSB0aGlzLmNvbmZpcm1lZE9wdCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmJhc2VFbGVtLnNldEF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIiwgXCJmYWxzZVwiKTtcclxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfY29uZmlybWVkT3B0LCBvcHQpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpcm1lZE9wdC5iYXNlRWxlbS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIsIFwidHJ1ZVwiKTtcclxuICAgICAgICAgICAgaWYgKGRvQ2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX29uU2VsZWN0T3B0KG9wdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXQgY29uZmlybWVkT3B0KCkge1xyXG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9jb25maXJtZWRPcHQpO1xyXG4gICAgfVxyXG4gICAgZ2V0IGhvdmVyZWRPcHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX2hvdmVyZWRPcHQpO1xyXG4gICAgfVxyXG4gICAgX29uT3B0RGlzYWJsZWRDaGFuZ2Uob3B0KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29uZmlybWVkT3B0ID09PSBvcHQpIHtcclxuICAgICAgICAgICAgdGhpcy5faXNWYWxpZCA9ICFvcHQuZGlzYWJsZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2V0IF9pc1ZhbGlkKG5ld0lzVmFsaWQpIHtcclxuICAgICAgICBpZiAodGhpcy5faXNWYWxpZCAhPT0gbmV3SXNWYWxpZCkge1xyXG4gICAgICAgICAgICB0aGlzLmJhc2VFbGVtLnNldEF0dHJpYnV0ZShcImFyaWEtaW52YWxpZFwiLCAobmV3SXNWYWxpZCA/IFwiZmFsc2VcIiA6IFwidHJ1ZVwiKSk7XHJcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX2lzVmFsaWRfMSwgbmV3SXNWYWxpZCk7XHJcbiAgICAgICAgICAgIC8vIFRPRE8uaW1wbCBzdHlsaW5nLlxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldCBfaXNWYWxpZCgpIHtcclxuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfaXNWYWxpZF8xKTtcclxuICAgIH1cclxuICAgIF9vbktleURvd24oZXYpIHtcclxuICAgICAgICBpZiAoZXYua2V5ID09PSBcIiBcIiB8fCBldi5rZXkgPT09IFwiRW50ZXJcIikge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdE9wdCh0aGlzLmhvdmVyZWRPcHQpO1xyXG4gICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBob3Zlck9wdEluZGV4ID0gdGhpcy5vcHRpb25zLmluZGV4T2YodGhpcy5ob3ZlcmVkT3B0KTtcclxuICAgICAgICAgICAgaWYgKGV2LmtleSA9PT0gXCJBcnJvd0Rvd25cIiB8fCBldi5rZXkgPT09IFwiRG93blwiKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gaG92ZXJPcHRJbmRleCArIDE7IGkgPCAodGhpcy5vcHRpb25zLmxlbmd0aCk7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wdCA9IHRoaXMub3B0aW9uc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0LmRpc2FibGVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvdmVyT3B0KG9wdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZXYua2V5ID09PSBcIkFycm93VXBcIiB8fCBldi5rZXkgPT09IFwiVXBcIikge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IGhvdmVyT3B0SW5kZXggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wdCA9IHRoaXMub3B0aW9uc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0LmRpc2FibGVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvdmVyT3B0KG9wdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbn1cclxuX2NvbmZpcm1lZE9wdCA9IG5ldyBXZWFrTWFwKCksIF9ob3ZlcmVkT3B0ID0gbmV3IFdlYWtNYXAoKSwgX2lzVmFsaWRfMSA9IG5ldyBXZWFrTWFwKCk7XHJcbihmdW5jdGlvbiAoU2tQaWNrT25lKSB7XHJcbiAgICB2YXIgX2Rpc2FibGVkLCBfbm90aWZ5UGFyZW50T2ZEaXNhYmxlZENoYW5nZTtcclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi93YWktYXJpYS0xLjEvI29wdGlvblxyXG4gICAgICovXHJcbiAgICBjbGFzcyBfT3B0aW9uIHtcclxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAgICAgX2Rpc2FibGVkLnNldCh0aGlzLCB2b2lkIDApO1xyXG4gICAgICAgICAgICBfbm90aWZ5UGFyZW50T2ZEaXNhYmxlZENoYW5nZS5zZXQodGhpcywgdm9pZCAwKTtcclxuICAgICAgICAgICAgY29uc3QgYmFzZSA9IHRoaXMuYmFzZUVsZW0gPSBKc1V0aWxzLm1rRWwoXCJkaXZcIiwgW09tSG9va3MuU2tQaWNrT25lLkNsYXNzLk9QVF9CQVNFXSk7XHJcbiAgICAgICAgICAgIGJhc2Uuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcIm9wdGlvblwiKTtcclxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfZGlzYWJsZWQsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgX3JlZ2lzdGVyUGFyZW50KG9uRGlzYWJsZWRDaGFuZ2UpIHtcclxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfbm90aWZ5UGFyZW50T2ZEaXNhYmxlZENoYW5nZSwgb25EaXNhYmxlZENoYW5nZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdldCBkaXNhYmxlZCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX2Rpc2FibGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0IGRpc2FibGVkKG5ld0Rpc2FibGVkKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRpc2FibGVkICE9PSBuZXdEaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlRWxlbS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIsIChuZXdEaXNhYmxlZCA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiKSk7XHJcbiAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9kaXNhYmxlZCwgbmV3RGlzYWJsZWQpO1xyXG4gICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfbm90aWZ5UGFyZW50T2ZEaXNhYmxlZENoYW5nZSkuY2FsbCh0aGlzLCB0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9kaXNhYmxlZCA9IG5ldyBXZWFrTWFwKCksIF9ub3RpZnlQYXJlbnRPZkRpc2FibGVkQ2hhbmdlID0gbmV3IFdlYWtNYXAoKTtcclxuICAgIFNrUGlja09uZS5fT3B0aW9uID0gX09wdGlvbjtcclxuICAgIE9iamVjdC5mcmVlemUoU2tQaWNrT25lKTtcclxuICAgIE9iamVjdC5mcmVlemUoU2tQaWNrT25lLnByb3RvdHlwZSk7XHJcbn0pKFNrUGlja09uZSB8fCAoU2tQaWNrT25lID0ge30pKTtcclxuT2JqZWN0LmZyZWV6ZShTa1BpY2tPbmUpO1xyXG5PYmplY3QuZnJlZXplKFNrUGlja09uZS5wcm90b3R5cGUpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/client/utils/SkPickOne.ts\n");

/***/ }),

/***/ "./node_modules/tslib/tslib.es6.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"__extends\": () => /* binding */ __extends,\n/* harmony export */   \"__assign\": () => /* binding */ __assign,\n/* harmony export */   \"__rest\": () => /* binding */ __rest,\n/* harmony export */   \"__decorate\": () => /* binding */ __decorate,\n/* harmony export */   \"__param\": () => /* binding */ __param,\n/* harmony export */   \"__metadata\": () => /* binding */ __metadata,\n/* harmony export */   \"__awaiter\": () => /* binding */ __awaiter,\n/* harmony export */   \"__generator\": () => /* binding */ __generator,\n/* harmony export */   \"__createBinding\": () => /* binding */ __createBinding,\n/* harmony export */   \"__exportStar\": () => /* binding */ __exportStar,\n/* harmony export */   \"__values\": () => /* binding */ __values,\n/* harmony export */   \"__read\": () => /* binding */ __read,\n/* harmony export */   \"__spread\": () => /* binding */ __spread,\n/* harmony export */   \"__spreadArrays\": () => /* binding */ __spreadArrays,\n/* harmony export */   \"__await\": () => /* binding */ __await,\n/* harmony export */   \"__asyncGenerator\": () => /* binding */ __asyncGenerator,\n/* harmony export */   \"__asyncDelegator\": () => /* binding */ __asyncDelegator,\n/* harmony export */   \"__asyncValues\": () => /* binding */ __asyncValues,\n/* harmony export */   \"__makeTemplateObject\": () => /* binding */ __makeTemplateObject,\n/* harmony export */   \"__importStar\": () => /* binding */ __importStar,\n/* harmony export */   \"__importDefault\": () => /* binding */ __importDefault,\n/* harmony export */   \"__classPrivateFieldGet\": () => /* binding */ __classPrivateFieldGet,\n/* harmony export */   \"__classPrivateFieldSet\": () => /* binding */ __classPrivateFieldSet\n/* harmony export */ });\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nfunction __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nfunction __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nvar __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nfunction __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nfunction __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nfunction __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nfunction __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nfunction __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nfunction __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nfunction __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nfunction __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc25ha2V5My8uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanM/OWFiNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcclxufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn0pO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIHApKSBfX2NyZWF0ZUJpbmRpbmcobywgbSwgcCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XHJcbn0pIDogZnVuY3Rpb24obywgdikge1xyXG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XHJcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHByaXZhdGVNYXAsIHZhbHVlKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZU1hcC5zZXQocmVjZWl2ZXIsIHZhbHVlKTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/tslib/tslib.es6.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		if(__webpack_module_cache__[moduleId]) {
/******/ 			return __webpack_module_cache__[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/ensure chunk */
/******/ 	(() => {
/******/ 		__webpack_require__.f = {};
/******/ 		// This file contains only the entry chunk.
/******/ 		// The chunk loading function for additional chunks
/******/ 		__webpack_require__.e = (chunkId) => {
/******/ 			return Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {
/******/ 				__webpack_require__.f[key](chunkId, promises);
/******/ 				return promises;
/******/ 			}, []));
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get javascript chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference async chunks
/******/ 		__webpack_require__.u = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return "chunk/" + chunkId + ".js";
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get mini-css chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference all chunks
/******/ 		__webpack_require__.miniCssF = (chunkId) => {
/******/ 			// return url for filenames not based on template
/******/ 			if (chunkId === "index") return "_barrel.css";
/******/ 			// return url for filenames based on template
/******/ 			return "chunk/" + chunkId + ".css";
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/load script */
/******/ 	(() => {
/******/ 		var inProgress = {};
/******/ 		var dataWebpackPrefix = "snakey3:";
/******/ 		// loadScript function to load a script via script tag
/******/ 		__webpack_require__.l = (url, done, key) => {
/******/ 			if(inProgress[url]) { inProgress[url].push(done); return; }
/******/ 			var script, needAttach;
/******/ 			if(key !== undefined) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				for(var i = 0; i < scripts.length; i++) {
/******/ 					var s = scripts[i];
/******/ 					if(s.getAttribute("src") == url || s.getAttribute("data-webpack") == dataWebpackPrefix + key) { script = s; break; }
/******/ 				}
/******/ 			}
/******/ 			if(!script) {
/******/ 				needAttach = true;
/******/ 				script = document.createElement('script');
/******/ 		
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.setAttribute("data-webpack", dataWebpackPrefix + key);
/******/ 				script.src = url;
/******/ 			}
/******/ 			inProgress[url] = [done];
/******/ 			var onScriptComplete = (prev, event) => {
/******/ 				// avoid mem leaks in IE.
/******/ 				script.onerror = script.onload = null;
/******/ 				clearTimeout(timeout);
/******/ 				var doneFns = inProgress[url];
/******/ 				delete inProgress[url];
/******/ 				script.parentNode && script.parentNode.removeChild(script);
/******/ 				doneFns && doneFns.forEach((fn) => fn(event));
/******/ 				if(prev) return prev(event);
/******/ 			}
/******/ 			;
/******/ 			var timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);
/******/ 			script.onerror = onScriptComplete.bind(null, script.onerror);
/******/ 			script.onload = onScriptComplete.bind(null, script.onload);
/******/ 			needAttach && document.head.appendChild(script);
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "./";
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/css loading */
/******/ 	(() => {
/******/ 		var createStylesheet = (chunkId, fullhref, resolve, reject) => {
/******/ 			var linkTag = document.createElement("link");
/******/ 		
/******/ 			linkTag.rel = "stylesheet";
/******/ 			linkTag.type = "text/css";
/******/ 			linkTag.onload = resolve;
/******/ 			linkTag.onerror = function(event) {
/******/ 				var request = event && event.target && event.target.href || fullhref;
/******/ 				var err = new Error("Loading CSS chunk " + chunkId + " failed.\n(" + request + ")");
/******/ 				err.code = "CSS_CHUNK_LOAD_FAILED";
/******/ 				err.request = request;
/******/ 				linkTag.parentNode.removeChild(linkTag)
/******/ 				reject(err);
/******/ 			};
/******/ 			linkTag.href = fullhref;
/******/ 		
/******/ 			document.head.appendChild(linkTag);
/******/ 			return linkTag;
/******/ 		};
/******/ 		var findStylesheet = (href, fullhref) => {
/******/ 			var existingLinkTags = document.getElementsByTagName("link");
/******/ 			for(var i = 0; i < existingLinkTags.length; i++) {
/******/ 				var tag = existingLinkTags[i];
/******/ 				var dataHref = tag.getAttribute("data-href") || tag.getAttribute("href");
/******/ 				if(tag.rel === "stylesheet" && (dataHref === href || dataHref === fullhref)) return tag;
/******/ 			}
/******/ 			var existingStyleTags = document.getElementsByTagName("style");
/******/ 			for(var i = 0; i < existingStyleTags.length; i++) {
/******/ 				var tag = existingStyleTags[i];
/******/ 				var dataHref = tag.getAttribute("data-href");
/******/ 				if(dataHref === href || dataHref === fullhref) return tag;
/******/ 			}
/******/ 		};
/******/ 		var loadStylesheet = (chunkId) => {
/******/ 			return new Promise((resolve, reject) => {
/******/ 				var href = __webpack_require__.miniCssF(chunkId);
/******/ 				var fullhref = __webpack_require__.p + href;
/******/ 				if(findStylesheet(href, fullhref)) return resolve();
/******/ 				createStylesheet(chunkId, fullhref, resolve, reject);
/******/ 			});
/******/ 		}
/******/ 		// object to store loaded CSS chunks
/******/ 		var installedCssChunks = {
/******/ 			"index": 0
/******/ 		};
/******/ 		
/******/ 		__webpack_require__.f.miniCss = (chunkId, promises) => {
/******/ 			var cssChunks = {"game/offline":1,"game/online":1};
/******/ 			if(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);
/******/ 			else if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {
/******/ 				promises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(() => {
/******/ 					installedCssChunks[chunkId] = 0;
/******/ 				}, (e) => {
/******/ 					delete installedCssChunks[chunkId];
/******/ 					throw e;
/******/ 				}));
/******/ 			}
/******/ 		};
/******/ 		
/******/ 		// no hmr
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// Promise = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"index": 0
/******/ 		};
/******/ 		
/******/ 		
/******/ 		__webpack_require__.f.j = (chunkId, promises) => {
/******/ 				// JSONP chunk loading for javascript
/******/ 				var installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;
/******/ 				if(installedChunkData !== 0) { // 0 means "already installed".
/******/ 		
/******/ 					// a Promise means "currently loading".
/******/ 					if(installedChunkData) {
/******/ 						promises.push(installedChunkData[2]);
/******/ 					} else {
/******/ 						if(true) { // all chunks have JS
/******/ 							// setup Promise in chunk cache
/******/ 							var promise = new Promise((resolve, reject) => {
/******/ 								installedChunkData = installedChunks[chunkId] = [resolve, reject];
/******/ 							});
/******/ 							promises.push(installedChunkData[2] = promise);
/******/ 		
/******/ 							// start chunk loading
/******/ 							var url = __webpack_require__.p + __webpack_require__.u(chunkId);
/******/ 							// create error before stack unwound to get useful stacktrace later
/******/ 							var error = new Error();
/******/ 							var loadingEnded = (event) => {
/******/ 								if(__webpack_require__.o(installedChunks, chunkId)) {
/******/ 									installedChunkData = installedChunks[chunkId];
/******/ 									if(installedChunkData !== 0) installedChunks[chunkId] = undefined;
/******/ 									if(installedChunkData) {
/******/ 										var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 										var realSrc = event && event.target && event.target.src;
/******/ 										error.message = 'Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')';
/******/ 										error.name = 'ChunkLoadError';
/******/ 										error.type = errorType;
/******/ 										error.request = realSrc;
/******/ 										installedChunkData[1](error);
/******/ 									}
/******/ 								}
/******/ 							};
/******/ 							__webpack_require__.l(url, loadingEnded, "chunk-" + chunkId);
/******/ 						} else installedChunks[chunkId] = 0;
/******/ 					}
/******/ 				}
/******/ 		};
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		// no deferred startup
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (data) => {
/******/ 			var [chunkIds, moreModules, runtime] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0, resolves = [];
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					resolves.push(installedChunks[chunkId][0]);
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			for(moduleId in moreModules) {
/******/ 				if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 					__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 				}
/******/ 			}
/******/ 			if(runtime) runtime(__webpack_require__);
/******/ 			parentChunkLoadingFunction(data);
/******/ 			while(resolves.length) {
/******/ 				resolves.shift()();
/******/ 			}
/******/ 		
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunksnakey3"] = self["webpackChunksnakey3"] || [];
/******/ 		var parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback;
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	// module exports must be returned from runtime so entry inlining is disabled
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__("./src/client/index.ts");
/******/ })()
;