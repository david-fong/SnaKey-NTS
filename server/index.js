var snakey3;snakey3=(()=>{var e,t,r,s={632:(e,t,r)=>{"use strict";r.d(t,{R:()=>a});const s=Object.freeze({enumerable:!1}),i=Object.freeze({writable:!1});var a;!function(e){let t;function r(e,t,r){t.forEach((t=>{Object.defineProperty(e,t,r)}))}e.applyMixins=function(e,t){t.forEach((t=>{Object.getOwnPropertyNames(t.prototype).forEach((r=>{Object.defineProperty(e.prototype,r,Object.getOwnPropertyDescriptor(t.prototype,r))}))}))},e.deepFreeze=function e(t){return function(t){for(const r of Object.getOwnPropertyNames(t)){const s=t[r];"object"==typeof s&&e(s)}Object.freeze(t)}(t),t},function(e){let t;!function(e){e.access=function(e,t,r){r.enumerable=!1},e.cyclic=function(e,t,r){r.enumerable=!1}}(t=e.NonEnumerable||(e.NonEnumerable={}))}(t=e.Decor||(e.Decor={})),e.protoNoEnum=function(e,...t){t.forEach((t=>{Object.defineProperty(e.prototype,t,s)}))},e.instNoEnum=function(e,...t){r(e,t,s)},e.propNoWrite=function(e,...t){r(e,t,i)},e.prependComment=function(e,t){e.parentNode.insertBefore(document.createComment(" "+t+" "),e)},e.camelCaseTransforms=function(e){const t=e.replace(/[A-Z]/g,(e=>" "+e.toLowerCase()));return Object.freeze({spaceyLowercase:t,spaceyUppercase:t.toUpperCase(),spaceyCapitalized:t.split(" ").map((e=>e.charAt(0).toUpperCase()+e.substring(1))).join(" ")})},e.mkEl=function(e,t,r){const s=document.createElement(e);try{Object.seal(s)}catch(e){}return t.length&&s.classList.add(...t),"button"===e?s.type="button":"a"===e&&(s.rel="noopener"),void 0!==r&&Object.assign(s,r),s}}(a||(a={})),Object.freeze(a)},532:(e,t,r)=>{"use strict";r.d(t,{Uo:()=>l,J5:()=>n});var s=r(632);const i=Object.freeze({IDENT:e=>e,LOWER:e=>e.toLowerCase()}),a={"engl-low":{module:"English",export:"Lowercase",numLeaves:26,remapFunc:i.LOWER,displayName:"English Lowercase (qwerty)",blurb:""},"engl-mix":{module:"English",export:"MixedCase",numLeaves:52,remapFunc:i.IDENT,displayName:"English Mixed-Case (Querty)",blurb:""},"japn-hir":{module:"Japanese",export:"Hiragana",numLeaves:71,remapFunc:i.LOWER,displayName:"Japanese Hiragana",blurb:""},"japn-kat":{module:"Japanese",export:"Katakana",numLeaves:69,remapFunc:i.LOWER,displayName:"Japanese Katakana",blurb:""},"kore-dub":{module:"Korean",export:"Dubeolsik",numLeaves:8778,remapFunc:i.IDENT,displayName:"Korean Dubeolsik (두벌식 키보드)",blurb:"The most common keyboard layout, and South Korea's only Hangul standard since 1969. Consonants are on the left, and vowels on the right."},"kore-sub":{module:"Korean",export:"Sebeolsik",numLeaves:10206,remapFunc:i.IDENT,displayName:"Korean Sebeolsik (세벌식 최종 키보드)",blurb:"Another Hangul keyboard layout used in South Korea, and the final Sebeolsik layout designed by Dr. Kong Byung Woo, hence the name. Syllable-initial consonants are on the right, final consonants on the left, and vowels in the middle. It is more ergonomic than the dubeolsik, but not widely used."},"kore-rom":{module:"Korean",export:"Romanization",numLeaves:3990,remapFunc:i.LOWER,displayName:"Korean Revised Romanization",blurb:"The Revised Romanization of Korean (국어의 로마자 표기법; 國語의 로마字 表記法) is the official South Korean language romanization system. It was developed by the National Academy of the Korean Language from 1995, and was released on 7 July 2000 by South Korea's Ministry of Culture and Tourism"},"engl-cell-enc":{module:"English",export:"OldCellphone.Encode",numLeaves:8,remapFunc:i.IDENT,displayName:"Old Cellphone Keyboard",blurb:""},"mors-enc":{module:"English",export:"Morse.Encode",numLeaves:20,remapFunc:e=>e,displayName:"Morse Encoder",blurb:""},"mors-dec":{module:"English",export:"Morse.Decode",numLeaves:41,remapFunc:i.LOWER,displayName:"Morse Decoder",blurb:""},ngram2:{module:"Ngrams",export:"Ngram2",numLeaves:200,remapFunc:i.LOWER,displayName:"English Bigrams",blurb:""},ngram3:{module:"Ngrams",export:"Ngram3",numLeaves:401,remapFunc:i.LOWER,displayName:"English Trigrams",blurb:""},numpad:{module:"Numpad",export:"Numpad",numLeaves:100,remapFunc:i.LOWER,displayName:"Number Pad",blurb:""}};Object.entries(a).forEach((([e,t])=>{t.id=e})),s.R.deepFreeze(a);const o=a;Object.freeze({behavior:"smooth",block:"center",inline:"center"});class n{}!function(e){let t,r,s;e.Family=Object.freeze({HUMAN:"HUMAN",CHASER:"CHASER"}),e.Family,function(e){e.NULL=void 0}(t=e.Id||(e.Id={})),function(e){e.REGEXP=/[ a-zA-Z0-9:-]+/,e.MAX_LENGTH=15}(r=e.Username||(e.Username={})),function(e){e.LOREM_IPSUM="lorem-ipsum"}(s=e.Avatar||(e.Avatar={})),function(e){const t=Object.values(e).filter((e=>"string"==typeof e));e.GET_RANDOM=function(){return t[Math.floor(Math.random()*t.length)]}}(s=e.Avatar||(e.Avatar={})),e.MoveType=Object.freeze({NORMAL:"NORMAL",BOOST:"BOOST"}),e.MoveType}(n||(n={})),Object.freeze(n),Object.freeze(n.prototype);class l{}!function(e){let t,r,s;!function(e){e.REGEXP=new RegExp("^[a-zA-Z0-9!@#$%^&*()-_=+;:'\"\\|,.<>/?]+$")}(t=e.Seq||(e.Seq={})),function(e){e.NULL=Object.freeze({char:"",seq:""})}(r=e.CharSeqPair||(e.CharSeqPair={})),function(e){e.MAX=4}(s=e.WeightExaggeration||(e.WeightExaggeration={})),e.CHAR_HIT_COUNT_SEED_CEILING=5,e.FrontendDescs=o,e.GET_FRONTEND_DESC_BY_ID=function(t){return e.FrontendDescs[t]}}(l||(l={})),Object.freeze(l),Object.freeze(l.prototype)},115:(e,t,r)=>{"use strict";r.d(t,{U:()=>l});var s,i=r(632),a=r(532),o=r(780);!function(e){var t;class r{constructor(){Object.defineProperty(this,"seq",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"children",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"carryHits",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.children=[],i.R.propNoWrite(this,"children")}reset(){for(const e of this.children)e.reset();this.carryHits=0}_finalize(){Object.freeze(this.children);for(const e of this.children)e._finalize()}getLeaves(){const e=[];return this._rGetLeaves(e),e}_rGetLeaves(e){if(this.children.length)for(const t of this.children)t._rGetLeaves(e);else e.push(this)}simpleView(){return this.children}static CREATE_TREE_MAP(t,a){var o;const l=e.GET_SCALE_WEIGHT_FUNC(a,t),c=new Map;Object.entries(t).forEach((([e,{seq:t,weight:r}])=>{const s=new n(e,l(r)),i=c.get(t);void 0!==i?i.push(s):c.set(t,[s])}));const h=new r;i.R.propNoWrite(h,"children");let u=h;for(const[e,t]of Array.from(c).sort((([e],[t])=>e<t?-1:1))){for(;!e.startsWith(u.seq);)u=null!==(o=u.parent)&&void 0!==o?o:h;const r=new s(u===h?void 0:u,e,t);u.children.push(r),u=r}return h._finalize(),h}}Object.defineProperty(r,"LEAF_CMP",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>e.carryHits-t.carryHits}),e.ParentNode=r,i.R.protoNoEnum(r,"_finalize","_rGetLeaves"),Object.freeze(r),Object.freeze(r.prototype);class s extends r{constructor(e,r,s){super(),Object.defineProperty(this,"parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"seq",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t.set(this,void 0),this.seq=r,(0,o.__classPrivateFieldSet)(this,t,s),this.parent=e,i.R.propNoWrite(this,"seq","parent")}_finalize(){Object.freeze((0,o.__classPrivateFieldGet)(this,t)),super._finalize()}reset(){super.reset();for(const e of(0,o.__classPrivateFieldGet)(this,t))e.reset(),this.incrHits(e,Math.random()*a.Uo.CHAR_HIT_COUNT_SEED_CEILING)}chooseOnePair(){let e=(0,o.__classPrivateFieldGet)(this,t)[0];for(const r of(0,o.__classPrivateFieldGet)(this,t))r.hits<e.hits&&(e=r);const r={char:e.char,seq:this.seq};return this.incrHits(e),r}incrHits(e,t=1){e._incrementNumHits(),this._rIncrHits(e.weightInv*t)}_rIncrHits(e){this.carryHits+=e;for(const t of this.children)t._rIncrHits(e)}get ownHits(){var e,t;return this.carryHits-(null!==(t=null===(e=this.parent)||void 0===e?void 0:e.carryHits)&&void 0!==t?t:0)}simpleView(){let e=(0,o.__classPrivateFieldGet)(this,t).map((e=>e.simpleView()));return Object.assign(Object.create(null),{seq:this.seq,chars:1===e.length?e[0]:e,kids:this.children.map((e=>e.simpleView()))})}}function l(e,t){if(0===e)return e=>1;if(1===e)return e=>e;const r=Object.values(t),s=r.reduce(((e,t)=>e+t.weight),0)/r.length;return t=>Math.pow(t/s,e)}t=new WeakMap,Object.defineProperty(s,"PATH_CMP",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>e.ownHits-t.ownHits}),e.ChildNode=s,i.R.protoNoEnum(s,"_finalize","_rIncrHits"),Object.freeze(s),Object.freeze(s.prototype),e.GET_SCALE_WEIGHT_FUNC=l,Object.freeze(l)}(s||(s={})),Object.freeze(s);class n{constructor(e,t){Object.defineProperty(this,"char",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"weightInv",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hits",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.char=e,this.weightInv=1/t}reset(){this.hits=0}_incrementNumHits(){this.hits+=this.weightInv}simpleView(){return Object.assign(Object.create(null),{char:this.char})}}Object.defineProperty(n,"CMP",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>e.hits-t.hits}),Object.freeze(n),Object.freeze(n.prototype);class l extends a.Uo{constructor(e,t){super(),Object.defineProperty(this,"frontendDesc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"treeMap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"leafNodes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.frontendDesc=l.GET_FRONTEND_DESC_BY_ID(e),this.treeMap=s.ParentNode.CREATE_TREE_MAP(Object.getPrototypeOf(this).constructor.BUILD(),t),this.leafNodes=this.treeMap.getLeaves(),i.R.propNoWrite(this,"frontendDesc","treeMap","leafNodes")}get numLeaves(){return this.leafNodes.length}reset(){this.treeMap.reset()}getNonConflictingChar(e){this.leafNodes.sort(s.ParentNode.LEAF_CMP);e:for(const t of this.leafNodes){let r=t;for(let s=t;s;s=s.parent){const t=e.find((e=>e.startsWith(s.seq)));if(t){if(t.length>s.seq.length)break;continue e}s.ownHits<r.ownHits&&(r=s)}return r.chooseOnePair()}throw new Error("never. Invariants guaranteeing that a LangSeq can always be shuffled-in were not met.")}simpleView(){return Object.freeze(Object.assign(Object.create(null),{id:this.frontendDesc.id,displayName:this.frontendDesc.displayName,root:this.treeMap.simpleView(),numLeaves:this.leafNodes.length}))}}!function(e){let t;!function(e){e.WORD_FOR_WORD=function(e){return Object.entries(e).reduce(((e,[t,r])=>(e[t]={seq:t,weight:r},e)),{})}}(t=e.BuildUtils||(e.BuildUtils={}))}(l||(l={})),Object.freeze(l),Object.freeze(l.prototype)},816:(e,t,r)=>{"use strict";r.r(t),r.d(t,{server:()=>ie});const s=require("os"),i=require("path"),a=require("http"),o=require("express"),n=require("express-static-gzip"),l=require("socket.io");var c,h,u,d=r(632),m=r(780);class p{}!function(e){let t;e.PROTOCOL="http://",e.DEFAULT_PORT=80,function(e){e.GROUP_JOINER="/joiner.",e.GROUP_LOBBY_PREFIX="/group.",e.GROUP_GAME_PREFIX="/group-game."}(t=e.Nsps||(e.Nsps={}))}(p||(p={})),Object.freeze(p),Object.freeze(p.prototype);class f{}!function(e){let t,r,s,i;!function(e){let t;!function(e){e.EVENT_NAME="group-lobby-user-info-change"}(t=e.UserInfoChange||(e.UserInfoChange={}))}(t=e.Socket||(e.Socket={})),function(e){e.REGEXP=/(?:[a-zA-Z0-9:-]+)/,e.MaxLength=30}(r=e.Name||(e.Name={})),function(e){e.REGEXP=/(?:[a-zA-Z0-9:-]*)/,e.MaxLength=30}(s=e.Passphrase||(e.Passphrase={})),e.GameServerReconnectionAttempts=2,e.DEFAULT_TTL=20,function(e){e.EVENT_NAME="group-exist";class t{constructor(e,t){Object.defineProperty(this,"groupName",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"passphrase",{enumerable:!0,configurable:!0,writable:!0,value:t})}}let r;e.RequestCreate=t,function(e){let t;!function(e){e.OKAY="okay",e.NOPE="nope"}(t=e.Response||(e.Response={}))}(t=e.RequestCreate||(e.RequestCreate={})),function(e){e.IN_LOBBY="in-lobby",e.IN_GAME="in-game",e.DELETE="delete"}(r=e.Status||(e.Status={}))}(i=e.Exist||(e.Exist={}))}(f||(f={})),Object.freeze(f),Object.freeze(f.prototype),function(e){e.CREATE_GAME="group-game-create"}(c||(c={})),function(e){e.CREATE_GAME="game-create",e.RESET="game-reset",e.UNPAUSE="game-unpause",e.PAUSE="game-pause",e.RETURN_TO_LOBBY="game-return-to-lobby"}(h||(h={})),function(e){let t,r;!function(e){e.SERVER="SERVER",e.ONLINE="ONLINE",e.OFFLINE="OFFLINE"}(t=e.Type||(e.Type={})),Object.freeze(t),function(e){e.PLAYING="PLAYING",e.PAUSED="PAUSED",e.OVER="OVER"}(r=e.Status||(e.Status={})),Object.freeze(r),e.K=Object.freeze({HEALTH_UPDATE_CHANCE:.1,AVERAGE_HEALTH_TO_SPAWN_ON_TILE:1,PORTION_OF_MOVES_THAT_ARE_BOOST:.4,HEALTH_COST_OF_BOOST(e,t){const r=t(this.AVERAGE_HEALTH_TO_SPAWN_ON_TILE/e);return this.AVERAGE_HEALTH_TO_SPAWN_ON_TILE/r/this.PORTION_OF_MOVES_THAT_ARE_BOOST},HEALTH_EFFECT_FOR_DOWNED_PLAYER:.6,EVENT_RECORD_WRAPPING_BUFFER_LENGTH:50,EVENT_RECORD_FORWARD_WINDOW_LENGTH:25})}(u||(u={})),Object.freeze(u);var b,g,v,E,_,y,O,P,N,w,T,I=r(532);class R{constructor(e){Object.defineProperty(this,"coord",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),b.set(this,void 0),g.set(this,void 0),v.set(this,void 0),E.set(this,void 0),Object.defineProperty(this,"lastKnownUpdateId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.coord=e,d.R.propNoWrite(this,"coord"),(0,m.__classPrivateFieldSet)(this,b,I.J5.Id.NULL)}reset(){this.evictOccupant(),this.lastKnownUpdateId=0,this.freeHealth=0,this.setLangCharSeqPair(I.Uo.CharSeqPair.NULL)}_setOccupant(e,t){(0,m.__classPrivateFieldSet)(this,b,e)}get isOccupied(){return this.occupantId!==I.J5.Id.NULL}evictOccupant(){(0,m.__classPrivateFieldSet)(this,b,I.J5.Id.NULL)}get occupantId(){return(0,m.__classPrivateFieldGet)(this,b)}get freeHealth(){return(0,m.__classPrivateFieldGet)(this,g)}set freeHealth(e){(0,m.__classPrivateFieldSet)(this,g,e)}setLangCharSeqPair(e){(0,m.__classPrivateFieldSet)(this,v,e.char),(0,m.__classPrivateFieldSet)(this,E,e.seq)}get langChar(){return(0,m.__classPrivateFieldGet)(this,v)}get langSeq(){return(0,m.__classPrivateFieldGet)(this,E)}}b=new WeakMap,g=new WeakMap,v=new WeakMap,E=new WeakMap,Object.freeze(R),Object.freeze(R.prototype);class j{constructor(e){_.set(this,void 0),(0,m.__classPrivateFieldSet)(this,_,e),Object.freeze(this)}get _source(){return(0,m.__classPrivateFieldGet)(this,_)}at(...e){return(0,m.__classPrivateFieldGet)(this,_)._getTileAt(...e)}destsFrom(...e){return new A((0,m.__classPrivateFieldGet)(this,_)._getTileDestsFrom(...e))}sourcesTo(...e){return new A((0,m.__classPrivateFieldGet)(this,_)._getTileSourcesTo(...e))}}_=new WeakMap,Object.freeze(j),Object.freeze(j.prototype);class A{constructor(e){Object.defineProperty(this,"contents",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.seal(this)}get occupied(){return this.contents=this.contents.filter((e=>e.isOccupied)),this}get unoccupied(){return this.contents=this.contents.filter((e=>!e.isOccupied)),this}get get(){return this.contents}}Object.freeze(A),Object.freeze(A.prototype);class M{constructor(e){Object.defineProperty(this,"static",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dimensions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tile",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.static=e.gridClass,this.dimensions=e.dimensions,this.tile=new j(this),d.R.propNoWrite(this,"static","dimensions","tile")}get area(){return this.static.getArea(this.dimensions)}reset(){this.forEachTile((e=>e.reset()))}getDestsFromSourcesTo(e){return Array.from(new Set(this.tile.sourcesTo(e).get.flatMap((e=>this.tile.destsFrom(e.coord).get))))}getRandomCoord(){return this.static.getRandomCoord(this.dimensions)}}(y=M||(M={})).getImplementation=e=>y._Constructors[e],function(e){e.EVENT_ID_REJECT=-1}(O||(O={})),Object.freeze(O),function(e){e.INITIAL_REQUEST_ID=-1,e.EVENT_NAME=Object.freeze({BUBBLE:"player-bubble",MOVEMENT:"player-movement"});class t{constructor(e,t){Object.defineProperty(this,"eventId",{enumerable:!0,configurable:!0,writable:!0,value:O.EVENT_ID_REJECT}),Object.defineProperty(this,"playerId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"playerLastAcceptedRequestId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"affectedNeighbours",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.playerId=e,this.playerLastAcceptedRequestId=t}}e.Bubble=t,e.Movement=class extends t{constructor(e,t,r,s){super(e,t),Object.defineProperty(this,"newPlayerHealth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"destModDesc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moveType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tileHealthModDescs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"playerHealthModDescs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.destModDesc={coord:r.coord,lastKnownUpdateId:r.lastKnownUpdateId},this.moveType=s}}}(P||(P={})),Object.freeze(P);class S extends I.J5{constructor(e,t){if(super(),Object.defineProperty(this,"playerId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isALocalOperator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"game",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),N.set(this,void 0),Object.defineProperty(this,"tile",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Math.trunc(t.playerId)!==t.playerId)throw new RangeError("Player ID's must be integer values.");this.playerId=t.playerId,this.isALocalOperator=t.isALocalOperator,this.game=e,this.status=new this.game._playerStatusCtor(this,t.noCheckGameOver),this.tile=new j(new S.TileGetterSource(this)),d.R.instNoEnum(this,"game"),d.R.propNoWrite(this,"playerId","isALocalOperator","game","status","tile")}_afterAllPlayersConstruction(){this.status._afterAllPlayersConstruction()}reset(e){(0,m.__classPrivateFieldSet)(this,N,e),this.hostTile._setOccupant(this.playerId,this.status.immigrantInfo)}get coord(){return this.hostTile.coord}get hostTile(){return(0,m.__classPrivateFieldGet)(this,N)}moveTo(e){this.hostTile.occupantId!==this.playerId||this.hostTile.evictOccupant(),e.isOccupied||((0,m.__classPrivateFieldSet)(this,N,e),e._setOccupant(this.playerId,this.status.immigrantInfo))}}N=new WeakMap,function(e){var t,r;class s{constructor(e){t.set(this,void 0),r.set(this,void 0),(0,m.__classPrivateFieldSet)(this,t,e),(0,m.__classPrivateFieldSet)(this,r,e.game.grid.tile._source)}_getTileAt(){return(0,m.__classPrivateFieldGet)(this,r)._getTileAt((0,m.__classPrivateFieldGet)(this,t).coord)}_getTileDestsFrom(){return(0,m.__classPrivateFieldGet)(this,r)._getTileDestsFrom((0,m.__classPrivateFieldGet)(this,t).coord)}_getTileSourcesTo(){return(0,m.__classPrivateFieldGet)(this,r)._getTileSourcesTo((0,m.__classPrivateFieldGet)(this,t).coord)}}t=new WeakMap,r=new WeakMap,e.TileGetterSource=s,Object.freeze(s),Object.freeze(s.prototype)}(S||(S={})),d.R.protoNoEnum(S,"_afterAllPlayersConstruction"),Object.freeze(S),Object.freeze(S.prototype);class C{constructor(e,t){if(Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"members",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),w.set(this,void 0),0===t.length)throw new Error("Teams must have at least one member.");this.id=e,this.members=t,(0,m.__classPrivateFieldSet)(this,w,this.members.every((e=>e.status.noCheckGameOver))?C.ElimOrder.IMMORTAL:C.ElimOrder.STANDING),d.R.propNoWrite(this,"id","members")}reset(){this.elimOrder!==C.ElimOrder.IMMORTAL&&(this.elimOrder=C.ElimOrder.STANDING)}get elimOrder(){return(0,m.__classPrivateFieldGet)(this,w)}set elimOrder(e){if(this.elimOrder===C.ElimOrder.IMMORTAL)throw new TypeError("Cannot change the elimination status of an immortal team.");(0,m.__classPrivateFieldSet)(this,w,e)}}w=new WeakMap,function(e){let t;!function(e){e.IMMORTAL=-1,e.STANDING=0}(t=e.ElimOrder||(e.ElimOrder={}))}(C||(C={})),Object.freeze(C),Object.freeze(C.prototype);class F{constructor(e,t){Object.defineProperty(this,"player",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"noCheckGameOver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),T.set(this,void 0),this.player=e,this.noCheckGameOver=t,d.R.instNoEnum(this,"player")}reset(){this.health=0}_afterAllPlayersConstruction(){}get immigrantInfo(){}get health(){return(0,m.__classPrivateFieldGet)(this,T)}set health(e){const t=this.isDowned;if((0,m.__classPrivateFieldSet)(this,T,e),t||!this.isDowned||this.noCheckGameOver)return;const r=this.player.team,s=this.player.game.teams;if(r.elimOrder===C.ElimOrder.STANDING&&r.members.every((e=>e.status.noCheckGameOver||e.status.isDowned))){const e=1+s.filter((e=>e.elimOrder!==C.ElimOrder.STANDING)).length;r.elimOrder=1+s.filter((e=>e.elimOrder!==C.ElimOrder.STANDING&&e.elimOrder!==C.ElimOrder.IMMORTAL)).length,e===s.length&&this.player.game.statusBecomeOver()}}get isDowned(){return this.health<0}}T=new WeakMap,d.R.protoNoEnum(F,"_afterAllPlayersConstruction"),Object.freeze(F),Object.freeze(F.prototype);class L extends S{constructor(e,t){var r;super(e,t),Object.defineProperty(this,"familyId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"teamId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"username",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"avatar",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lastAcceptedRequestId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"requestInFlight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.familyId=t.familyId,this.teamId=t.teamId,this.username=t.username,this.avatar=null!==(r=t.avatar)&&void 0!==r?r:L.Avatar.GET_RANDOM(),d.R.propNoWrite(this,"familyId","teamId","username","avatar")}reset(e){super.reset(e),this.status.reset(),this.lastAcceptedRequestId=P.INITIAL_REQUEST_ID,this.requestInFlight=!1}_notifyGameNowPlaying(){}_notifyGameNowPaused(){}_notifyGameNowOver(){}makeMovementRequest(e,t){this.requestInFlight=!0,this.game.processMoveRequest(new P.Movement(this.playerId,this.lastAcceptedRequestId,e,t))}get team(){return this.game.teams[this.teamId]}isTeamedWith(e){return this.team.members.includes(e)}}!function(e){let t;!function(e){e.finalize=function(e){const t=Array.from(new Set(e.map((e=>e.teamId)))).sort(((e,t)=>e-t)).reduce(((e,t,r)=>(e[t]=r,e)),[]);return e.slice().sort(((e,r)=>t[e.teamId]-t[r.teamId])).map(((e,r)=>Object.assign({},e,{playerId:r,teamId:t[e.teamId]})))}}(t=e.CtorArgs||(e.CtorArgs={})),Object.freeze(t)}(L||(L={})),d.R.protoNoEnum(L,"_notifyGameNowPaused","_notifyGameNowPlaying","_notifyGameNowOver"),Object.freeze(L),Object.freeze(L.prototype);var x,G,D,z,H,k,U,q,B,W,V,K,J=r(115);!function(e){let t;!function(e){e.EUCLID2="EUCLID2",e.BEEHIVE="BEEHIVE"}(t=e.System||(e.System={})),e.equals=function(e,t){return e._equals(t)}}(x||(x={})),Object.freeze(x);class Y extends L{constructor(e,t){super(e,t),Object.defineProperty(this,"_nextMovementTimerMultiplier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_scheduledMovementCallbackId",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_notifyGameNowPlaying(){super._notifyGameNowPlaying(),this.delayedMovementContinue()}_notifyGameNowPaused(){this.game.cancelTimeout(this._scheduledMovementCallbackId),this._scheduledMovementCallbackId=void 0}_notifyGameNowOver(){this.game.cancelTimeout(this._scheduledMovementCallbackId),this._scheduledMovementCallbackId=void 0}movementContinue(){const e=this.computeDesiredDest();this._nextMovementTimerMultiplier=this.game.grid.tile.at(e).langSeq.length,this.makeMovementRequest(this.game.grid.getUntToward(e,this.coord),this.getNextMoveType()),this.delayedMovementContinue()}delayedMovementContinue(){this._scheduledMovementCallbackId=this.game.setTimeout(this.movementContinue.bind(this),this.computeNextMovementTimer()*this._nextMovementTimerMultiplier)}}!function(e){e.of=(t,r)=>{const s=r.familyId;return new e._Constructors[s](t,r)}}(Y||(Y={})),d.R.protoNoEnum(Y,"movementContinue");class ${constructor(e){Object.defineProperty(this,"entries",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const t=[];for(const r of e)t[r]=new $.Entry;this.entries=t,d.R.propNoWrite(this,"entries")}reset(){for(const e of this.entries)e.reset()}}!function(e){class t{constructor(){Object.defineProperty(this,"moveCounts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"totalHealthPickedUp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.moveCounts={}}reset(){this.totalHealthPickedUp=0,Object.getOwnPropertyNames(I.J5.MoveType).forEach((e=>{this.moveCounts[e]=0}))}}e.Entry=t,Object.freeze(t),Object.freeze(t.prototype)}($||($={})),Object.freeze($),Object.freeze($.prototype);class X{constructor(e,t,r){Object.defineProperty(this,"gameType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"grid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),G.set(this,void 0),Object.defineProperty(this,"langFrontend",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"players",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"operators",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),D.set(this,void 0),Object.defineProperty(this,"teams",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),z.set(this,void 0),Object.defineProperty(this,"_playerStatusCtor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.gameType=e;const s=this._getGridImplementation(r.coordSys);this.grid=new s({gridClass:s,tileClass:t.tileClass,coordSys:r.coordSys,dimensions:r.gridDimensions}),(0,m.__classPrivateFieldSet)(this,G,t.onGameBecomeOver),this.langFrontend=I.Uo.GET_FRONTEND_DESC_BY_ID(r.langId),this._playerStatusCtor=t.playerStatusCtor,this.players=this.createPlayers(r),this.operators=Object.freeze(this.players.filter((e=>e.isALocalOperator)));{const e=[];if(this.players.forEach((t=>{e[t.teamId]||(e[t.teamId]=[]),e[t.teamId].push(t)})),this.teams=e.map(((e,t)=>new C(t,e))),this.teams.every((e=>e.id===C.ElimOrder.IMMORTAL)))throw new Error("All teams are immortal. The game will never end.")}d.R.propNoWrite(this,"gameType","grid","langFrontend","players","operators","teams","_playerStatusCtor"),this.players.forEach((e=>e._afterAllPlayersConstruction())),this.setCurrentOperator(0)}reset(){return(0,m.__awaiter)(this,void 0,void 0,(function*(){this.grid.reset(),(0,m.__classPrivateFieldSet)(this,z,u.Status.PAUSED)}))}createPlayers(e){const t=e.playerDescs=this.gameType===u.Type.ONLINE?e.playerDescs:L.CtorArgs.finalize(e.playerDescs);return Object.freeze(t.map((e=>e.familyId===L.Family.HUMAN?e.isALocalOperator?this._createOperatorPlayer(e):new L(this,e):this._createArtifPlayer(e))))}serializeResetState(){const e=[],t=this.players.map((e=>e.coord)),r=[];this.grid.forEachTile((t=>{t.lastKnownUpdateId++,e.push({char:t.langChar,seq:t.langSeq}),t.freeHealth&&r.push({coord:t.coord,health:t.freeHealth})}));const s={csps:e,playerCoords:t,healthCoords:r};return d.R.deepFreeze(s),s}deserializeResetState(e){d.R.deepFreeze(e),this.grid.forEachTile(((t,r)=>{t.setLangCharSeqPair(e.csps[r]),t.lastKnownUpdateId++})),e.playerCoords.forEach(((e,t)=>{this.players[t].reset(this.grid.tile.at(e))})),e.healthCoords.forEach((e=>{this.grid.tile.at(e.coord).freeHealth=e.health}))}get currentOperator(){return(0,m.__classPrivateFieldGet)(this,D)}setCurrentOperator(e){const t=this.operators[e];if(void 0===t)throw new Error("never");this.currentOperator!==t&&(t._notifyWillBecomeCurrent(),(0,m.__classPrivateFieldSet)(this,D,t))}get status(){return(0,m.__classPrivateFieldGet)(this,z)}statusBecomePlaying(){if(this.status!==u.Status.PLAYING){if(this.status!==u.Status.PAUSED)throw new Error("Can only resume a game that is currently paused.");this.players.forEach((e=>{e._notifyGameNowPlaying()})),(0,m.__classPrivateFieldSet)(this,z,u.Status.PLAYING)}else console.info("[statusBecomePlaying]: Game is already playing")}statusBecomePaused(){this.status!==u.Status.PAUSED?this.status!==u.Status.OVER&&(this.players.forEach((e=>{e._notifyGameNowPaused()})),(0,m.__classPrivateFieldSet)(this,z,u.Status.PAUSED)):console.info("[statusBecomePaused]: Game is already paused")}statusBecomeOver(){this.status!==u.Status.OVER&&(this.players.forEach((e=>{e._notifyGameNowOver()})),(0,m.__classPrivateFieldSet)(this,z,u.Status.OVER),(0,m.__classPrivateFieldGet)(this,G).call(this),console.info("game is over!"))}}G=new WeakMap,D=new WeakMap,z=new WeakMap,Object.freeze(X),Object.freeze(X.prototype);class Z extends X{constructor(e,t,r){super(e,t,r),Object.defineProperty(this,"eventRecordBitmap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),H.set(this,void 0),this.eventRecordBitmap=[],d.R.propNoWrite(this,"eventRecordBitmap")}reset(){const e=super.reset();return this.eventRecordBitmap.fill(!1,0,u.K.EVENT_RECORD_WRAPPING_BUFFER_LENGTH),(0,m.__classPrivateFieldSet)(this,H,0),e}get nextUnusedEventId(){return(0,m.__classPrivateFieldGet)(this,H)}_recordEvent(e){const t=e.eventId,r=t%u.K.EVENT_RECORD_WRAPPING_BUFFER_LENGTH;this.eventRecordBitmap[r]=!0,this.eventRecordBitmap[(t+u.K.EVENT_RECORD_WRAPPING_BUFFER_LENGTH-u.K.EVENT_RECORD_FORWARD_WINDOW_LENGTH)%u.K.EVENT_RECORD_WRAPPING_BUFFER_LENGTH]=!1,(0,m.__classPrivateFieldSet)(this,H,+(0,m.__classPrivateFieldGet)(this,H)+1)}executeTileModEvent(e,t=!0){d.R.deepFreeze(e);const r=this.grid.tile.at(e.coord);return r.lastKnownUpdateId>e.lastKnownUpdateId||(e.newCharSeqPair&&(r.setLangCharSeqPair(e.newCharSeqPair),t&&this.operators.filter((e=>e.tile.destsFrom().get.includes(r))).forEach((e=>e.seqBufferAcceptKey("")))),r.lastKnownUpdateId=e.lastKnownUpdateId,r.freeHealth=e.newFreeHealth),r}executePlayerMoveEvent(e){var t;d.R.deepFreeze(e);const r=this.players[e.playerId],s=e.playerLastAcceptedRequestId-r.lastAcceptedRequestId;if(e.eventId===O.EVENT_ID_REJECT)return void(0===s&&(r.requestInFlight=!1));this._recordEvent(e);const i=this.executeTileModEvent(e.destModDesc,r!==this.currentOperator);if(null===(t=e.tileHealthModDescs)||void 0===t||t.forEach((e=>{this.executeTileModEvent(e)})),!(s>1)){if(r.requestInFlight=!1,!(r===this.currentOperator?1===s:s<=1))throw new RangeError("never");r.status.health=e.newPlayerHealth.health,r.moveTo(i),r.lastAcceptedRequestId=e.playerLastAcceptedRequestId}}executePlayerBubbleEvent(e){this.players[e.playerId].requestInFlight=!1,e.eventId!==O.EVENT_ID_REJECT&&this._recordEvent(e)}}H=new WeakMap,d.R.protoNoEnum(Z,"nextUnusedEventId","_recordEvent"),Object.freeze(Z),Object.freeze(Z.prototype),function(e){class t{constructor(e){Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.x=e.x,this.y=e.y,Object.freeze(this)}_equals(e){return this.x===e.x&&this.y===e.y}round(){return new t({x:Math.round(this.x),y:Math.round(this.y)})}oneNorm(e){return this.sub(e).originOneNorm()}originOneNorm(){return Math.abs(this.x)+Math.abs(this.y)}infNorm(e){return this.sub(e).originInfNorm()}originInfNorm(){return Math.max(Math.abs(this.x),Math.abs(this.y))}axialAlignment(e){return this.sub(e).originAxialAlignment()}originAxialAlignment(){return Math.abs(Math.abs(this.x)-Math.abs(this.y))/(Math.abs(this.x)+Math.abs(this.y))}add(e){return new t({x:this.x+e.x,y:this.y+e.y})}sub(e){return new t({x:this.x-e.x,y:this.y-e.y})}mul(e){return new t({x:e*this.x,y:e*this.y})}}e.Coord=t,Object.freeze(t),Object.freeze(t.prototype);class r extends M{constructor(e){super(e),Object.defineProperty(this,"grid",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const r=[];for(let s=0;s<this.dimensions.height;s++){const i=[];for(let r=0;r<this.dimensions.width;r++){const a=new e.tileClass(new t({x:r,y:s}));i.push(a)}r.push(Object.freeze(i))}this.grid=Object.freeze(r)}static getAmbiguityThreshold(){return 24}static getSizeLimits(){return this.SIZE_LIMITS}forEachTile(e){let t=0;for(const r of this.grid)for(const s of r)e(s,t++)}shuffledForEachTile(e){this.grid.flat().sort(((e,t)=>Math.random()-.5)).forEach((t=>e(t)))}getUntToward(e,t){const r=this.tile.destsFrom(t).unoccupied.get;if(0===r.length)return this.tile.at(t);if(1===r.length)return r[0];r.sort(((t,r)=>t.coord.oneNorm(e)-r.coord.oneNorm(e))).sort(((t,r)=>t.coord.infNorm(e)-r.coord.infNorm(e)));const s=r[0];for(let t=1;t<r.length;t++)if(r[t].coord.infNorm(e)>s.coord.infNorm(e)){r.splice(t);break}if(1===r.length)return r[0];if(s.coord.x-t.x==0||s.coord.y-t.y==0){if(t.axialAlignment(t.sub(e))-.5>0)return s;r.shift()}return r[Math.floor(r.length*Math.random())]}getUntAwayFrom(e,t){return this.getUntToward(t.add(t.sub(e)),t)}getDestsFromSourcesTo(e){return this._getTileDestsFrom(e,2)}getRandomCoordAround(e,r){return new t({x:e.x+Math.trunc(2*r*(Math.random()-.5)),y:e.y+Math.trunc(2*r*(Math.random()-.5))})}_getTileAt(e){return this.grid[e.y][e.x]}_getTileDestsFrom(e,t=1){let r=e.y-t,s=e.y+t+1,i=e.x-t,a=e.x+t+1;return r>=this.dimensions.height||s<0||i>=this.dimensions.width||a<0?[]:this.grid.slice(Math.max(0,r),Math.min(this.dimensions.height,s)).flatMap((e=>e.slice(Math.max(0,i),Math.min(this.dimensions.width,a))))}_getTileSourcesTo(e,t=1){return this._getTileDestsFrom(e,t)}minMovesFromTo(e,t){return Math.min(Math.abs(t.x-e.x),Math.abs(t.y-e.y))}static getSpawnCoords(e,t){const s=[];return e.map((e=>{const i=[];for(;e>0;){let a;do{a=r.getRandomCoord(t)}while(s.find((e=>a._equals(e))));i.push(a),s.push(a),e--}return i}))}static getArea(e){return e.height*e.width}static getDiameterOfLatticePatchHavingArea(e){return Math.sqrt(e)}static getRandomCoord(e){const r=Math.floor(e.width*Math.random()),s=Math.floor(e.height*Math.random());return new t({x:r,y:s})}}Object.defineProperty(r,"SIZE_LIMITS",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze({height:Object.freeze({min:11,max:51}),width:Object.freeze({min:11,max:51})})}),e.Grid=r,d.R.protoNoEnum(r,"_getTileAt","_getTileDestsFrom","_getTileSourcesTo"),Object.freeze(r),Object.freeze(r.prototype)}(k||(k={})),Object.freeze(k),function(e){class t{constructor(e){Object.defineProperty(this,"dash",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bash",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.dash=e.dash,this.bash=e.bash,Object.freeze(this)}_equals(e){return this.dash===e.dash&&this.bash===e.bash}round(){const e=Math.floor(this.dash),r=Math.floor(this.bash),s=e-this.dash,i=r-this.bash;return s>2*i?new t({dash:e+1,bash:r}):s<.5*i?new t({dash:e,bash:r+1}):Math.min(s,i)>.5?new t({dash:e+1,bash:r+1}):new t({dash:e,bash:r})}add(e){return new t({dash:this.dash+e.dash,bash:this.bash+e.bash})}sub(e){return new t({dash:this.dash-e.dash,bash:this.bash-e.bash})}mul(e){return new t({dash:e*this.dash,bash:e*this.bash})}}e.Coord=t,Object.freeze(t),Object.freeze(t.prototype);class r extends M{constructor(e){super(e),Object.defineProperty(this,"grid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.grid=Object.freeze(void 0)}static getAmbiguityThreshold(){return 18}static getSizeLimits(){return this.SIZE_LIMITS}forEachTile(e){let t=0;for(const r of this.grid)for(const s of r)e(s,t++)}shuffledForEachTile(e){this.grid.flat().sort(((e,t)=>Math.random()-.5)).forEach((t=>e(t)))}getUntToward(e,t){}getUntAwayFrom(e,t){return this.getUntToward(t.add(t.sub(e)),t)}getRandomCoordAround(e,t){}_getTileAt(e){}_getTileDestsFrom(e,t=1){}_getTileSourcesTo(e,t=1){}minMovesFromTo(e,t){}getDestsFromSourcesTo(e){return this._getTileDestsFrom(e,2)}static getSpawnCoords(e,t){}static getArea(e){const t=Math.min(e.fslash,e.bslash),r=Math.max(e.fslash,e.bslash),s=-1+e.dash+t;let i=2*t*(e.dash+s);return i+=(r-t-1)*s,i}static getDiameterOfLatticePatchHavingArea(e){if(e<.25)throw new RangeError("determinant of a radical will be strictly negative.");return 1+(-3+Math.sqrt(9-12*(1-e)))/6*2}static getRandomCoord(e){return new t(void 0)}}Object.defineProperty(r,"SIZE_LIMITS",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze({dash:Object.freeze({min:10,max:50}),bslash:Object.freeze({min:10,max:50}),fslash:Object.freeze({min:10,max:50})})}),e.Grid=r,d.R.protoNoEnum(r,"_getTileAt","_getTileDestsFrom","_getTileSourcesTo"),Object.freeze(r),Object.freeze(r.prototype)}(U||(U={})),Object.freeze(U);class Q extends Y{constructor(e,t){super(e,t),Object.defineProperty(this,"threatProximity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"targetProximity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"behaviour",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"grid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),q.set(this,void 0),this.behaviour=Object.freeze(Object.assign({},Q.Behaviour.DEFAULT,t.familyArgs)),this.grid=this.game.grid}_afterAllPlayersConstruction(){super._afterAllPlayersConstruction(),this.threatProximity=this.game.teams.filter((e=>e.id!==this.teamId)).flatMap((e=>e.members)),this.targetProximity=[...this.threatProximity],d.R.propNoWrite(this,"threatProximity","targetProximity","behaviour","grid")}reset(e){super.reset(e),(0,m.__classPrivateFieldSet)(this,q,this.coord)}moveTo(e){(0,m.__classPrivateFieldSet)(this,q,this.coord),super.moveTo(e)}computeDesiredDest(){this.threatProximity.sort(((e,t)=>this.grid.minMovesFromTo(e.coord,this.coord)-this.grid.minMovesFromTo(t.coord,this.coord)));for(const e of this.threatProximity){if(this.grid.minMovesFromTo(e.coord,this.coord)>this.behaviour.fearDistance)break;if(!e.status.isDowned&&e.status.health>this.status.health)return this.grid.getUntAwayFrom(e.coord,this.coord).coord}if(this.targetProximity.sort(((e,t)=>this.grid.minMovesFromTo(this.coord,e.coord)-this.grid.minMovesFromTo(this.coord,t.coord))),this.status.isDowned)for(const e of this.targetProximity){if(this.grid.minMovesFromTo(this.coord,e.coord)>this.behaviour.bloodThirstDistance)break;if(e.status.health<this.status.health-this.behaviour.healthReserve)return e.coord}if(0===this.game.freeHealthTiles.size){if(Math.random()<this.behaviour.wanderingAimlessness)return this.grid.getRandomCoordAround(this.coord,3);{const e=this.grid.getUntAwayFrom.bind(this.grid,(0,m.__classPrivateFieldGet)(this,q));return this.grid.getRandomCoordAround(e(e(this.coord).coord).coord,1)}}let e,t=1/0;for(const r of this.game.freeHealthTiles){const s=this.grid.minMovesFromTo(this.coord,r.coord);s<t&&(e=r,t=s)}return e.coord}getNextMoveType(){return L.MoveType.NORMAL}computeNextMovementTimer(){return 1e3/this.behaviour.keyPressesPerSecond}}q=new WeakMap,function(e){let t;!function(e){e.DEFAULT=Object.freeze({fearDistance:5,bloodThirstDistance:7,healthReserve:3,keyPressesPerSecond:2,wanderingAimlessness:.2})}(t=e.Behaviour||(e.Behaviour={}))}(Q||(Q={})),d.R.protoNoEnum(Q,"_afterAllPlayersConstruction"),Object.freeze(Q),Object.freeze(Q.prototype),(()=>{M._Constructors=Object.freeze({EUCLID2:k.Grid,BEEHIVE:U.Grid}),Object.freeze(M),Object.freeze(M.prototype);{const e=Y;e._Constructors=Object.freeze({CHASER:Q}),Object.freeze(e),Object.freeze(e.prototype)}})();class ee extends Z{constructor(e,t,s){super(e,t,s),Object.defineProperty(this,"averageFreeHealth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"averageFreeHealthPerTile",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"healthCostOfBoost",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),B.set(this,void 0),W.set(this,void 0),Object.defineProperty(this,"lang",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),V.set(this,void 0),Object.defineProperty(this,"scoreInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.averageFreeHealth=s.averageFreeHealthPerTile*this.grid.area,this.averageFreeHealthPerTile=s.averageFreeHealthPerTile,this.healthCostOfBoost=u.K.HEALTH_COST_OF_BOOST(this.averageFreeHealthPerTile,this.grid.static.getDiameterOfLatticePatchHavingArea),(0,m.__classPrivateFieldSet)(this,W,new Set),this.scoreInfo=new $(this.players.map((e=>e.playerId))),d.R.propNoWrite(this,"averageFreeHealth","averageFreeHealthPerTile","healthCostOfBoost","scoreInfo"),(0,m.__classPrivateFieldSet)(this,V,r(59)(`./${this.langFrontend.module}.ts`).then((e=>{const t=this.langFrontend.export.split(".").reduce(((e,t)=>e[t]),e[this.langFrontend.module]);return this.lang=new t(s.langWeightExaggeration),d.R.propNoWrite(this,"lang"),this.grid.static.getAmbiguityThreshold(),this.lang})))}reset(){const e=Object.create(null,{reset:{get:()=>super.reset}});return(0,m.__awaiter)(this,void 0,void 0,(function*(){yield e.reset.call(this),(0,m.__classPrivateFieldSet)(this,B,0),(0,m.__classPrivateFieldGet)(this,W).clear(),yield(0,m.__classPrivateFieldGet)(this,V),this.lang.reset(),this.grid.shuffledForEachTile((e=>{e.setLangCharSeqPair(this.dryRunShuffleLangCharSeqAt(e))})),this.teams.forEach((e=>e.reset()));const t=this.grid.static.getSpawnCoords(this.teams.map((e=>e.members.length)),this.grid.dimensions);return this.teams.forEach(((e,r)=>{e.members.forEach(((e,s)=>{e.reset(this.grid.tile.at(t[r][s]))}))})),this.scoreInfo.reset(),Promise.resolve()}))}_createArtifPlayer(e){return Y.of(this,e)}dryRunShuffleLangCharSeqAt(e,t=!1){e.setLangCharSeqPair(J.U.CharSeqPair.NULL);let r=this.grid.getDestsFromSourcesTo(e.coord).map((e=>e.langSeq));if(t){const e=J.U.CharSeqPair.NULL.seq;r=r.filter((t=>t!==e))}return Object.freeze(r),this.lang.getNonConflictingChar(r)}get currentFreeHealth(){return(0,m.__classPrivateFieldGet)(this,B)}get freeHealthTiles(){return(0,m.__classPrivateFieldGet)(this,W)}dryRunSpawnFreeHealth(e){var t;let r=this.averageFreeHealth-this.currentFreeHealth;if(r<=0)return;const s=[];for(;r>0;){let i;do{i=this.grid.tile.at(this.grid.getRandomCoord())}while(i.isOccupied||s.find((e=>x.equals(i.coord,e.coord))));const a=u.K.AVERAGE_HEALTH_TO_SPAWN_ON_TILE;if(Math.random()<u.K.HEALTH_UPDATE_CHANCE){let r;(r=e.find((e=>x.equals(i.coord,e.coord))))?r.newFreeHealth=(null!==(t=r.newFreeHealth)&&void 0!==t?t:0)+a:s.push({coord:i.coord,lastKnownUpdateId:1+i.lastKnownUpdateId,newFreeHealth:i.freeHealth+a})}r-=a}return s}executeTileModEvent(e,t=!0){d.R.deepFreeze(e);const r=this.grid.tile.at(e.coord);return(0,m.__classPrivateFieldSet)(this,B,(0,m.__classPrivateFieldGet)(this,B)+(e.newFreeHealth-r.freeHealth)),0===e.newFreeHealth?(0,m.__classPrivateFieldGet)(this,W).delete(r):(0,m.__classPrivateFieldGet)(this,W).add(r),super.executeTileModEvent(e,t),r}managerCheckGamePlayingRequest(e){if(this.status!==u.Status.PLAYING)return;const t=this.players[e.playerId];if(!t)throw new Error("No such player exists.");if(e.playerLastAcceptedRequestId!==t.lastAcceptedRequestId)throw new RangeError(e.playerLastAcceptedRequestId<t.lastAcceptedRequestId?"Clients should not make requests until they have received my response to their last request.":"Client seems to have incremented the request ID counter on their own, which is is illegal.");return t}processMoveRequest(e){const t=this.managerCheckGamePlayingRequest(e);if(void 0===t)return void this.executePlayerMoveEvent(e);const r=this.grid.tile.at(e.destModDesc.coord);if(r.isOccupied||r.lastKnownUpdateId!==e.destModDesc.lastKnownUpdateId)return void this.executePlayerMoveEvent(e);const s=e.moveType===L.MoveType.BOOST,i=t.status.health+r.freeHealth*(t.status.isDowned?u.K.HEALTH_EFFECT_FOR_DOWNED_PLAYER:1)-(s?this.healthCostOfBoost:0);if(s&&i<0)return void this.executePlayerMoveEvent(e);const a=this.scoreInfo.entries[t.playerId];a.totalHealthPickedUp+=r.freeHealth,a.moveCounts[e.moveType]+=1,e.playerLastAcceptedRequestId=1+t.lastAcceptedRequestId,e.newPlayerHealth={health:i},e.destModDesc.lastKnownUpdateId=1+r.lastKnownUpdateId,e.destModDesc.newFreeHealth=0,e.destModDesc.newCharSeqPair=this.dryRunShuffleLangCharSeqAt(r),e.tileHealthModDescs=this.dryRunSpawnFreeHealth([e.destModDesc]),e.eventId=this.nextUnusedEventId,this.executePlayerMoveEvent(e)}processPlayerContact(e){}processBubbleRequest(e){const t=this.managerCheckGamePlayingRequest(e);t?(e.playerLastAcceptedRequestId=1+t.lastAcceptedRequestId,e.eventId=this.nextUnusedEventId,this.executePlayerBubbleEvent(e)):this.executePlayerBubbleEvent(e)}}B=new WeakMap,W=new WeakMap,V=new WeakMap,function(e){e.CHECK_VALID_CTOR_ARGS=function(e){const t=[],r=Object.freeze({coordSys:0,gridDimensions:0,averageFreeHealthPerTile:0,langId:0,langWeightExaggeration:0,playerDescs:0}),s=[];for(const t in r){null==e[t]&&s.push(t)}return s.length&&t.push("Missing the following arguments: "+s),void 0===J.U.GET_FRONTEND_DESC_BY_ID(e.langId)&&t.push(`No language with the ID \`${e.langId}\` exists.`),NaN===parseInt(e.langWeightExaggeration)?t.push(`Language Weight Exaggeration expected a number, but\`${e.langWeightExaggeration}\` is not a number.`):e.langWeightExaggeration=Math.max(0,parseFloat(e.langWeightExaggeration)),t}}(ee||(ee={})),d.R.protoNoEnum(ee,"managerCheckGamePlayingRequest"),Object.freeze(ee),Object.freeze(ee.prototype);class te extends ee{constructor(e){super(u.Type.SERVER,{onGameBecomeOver:()=>{},tileClass:R,playerStatusCtor:F},e.gameDesc),Object.defineProperty(this,"namespace",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_groupHostClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"gameEvSocketListeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_deleteExternalRefs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"playerSockets",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._groupHostClient=e.groupHostClient,this._deleteExternalRefs=e.deleteExternalRefs,d.R.instNoEnum(this,"operators","_deleteExternalRefs"),d.R.propNoWrite(this,"_groupHostClient","_deleteExternalRefs"),this.namespace=e.groupNsps.server.of(p.Nsps.GROUP_GAME_PREFIX+e.groupNsps.name.replace(p.Nsps.GROUP_LOBBY_PREFIX,"")),d.R.propNoWrite(this,"namespace"),this.gameEvSocketListeners=Object.freeze({[P.EVENT_NAME.MOVEMENT]:this.processMoveRequest.bind(this),[P.EVENT_NAME.BUBBLE]:this.processBubbleRequest.bind(this),[h.PAUSE]:this.statusBecomePaused.bind(this),[h.UNPAUSE]:this.statusBecomePlaying.bind(this)}),d.R.instNoEnum(this,"gameEvSocketListeners"),d.R.propNoWrite(this,"gameEvSocketListeners"),this._awaitGameSockets(e)}_getGridImplementation(e){return M.getImplementation(e)}_awaitGameSockets(e){const t=new Map,r=Array.from(e.groupNsps.sockets.values(),(e=>new Promise((r=>{t.set(e.client.id,r)}))));Promise.all(r).then((()=>{this.namespace.removeAllListeners("connect"),this._greetGameSockets(e.gameDesc)})).catch((e=>{setImmediate((()=>{throw e}))})),this.namespace.on("connect",(e=>{e.on("disconnect",(()=>{1===this.namespace.sockets.size&&this.terminate()})),t.get(e.client.id)()})),e.groupNsps.emit(c.CREATE_GAME)}_greetGameSockets(e){const t=e.playerDescs.filter((e=>e.familyId===L.Family.HUMAN));{const e=new Map(Array.from(this.namespace.sockets.values(),(e=>[e.client.id,e])));this.playerSockets=t.reduce(((t,r)=>{if(void 0===r.clientId)throw new Error("missing socket client for player with ID "+r.playerId);const s=e.get(r.clientId);if(void 0===s)throw new Error("never");return t.set(r.playerId,s),t}),new Map),d.R.propNoWrite(this,"playerSockets")}Promise.all(Array.from(this.namespace.sockets.values(),(e=>new Promise((t=>{e.once(h.RESET,(()=>{t()}))}))))).then((()=>{this.reset()}));for(const e of this.namespace.sockets.values())e.on(h.RETURN_TO_LOBBY,(()=>{e.client===this._groupHostClient?(this.statusBecomeOver(),e.broadcast.emit(h.RETURN_TO_LOBBY),this.terminate()):e.broadcast.emit(h.RETURN_TO_LOBBY,e.id)})),Object.entries(this.gameEvSocketListeners).forEach((([t,r])=>{e.on(t,r)}));for(const r of this.namespace.sockets.values())t.forEach((e=>{e.isALocalOperator=e.clientId===r.client.id})),r.emit(h.CREATE_GAME,e)}async reset(){Promise.all(Array.from(this.namespace.sockets.values(),(e=>new Promise((t=>{e.once(h.UNPAUSE,(()=>{t()}))}))))).then((()=>{this.statusBecomePlaying()}));const e=super.reset();return await e,this.namespace.emit(h.RESET,this.serializeResetState()),e}_createOperatorPlayer(e){throw new TypeError("This should never be called for a ServerGame.")}setCurrentOperator(e){}setTimeout(e,t,...r){return setTimeout(e,t,r).unref()}cancelTimeout(e){clearTimeout(e)}statusBecomePlaying(){super.statusBecomePlaying(),this.namespace.emit(h.UNPAUSE)}statusBecomePaused(){super.statusBecomePaused(),this.namespace.emit(h.PAUSE)}executePlayerMoveEvent(e){super.executePlayerMoveEvent(e),e.eventId===O.EVENT_ID_REJECT?this.playerSockets.get(e.playerId).emit(P.EVENT_NAME.MOVEMENT,e):this.namespace.emit(P.EVENT_NAME.MOVEMENT,e)}executePlayerBubbleEvent(e){super.executePlayerBubbleEvent(e),e.eventId===O.EVENT_ID_REJECT?this.playerSockets.get(e.playerId).emit(P.EVENT_NAME.BUBBLE,e):this.namespace.emit(P.EVENT_NAME.BUBBLE,e)}terminate(){for(const e of this.namespace.sockets.values())e.disconnect(),e.removeAllListeners();this.namespace.removeAllListeners(),this._deleteExternalRefs()}}d.R.protoNoEnum(te,"_awaitGameSockets","_greetGameSockets","_getGridImplementation","_createOperatorPlayer","setCurrentOperator"),Object.freeze(te),Object.freeze(te.prototype);class re extends f{constructor(e){super(),Object.defineProperty(this,"namespace",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"passphrase",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),K.set(this,void 0),Object.defineProperty(this,"_sessionHost",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"socketListeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_initialTtlTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_deleteExternalRefs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.namespace=e.namespace,this.name=e.name,this.passphrase=e.passphrase,(0,m.__classPrivateFieldSet)(this,K,void 0),this._deleteExternalRefs=e.deleteExternalRefs,this._initialTtlTimeout=setTimeout((()=>{0===this.namespace.sockets.size&&this.terminate()}),1e3*re.DEFAULT_TTL).unref(),this.socketListeners=Object.freeze({disconnect:(e,t)=>{if(e===this._sessionHost)return void this.terminate();if(1===this.namespace.sockets.size)return void this.terminate();const r={[e.id]:void 0};e.nsp.emit(re.Socket.UserInfoChange.EVENT_NAME,r)},[re.Socket.UserInfoChange.EVENT_NAME]:(e,t)=>{if("string"!=typeof t.username||"number"!=typeof t.teamId||"string"!=typeof t.avatar)return void console.log(`bad format: username: \`${t.username}\`, teamId: \`${t.teamId}\`, avatar: \`${t.avatar}\`.`);e.userInfo=t;const r={[e.id]:t};e.nsp.emit(re.Socket.UserInfoChange.EVENT_NAME,r)}}),d.R.instNoEnum(this,"socketListeners"),d.R.propNoWrite(this,"socketListeners"),this.namespace.use(((e,t)=>{e.handshake.auth.passphrase!==this.passphrase&&t(new Error("Incorrect passphrase"));const r=e.handshake.auth.userInfo;return void 0!==r&&0===r.teamId||t(new Error(`a socket attempted to connect to group \`${this.name}\` without providing userInfo.`)),t()})).on("connection",this.onConnection.bind(this))}onConnection(e){console.info(`socket connect (group):  ${e.id}`),(0,m.__classPrivateFieldGet)(this,K)&&e.disconnect(),e.userInfo=e.handshake.auth.userInfo;{const t=re.Socket.UserInfoChange.EVENT_NAME;e.nsp.emit(t,{[e.id]:e.userInfo});const r={};for(const[e,t]of this.sockets.entries())r[e]=t.userInfo;e.emit(t,r)}1===e.nsp.sockets.size&&(clearTimeout(this._initialTtlTimeout),this._initialTtlTimeout=void 0,this._sessionHost=e,this.namespace.server.of(p.Nsps.GROUP_JOINER).emit(re.Exist.EVENT_NAME,{[this.name]:re.Exist.Status.IN_LOBBY}),e.on(c.CREATE_GAME,this._socketOnHostCreateGame.bind(this))),Object.entries(this.socketListeners).forEach((([t,r])=>{e.on(t,r.bind(this,e))}))}_socketOnHostCreateGame(e){const t=this._createGameInstance(e);t.length?console.info(t):(this.namespace.server.of(p.Nsps.GROUP_JOINER).emit(re.Exist.EVENT_NAME,{[this.name]:re.Exist.Status.IN_GAME}),console.info(`group ${this.name} new game`))}get isCurrentlyPlayingAGame(){return void 0!==(0,m.__classPrivateFieldGet)(this,K)}terminate(){function e(e){e.removeAllListeners("connect"),e.removeAllListeners("connection");for(const t of e.sockets.values())t.disconnect(!1),t.removeAllListeners();e.removeAllListeners(),e.server._nsps.delete(e.name)}void 0!==(0,m.__classPrivateFieldGet)(this,K)&&(e((0,m.__classPrivateFieldGet)(this,K).namespace),(0,m.__classPrivateFieldSet)(this,K,void 0));const t=this.namespace.server;e(this.namespace),this.namespace=void 0,this._deleteExternalRefs(),t.of(p.Nsps.GROUP_JOINER).emit(re.Exist.EVENT_NAME,{[this.name]:re.Exist.Status.DELETE}),console.info(`terminated group: \`${this.name}\``)}_createGameInstance(e){const t=[];return this.isCurrentlyPlayingAGame?(t.push("a game is already in session for this group"),t):(t.push(...ee.CHECK_VALID_CTOR_ARGS(e)),t.length?t:(e.playerDescs=[...e.playerDescs,...Array.from(this.sockets.values(),(e=>Object.freeze({isALocalOperator:!1,familyId:"HUMAN",teamId:e.userInfo.teamId,clientId:e.client.id,username:e.userInfo.username,avatar:e.userInfo.avatar,noCheckGameOver:!1,familyArgs:{}})))],(0,m.__classPrivateFieldSet)(this,K,new te({groupNsps:this.namespace,groupHostClient:this._sessionHost.client,deleteExternalRefs:()=>{(0,m.__classPrivateFieldSet)(this,K,void 0)},gameDesc:e})),[]))}get sockets(){return this.namespace.sockets}}K=new WeakMap,d.R.protoNoEnum(re,"_socketOnHostCreateGame"),Object.freeze(re),Object.freeze(re.prototype);class se extends p{constructor(e,t){var r;void 0===e&&(e=Number.parseInt(null!==(r=process.env.PORT)&&void 0!==r?r:se.DEFAULT_PORT.toString())),void 0===t&&(t=void 0),super(),Object.defineProperty(this,"http",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"app",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"io",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"allGroups",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_joinerSocketListeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.app=o(),this.http=a.createServer({},this.app),this.io=new l.Server(this.http,{}),this.allGroups=new Map,d.R.propNoWrite(this,"http","app","io","allGroups");const s=i.resolve(__dirname,"../client");this.app.disable("x-powered-by"),this.app.use("/",n(s,{enableBrotli:!0,serveStatic:{setHeaders:(e,t,r)=>{e.setHeader("X-Content-Type-Options","nosniff"),"text/html"===o.static.mime.lookup(t)&&e.setHeader("Cache-Control","public, max-age=0")}}})),this.http.listen({port:e,host:t},(()=>{const t=this.http.address();console.info(`\n\nServer mounted to: \`${t.address}${t.port}\` using ${t.family}.\n`),console.info("This host can be reached at any of the following addresses:\n"),se.chooseIPAddress().sort().forEach((t=>{console.info(`${t}:${e}`)})),console.info("")})),this._joinerSocketListeners=Object.freeze({[re.Exist.EVENT_NAME]:(e,t)=>{!t.groupName||this.allGroups.has(t.groupName)||t.groupName.length>re.Name.MaxLength||!t.groupName.match(re.Name.REGEXP)||t.passphrase.length>re.Passphrase.MaxLength||!t.passphrase.match(re.Passphrase.REGEXP)?e.emit(re.Exist.EVENT_NAME,re.Exist.RequestCreate.Response.NOPE):(this.allGroups.set(t.groupName,new re(Object.freeze({namespace:this.io.of(se.Nsps.GROUP_LOBBY_PREFIX+t.groupName),name:t.groupName,passphrase:t.passphrase,deleteExternalRefs:()=>this.allGroups.delete(t.groupName)}))),e.emit(re.Exist.EVENT_NAME,re.Exist.RequestCreate.Response.OKAY))}}),d.R.instNoEnum(this,"_joinerSocketListeners"),d.R.propNoWrite(this,"_joinerSocketListeners"),this.io.of(se.Nsps.GROUP_JOINER).on("connection",this.onJoinerNspsConnection.bind(this))}onJoinerNspsConnection(e){console.info(`socket connect (server): ${e.id}`),e.emit(re.Exist.EVENT_NAME,(()=>{const e={};for(const[t,r]of this.allGroups)e[t]=r.isCurrentlyPlayingAGame?re.Exist.Status.IN_GAME:re.Exist.Status.IN_LOBBY;return e})()),Object.entries(this._joinerSocketListeners).forEach((([t,r])=>{e.on(t,r.bind(this,e))}))}}!function(e){e.chooseIPAddress=()=>Object.values(s.networkInterfaces()).flat().filter((e=>!e.internal)).map((e=>"IPv6"===e.family?`[${e.address}]`:e.address))}(se||(se={})),Object.freeze(se),Object.freeze(se.prototype);const ie=new se},59:(e,t,r)=>{var s={"./Chinese.ts":[216,7,330],"./Emote.ts":[655,9,858],"./English.ts":[891,9,184],"./Japanese.ts":[800,9,410],"./Korean.ts":[3,9,227],"./Ngrams.ts":[492,9,273],"./Numpad.ts":[193,9,683],"./Shell.ts":[521,9,159],"./defs/Chinese.ts":[958,7,704],"./defs/English100.ts":[213,9,885]};function i(e){if(!r.o(s,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],i=t[0];return r.e(t[2]).then((()=>r.t(i,16|t[1])))}i.keys=()=>Object.keys(s),i.id=59,e.exports=i},780:e=>{"use strict";e.exports=require("tslib")}},i={};function a(e){if(i[e])return i[e].exports;var t=i[e]={exports:{}};return s[e](t,t.exports,a),t.exports}return a.m=s,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"==typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"==typeof r.then)return r}var i=Object.create(null);a.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var n=2&s&&r;"object"==typeof n&&!~e.indexOf(n);n=t(n))Object.getOwnPropertyNames(n).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,a.d(i,o),i},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,r)=>(a.f[r](e,t),t)),[])),a.u=e=>"chunk/"+{159:"lang/Shell-ts",184:"lang/English-ts",227:"lang/Korean-ts",273:"lang/Ngrams-ts",330:"lang/Chinese-ts",410:"lang/Japanese-ts",683:"lang/Numpad-ts",704:"lang/defs-Chinese-ts",858:"lang/Emote-ts",885:"lang/defs-English100-ts"}[e]+".js",a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r={826:1},a.f.require=function(e,t){r[e]||(e=>{var t=e.modules,s=e.ids,i=e.runtime;for(var o in t)a.o(t,o)&&(a.m[o]=t[o]);i&&i(a);for(var n=0;n<s.length;n++)r[s[n]]=1})(require("./"+a.u(e)))},a(816)})();
//# sourceMappingURL=index.js.map