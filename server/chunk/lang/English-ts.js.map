{"version":3,"sources":[".././src/base/lang/impl/English.ts?"],"names":["English","weightScaling","super","LETTER_FREQUENCY","Lowercase","Object","freeze","prototype","initializer","addMappings","charSeqTransform","entries","reduce","accumulator","_char","weight","char","seq","cs","toLowerCase","toUpperCase","OldCellphone","Morse","MixedCase","index","NUMPAD","Encode","flatMap","val","idx","button","numpadKey","toString","str","length","push","JSON","parse","LETTER_FREQUENCY_EXT","assign","freq","\"","i","sum","key","dict","plain","cipher","Dict","replace","Decode"],"mappings":"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","file":"chunk/lang/English-ts.js","sourcesContent":["import { Lang } from \"../Lang\";\n\n/**\n */\nexport namespace English {\n\n\t/**\n\t * Lowercase (QWERTY)\n\t *\n\t * https://wikipedia.org/wiki/Keyboard_layout#QWERTY\n\t */\n\texport class Lowercase extends Lang {\n\t\t// TODO.learn see https://wikipedia.org/wiki/Keyboard_layout#Dvorak\n\t\t// and https://wikipedia.org/wiki/Keyboard_layout#Colemak\n\t\tpublic constructor(weightScaling: number) {\n\t\t\tsuper(\"engl-low\", weightScaling);\n\t\t}\n\t\tpublic static BUILD(): Lang.ForwardDict {\n\t\t\treturn Lang.BuildUtils.WORD_FOR_WORD(LETTER_FREQUENCY);\n\t\t}\n\t}\n\tLowercase as Lang.ClassIf;\n\tObject.freeze(Lowercase);\n\tObject.freeze(Lowercase.prototype);\n\n\n\t/**\n\t * Mixed-Case (QWERTY)\n\t *\n\t * https://wikipedia.org/wiki/Keyboard_layout#QWERTY\n\t */\n\texport class MixedCase extends Lang {\n\t\tpublic constructor(weightScaling: number) {\n\t\t\tsuper(\"engl-mix\", weightScaling);\n\t\t}\n\t\tpublic static BUILD(): Lang.ForwardDict {\n\t\t\tlet initializer: Lang.ForwardDict = {};\n\t\t\tconst addMappings = (charSeqTransform: (cs: string) => string): void => {\n\t\t\t\tinitializer = Object.entries(LETTER_FREQUENCY).freeze().reduce(\n\t\t\t\t\t(accumulator, [_char,weight]) => {\n\t\t\t\t\t\tconst char: Lang.Char = charSeqTransform(_char);\n\t\t\t\t\t\taccumulator[char] = { seq: char, weight };\n\t\t\t\t\t\treturn accumulator;\n\t\t\t\t\t},\n\t\t\t\t\tinitializer,\n\t\t\t\t);\n\t\t\t};\n\t\t\taddMappings((cs) => cs.toLowerCase());\n\t\t\taddMappings((cs) => cs.toUpperCase());\n\t\t\treturn initializer;\n\t\t}\n\t}\n\tMixedCase as Lang.ClassIf;\n\tObject.freeze(MixedCase);\n\tObject.freeze(MixedCase.prototype);\n\n\n\texport namespace OldCellphone {\n\t\t/**\n\t\t * You see letters and type as if on an old cellphone's numeric keypad.\n\t\t */\n\t\texport class Encode extends Lang {\n\t\t\tpublic constructor(weightScaling: number) {\n\t\t\t\tsuper(\"engl-cell-enc\", weightScaling);\n\t\t\t}\n\t\t\tpublic static BUILD(): Lang.ForwardDict {\n\t\t\t\treturn Object.entries(LETTER_FREQUENCY).freeze().reduce<Lang.ForwardDict>(\n\t\t\t\t\t(accumulator, [char,weight], index) => {\n\t\t\t\t\t\taccumulator[char] = { seq: NUMPAD[index]!, weight };\n\t\t\t\t\t\treturn accumulator;\n\t\t\t\t\t}, {},\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tEncode as Lang.ClassIf;\n\t\tObject.freeze(Encode);\n\t\tObject.freeze(Encode.prototype);\n\n\t\tconst NUMPAD = [3,3,3,3,3,4,3,4]\n\t\t\t.flatMap((val, idx) => {\n\t\t\t\tconst button = [];\n\t\t\t\tconst numpadKey = (1+idx).toString();\n\t\t\t\tfor (let str = numpadKey; str.length <= val; str += numpadKey) {\n\t\t\t\t\tbutton.push(str);\n\t\t\t\t}\n\t\t\t\treturn button;\n\t\t\t})\n\t\t\t.freeze();\n\t}\n\tObject.freeze(OldCellphone);\n\n\n\t/**\n\t * Values obtained from https://wikipedia.org/wiki/Letter_frequency\n\t */\n\texport const LETTER_FREQUENCY = Object.freeze(<Record<string,number>>JSON.parse(`{\n\t\t\"a\": 8.167, \"b\": 1.492, \"c\": 2.202, \"d\": 4.253,\n\t\t\"e\":12.702, \"f\": 2.228, \"g\": 2.015, \"h\": 6.094,\n\t\t\"i\": 6.966, \"j\": 0.153, \"k\": 1.292, \"l\": 4.025,\n\t\t\"m\": 2.406, \"n\": 6.749, \"o\": 7.507, \"p\": 1.929,\n\t\t\"q\": 0.095, \"r\": 5.987, \"s\": 6.327, \"t\": 9.356,\n\t\t\"u\": 2.758, \"v\": 0.978, \"w\": 2.560, \"x\": 0.150,\n\t\t\"y\": 1.994, \"z\": 0.077\n\t}`));\n\texport const LETTER_FREQUENCY_EXT = Object.freeze(Object.assign(\n\t\t(() => {\n\t\t\tconst freq: Record<string, number> = {\n\t\t\t\t\".\": 65.3, \",\": 61.3, \"\\\"\": 26.7, \"'\": 24.3, \"-\": 15.3,\n\t\t\t\t\"?\": 5.6, \":\": 3.4, \"!\": 3.3, \";\": 3.2,\n\t\t\t};\n\t\t\tfor (let i = 0; i < 10; i++) {\n\t\t\t\tfreq[i.toString()] = 10; // TODO.learn what's a good value to use here?\n\t\t\t}\n\t\t\tlet sum = 0;\n\t\t\tfor (const key in freq) {\n\t\t\t\tsum += freq[key]!;\n\t\t\t}\n\t\t\tfor (const key in freq) {\n\t\t\t\tfreq[key as keyof typeof freq] *= 8 / sum;\n\t\t\t\t// ^ above constant: 8 is between the 3rd and 4th top\n\t\t\t\t// frequencies of alphabet letters in LETTER_FREQUENCY.\n\t\t\t}\n\t\t\treturn freq;\n\t\t})(),\n\t\tLETTER_FREQUENCY,\n\t));\n\n\t/**\n\t */\n\texport namespace Morse {\n\t\t/**\n\t\t * You see letters and numbers and you type sequences of dots and dashes.\n\t\t */\n\t\texport class Encode extends Lang {\n\t\t\tpublic constructor(weightScaling: number) {\n\t\t\t\tsuper(\"mors-enc\", weightScaling);\n\t\t\t}\n\t\t\tpublic static BUILD(): Lang.ForwardDict {\n\t\t\t\tconst dict: Lang.ForwardDict = {};\n\t\t\t\tfor (const [plain,cipher] of Object.entries(Dict).freeze()) {\n\t\t\t\t\tdict[plain] = { seq: cipher, weight: English.LETTER_FREQUENCY_EXT[plain]! };\n\t\t\t\t}\n\t\t\t\treturn dict;\n\t\t\t}\n\t\t}\n\t\tEncode as Lang.ClassIf;\n\t\tObject.freeze(Encode);\n\t\tObject.freeze(Encode.prototype);\n\n\n\t\t/**\n\t\t * You see dots and dashes and you type alphanumeric characters.\n\t\t */\n\t\texport class Decode extends Lang {\n\t\t\tpublic constructor(weightScaling: number) {\n\t\t\t\tsuper(\"mors-dec\", weightScaling);\n\t\t\t}\n\t\t\tpublic static BUILD(): Lang.ForwardDict {\n\t\t\t\tconst dict: Lang.ForwardDict = {};\n\t\t\t\tfor (const [plain,cipher] of Object.entries(Dict).freeze()) {\n\t\t\t\t\tconst morse = cipher.replace(/\\./g,\"•\").replace(/\\-/g,\"−\");\n\t\t\t\t\tdict[morse] = { seq: plain, weight: English.LETTER_FREQUENCY_EXT[plain]! };\n\t\t\t\t}\n\t\t\t\treturn dict;\n\t\t\t}\n\t\t}\n\t\tDecode as Lang.ClassIf;\n\t\tObject.freeze(Decode);\n\t\tObject.freeze(Decode.prototype);\n\n\t\t// Also see https://en.wikipedia.org/wiki/Prosigns_for_Morse_code\n\t\texport const Dict = Object.freeze(<Record<string,string>>JSON.parse(`{\n\t\t\t\"0\": \"-----\", \"5\": \".....\",\n\t\t\t\"1\": \".----\", \"6\": \"-....\",\n\t\t\t\"2\": \"..---\", \"7\": \"--...\",\n\t\t\t\"3\": \"...--\", \"8\": \"---..\",\n\t\t\t\"4\": \"....-\", \"9\": \"----.\",\n\n\t\t\t\"a\": \".-\"   , \"n\": \"-.\"   ,\n\t\t\t\"b\": \"-...\" , \"o\": \"---\"  ,\n\t\t\t\"c\": \"-.-.\" , \"p\": \".--.\" ,\n\t\t\t\"d\": \"-..\"  , \"q\": \"--.-\" ,\n\t\t\t\"e\": \".\"    , \"r\": \".-.\"  ,\n\t\t\t\"f\": \"..-.\" , \"s\": \"...\"  ,\n\t\t\t\"g\": \"--.\"  , \"t\": \"-\"    ,\n\t\t\t\"h\": \"....\" , \"u\": \"..-\"  ,\n\t\t\t\"i\": \"..\"   , \"v\": \"...-\" ,\n\t\t\t\"j\": \".---\" , \"w\": \".--\"  ,\n\t\t\t\"k\": \"-.-\"  , \"x\": \"-..-\" ,\n\t\t\t\"l\": \".-..\" , \"y\": \"-.--\" ,\n\t\t\t\"m\": \"--\"   , \"z\": \"--..\" ,\n\n\t\t\t\".\": \".-.-.-\",\n\t\t\t\",\": \"--..--\",\n\t\t\t\"?\": \"..--..\",\n\t\t\t\"!\": \"-.-.--\",\n\t\t\t\"-\": \"-....-\"\n\t\t}`));\n\t\t// \"/\": \"-..-.\",\n\t\t// \"@\": \".--.-.\",\n\t\t// \"(\": \"-.--.\",\n\t\t// \")\": \"-.--.-\"\n\t}\n\tObject.freeze(Morse);\n}\nObject.freeze(English);"],"sourceRoot":""}